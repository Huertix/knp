<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"Vg4HUlBbGwAHVlFSDgM="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(12),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(13),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,d=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(5),t(4),"addEventListener"in window&&t(3),s.xhrWrappable&&t(6),u=!0)}c.on("fn-start",function(t,e,n){u&&(d+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(14)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],4:[function(t,e,n){var r=t("ee").get("raf"),o=t(14)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],5:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(14)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],6:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,v,"fn-",c)}function i(t){y.push(t),h&&(w=-w,b.data=w)}function a(){for(var t=0;t<y.length;t++)r([],y[t]);y.length&&(y=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(3);var f=t("ee"),u=f.get("xhr"),d=t(14)(u),l=NREUM.o,p=l.XHR,h=l.MO,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],y=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,g),g.prototype=p.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),h){var w=1,b=document.createTextNode(w);new h(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],7:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(8),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(11),h=t(10),m=window.XMLHttpRequest;a.features.xhr=!0,t(6),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],8:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],9:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(12),c=t(13),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit"],d="api-",l=d+"ixn-";a(u,function(t,e){f[e]=o(d+e,!0,"api")}),f.addPageAction=o(d+"addPageAction",!0),f.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(l+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(l+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],10:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],11:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],12:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],13:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],14:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(13),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){l([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){l([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){l([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function l(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!l.aborted){t&&t(n,r,o);for(var i=e(o),a=h(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[g[n]];return f&&f.push([w,n,r,i]),i}}function p(t,e){y[t]=h(t).concat(e)}function h(t){return y[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",g[n]=e,e in u||(u[e]=[])})}var y={},g={},w={on:p,emit:n,get:m,listeners:h,context:e,buffer:v,abort:a,aborted:!1};return w}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var c="nr@context",s=t("gos"),f=t(12),u={},d={},l=e.exports=o();l.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=w.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(y,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=d.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(12),f=t("ee"),u=window,d=u.document,l="addEventListener",p="attachEvent",h=u.XMLHttpRequest,m=h&&h.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:h,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(9);var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-998.min.js"},g=h&&m&&m[l]&&!/CriOS/.test(navigator.userAgent),w=e.exports={offset:a(),origin:v,features:{},xhrWrappable:g};d[l]?(d[l]("DOMContentLoaded",i,!1),u[l]("load",r,!1)):(d[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,7]);</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Functional Testing > Starting in Symfony2: Course 2 (2.4+) | KnpUniversity</title>

                    <link href="../../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/tomorrow-night.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/tomorrow-night.min.css">


        <link rel="stylesheet" href="../../builds/code_block_styles-2d783e385d9dbb1ef88d9053d1b8d675.css">



    <link href="../../builds/video-6b5fa6dfb768239b226d39d08bd4867e.css" rel="stylesheet">

                        <script src="../../bundles/fosjsrouting/js/router.js"></script>

        <script src="../../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../../js/routing?callback=fos.Router.setData"></script>
            

    <script>
        // video settings
        window.video = {
            isCourseChapterPaid: false,
            courseChapterId: 42666
        };

                window.video.nextDetails = {
            'type': 'video',
            'title': 'Up Next: Testing\x20Forms <i class="fa fa-play"></i>',
            'url': '/screencast/symfony2-ep2/testing-forms#play'
        };
            </script>

    <script src="../../builds/video-1dfa89b76a105f9c2d98.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            var hashValue = window.location.hash.substr(1);
            if (hashValue.substr(0, 7) == 'comment') {
                // this is a #comment link - open up the comment tab!
                $('.nav-tabs a[href="#tab-comment"]').click();
            }
        });
    </script>

    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="Over the next hour, we&#039;re going to take you through some of the most difficult areas of Symfony learning all about security, forms, and parts of Doctrine. We&#039;ll also see testing and learn more about how Symfony&#039;s service container works. When you get to the end, you&#039;ll be well on your way to mastering Symfony.

One of the things we&#039;ll be creating is a security system that stores users in the database. This is functionality similar to what&#039;s offered by the very popular FOSUserBundle. That bundle is really great, but until you understand how the security system works, you&#039;re going to run into limitations. Once you do, you&#039;ll feel at home using FOSUserBundle or configuring the security system all on your own.

Highlights:

* Learning and building a form-login security system from scratch
* Loading users from the database
* Using AdvancedUserInterface and UserProviderInterface classes to give us more control over login
* Doctrine Repositories and Querying
* Building forms: creating fields, the data_class option, form type classes
* Form field options &amp; HTML5 validation
* Form rendering
* Functional Testing!

... and of course, tips, tricks, best practices and other little features along the way!
">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="Functional Testing">
<meta property="og:description" content="Over the next hour, we&amp;#039;re going to take you through some of the most difficult areas of Symfony learning all about security, forms, and parts of Doctrine. We&amp;#039;ll also see testing and learn more about how Symfony&amp;#039;s service container works">
<meta property="og:url" content="http://knpuniversity.com/screencast/symfony2-ep2/testing">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/symfony2-ep2:537380612039488d3bf73aecfc55803b67966263/sf2-ep2.png">

<meta name="twitter:card" content="summary">


                            
    </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin navbar-learning-layout">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="testing#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../../tracks.1">Tracks</a></li>
          <li><a href="../../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../../pricing.1">Pricing</a></li>
        <li><a href="../../training">Training</a></li>
                <li class="visible-xs"><a href="../../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../../logout">Sign Out</a></li>

            <li><a href="../../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    




<div class="table-contents-container">
  <div class="container expandList" id="js-chapter-list">
      <button class="table-contents-container-button js-expand-list" data-target="js-chapter-list" title="Chapter List">
          <i class="fa fa-bars"></i>
                        27.
                            Functional Testing
                </button>
      <div class="expandList-body">
          <div class="expandList-bodyInner">
              <h3 class="expandList-header">
                  <a class="course-title-expand" href="../starting-in-symfony2-episode-2-2-1">Starting in Symfony2: Course 2 (2.4+)</a>
              </h3>

                                <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>


              
              <div class="expand-chapter-list">
                      
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item ">
            <a href="intro" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        Introduction
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> :44</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="basic-security" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        Security Fundamentals
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:47</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="authorization-access-control" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        Authorization with Access Control
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:08</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="login-form" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        Creating a Login Form (Part 1)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:46</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="login-form2" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        Creating a Login Form (Part 2)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:57</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="logout" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        Logging Out and Cleaning Up
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:03</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="twig-security-is-authenticated" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        Twig Security and IS_AUTHENTICATED_FULLY
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:41</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="deny-access-controller" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Denying Access: AccessDeniedException
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:23</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="entity-security" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Entity Security
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:32</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="saving-users" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        Saving Users
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:37</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="roles-disabling-user" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        Adding Dynamic Roles to each User
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:56</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="repository" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        Repository Security
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:20</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="query-builder" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                13.
                        Doctrine’s QueryBuilder
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:25</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="user-provider" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                14.
                        The UserProvider: Custom Logic to Load Security Users
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:15</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="user-serialization" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                15.
                        User Serialization
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:16</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="registration-form" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                16.
                        Registration Form
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:11</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-rendering" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                17.
                        Form Rendering
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:38</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="repeated-compound-fields" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                18.
                        Using More Fields: email and repeated
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:31</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-submit" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                19.
                        Handling Form Submissions
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:22</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-data" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                20.
                        Form: Default Data
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:10</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="plain-password" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                21.
                        Cleaning up with a plainPassword Field
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:34</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-type-class" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                22.
                        Using an External Form Type Class
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:40</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="field-options-html5" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                23.
                        Registration Validation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:36</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="registration-validation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                24.
                        Server-Side Validation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:18</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="flash-message" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                25.
                        Adding a Flash Message
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:35</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="auto-login" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                26.
                        Automatically Authenticating after Registration
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> :55</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item chapter-list-item-active">
            <a href="testing" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                27.
                        Functional Testing
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:04</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="testing-forms" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                28.
                        Testing Forms
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:21</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="testing-data" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                29.
                        Controlling Data / Fixtures in a Test
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:23</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="container-doctrine" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                30.
                        More about Container, the “doctrine” Service and the Entity Manager
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:54</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="after-dinner-mint" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                31.
                        After-dinner Mint
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:35</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="role-hierarchies" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                32.
                        Security: Creating Roles and Role Hierarchies
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:50</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="impersonation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                33.
                        Switching Users / Impersonation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:09</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="secure-every-page" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                34.
                        Whitelisting: Securing all Pages, except a few
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:15</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="accessing-security-user" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                35.
                        Accessing the User
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:09</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="remember-me" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                36.
                        Remember Me Functionality
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:44</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
              </div>
          </div>
      </div>
  </div>
  <div>
                <a href="../../pricing/symfony2-ep2" class="btn btn-success pull-right-md download-buy-buttons">Buy <span class="hidden-xs">Access to Course</span></a>
              </div>
</div>


        <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-9 col-lg-10">
                <h1 class="account-header account-header-low-margin-top">Functional Testing</h1>
                    <div style="margin-bottom: 10px;">
        <span class="label label-success">UPGRADE!</span>
        <a href="../symfony/resume">Check out the newest version of this tutorial</a>
    </div>

                                    <p class="hidden-xs">
                        Course:
                        <a class="knp-color-black" href="../starting-in-symfony2-episode-2-2-1"><em>Starting in Symfony2: Course 2 (2.4+) Tutorial</em></a>                    </p>
                            </div>
        </div>

                <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="full-block-container">
                    <div class="frame-padding">
                        <div id="player">
                                                                                <div>
                                                                <div class="row">
                                    <div class="end-show">
                                        <div class="xs-col-12">
                                            <p class="end-show-header">Keep learning!</p>
                                        </div>
                                        <div class="col-xs-12">
                                            <p class="end-show-link"><a href="../../pricing.1" class="btn btn-success btn-md">Start your All Access Pass</a></p>
                                        </div>
                                        <div class="col-xs-12">
                                            <p class="end-show-link text-center"><a href="../buy/collections" class="knp-color-white">Buy just this tutorial for $12.00</a></p>
                                        </div>
                                    </div>
                                </div>
                                                            </div>
                                                </div>
                    </div>
                </div>
            </div>
        </div>
         
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="pull-right">
                                    <a class="btn btn-success"
           href="testing-forms#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                </div>

                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a data-toggle="tab" href="testing#tab-script">Script</a></li>
                    <li><a data-toggle="tab" href="testing#tab-comment">
                        <i class="fa fa-comment-o"></i>
                                                    
                                                        Conversation
                                            </a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="tab-script">
                        <div class="js-script-content-wrapper top-margin-script script-content">
                                                                                        <a href="https://github.com/knpuniversity/symfony2-series/edit/master/knpu/episode2/testing.rst" target="_blank" class="btn btn-default btn-circle pull-right js-tooltip" title="Edit on GitHub"><span class="fa fa-pencil"></span></a>
                                                                    
  <div class="section" id="functional-testing">
<h1>Functional Testing<a class="headerlink" href="testing#functional-testing" title="Permalink to this headline">¶</a></h1>
<p>Our site is looking cool. But how can we be sure that we haven&#8217;t broken anything
along the way? Right now, we can&#8217;t!</p>
<p>Let&#8217;s avoid the future angry phone calls from clients by adding some tests.
There are two main types: unit tests and functional tests. Unit tests test
individual PHP classes. We&#8217;ll save that topic for another screencast. Functional
tests are more like a browser that surfs to pages on your site, fills out
forms and checks for specific things.</p>
<div class="section" id="your-first-functional-test">
<h2>Your First Functional Test<a class="headerlink" href="testing#your-first-functional-test" title="Permalink to this headline">¶</a></h2>
<p>When we generated the <tt class="docutils literal"><span class="pre">EventBundle</span></tt> in the last screencast, it created
2 stub functional tests for us. How nice!</p>
<p>Create a <tt class="docutils literal"><span class="pre">Tests/Controller</span></tt> directory in <tt class="docutils literal"><span class="pre">UserBundle</span></tt>, copy one of the
test files and rename it to <tt class="docutils literal"><span class="pre">RegisterControllerTest</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Yoda/UserBundle/Tests/Controller/RegisterControllerTest.php</span>
<span class="k">namespace</span> <span class="nx">Yoda\UserBundle\Tests\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Test\WebTestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">RegisterControllerTest</span> <span class="k">extends</span> <span class="nx">WebTestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testRegister</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$client</span> <span class="o">=</span> <span class="k">static</span><span class="o">::</span><span class="na">createClient</span><span class="p">();</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Rename the method to <tt class="docutils literal"><span class="pre">testRegister</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Yoda/UserBundle/Tests/Controller/RegisterControllerTest.php</span>
<span class="c1">// ...</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">testRegister</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$client</span> <span class="o">=</span> <span class="k">static</span><span class="o">::</span><span class="na">createClient</span><span class="p">();</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The idea is that each controller, like <tt class="docutils literal"><span class="pre">RegisterController</span></tt> will have its
own test class, like <tt class="docutils literal"><span class="pre">RegisterControllerTest</span></tt>. Then, each action method,
like <tt class="docutils literal"><span class="pre">registerAction</span></tt>, will have its own test method, like <tt class="docutils literal"><span class="pre">testRegister</span></tt>.
There&#8217;s no technical reason you need to organize things like this. The only
rule is that you need to start each method with the word &#8220;test&#8221;.</p>
</div>
<div class="section" id="using-the-client-object">
<h2>Using the Client object<a class="headerlink" href="testing#using-the-client-object" title="Permalink to this headline">¶</a></h2>
<p>That <tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/2.4/Symfony/Bundle/FrameworkBundle/Client.html" title="Symfony\Bundle\FrameworkBundle\Client"><span class="pre">$client</span></a></tt> variable
is like a browser that we can use to surf to pages on our site. Start small
by testing that the <tt class="docutils literal"><span class="pre">/register</span></tt> page returns a 200 status code and that
the word &#8220;Register&#8221; appears somewhere:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">testRegister</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$client</span> <span class="o">=</span> <span class="k">static</span><span class="o">::</span><span class="na">createClient</span><span class="p">();</span>

    <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;/register&#39;</span><span class="p">);</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getStatusCode</span><span class="p">());</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="s1">&#39;Register&#39;</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getContent</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">assertEquals</span></tt> and <tt class="docutils literal"><span class="pre">assertContains</span></tt> methods come from PHPUnit, the
library that will actually run the test.</p>
</div>
<div class="section" id="installing-phpunit">
<h2>Installing PHPUnit<a class="headerlink" href="testing#installing-phpunit" title="Permalink to this headline">¶</a></h2>
<p>To run the test, we need PHPUnit: the de-facto tool for testing. You
can install it globally or locally in this project via Composer. For the
global option, check out their docs.</p>
<p>Let&#8217;s use Composer&#8217;s <tt class="docutils literal"><span class="pre">require</span></tt> command and search for phpunit:</p>
<div class="highlight-bash"><div class="highlight"><pre>php composer.phar require
</pre></div>
</div>
<p>Choose the <tt class="docutils literal"><span class="pre">phpunit/phpunit</span></tt> result. For a version, I&#8217;ll go to <a class="reference external" href="https://packagist.org/">packagist.org</a>
and find the library. Right now, it looks like the latest version is <tt class="docutils literal"><span class="pre">4.1.3</span></tt>.
I&#8217;ll use the constraint <tt class="docutils literal"><span class="pre">~4.1</span></tt>, which basically means 4.1 or higher.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Want to know more about the ~ version constraint? Read <a class="reference external" href="https://getcomposer.org/doc/articles/versions.md#next-significant-release-operators">Next Significant Release</a>
on Composer&#8217;s website.</p>
</div>
<p>This added <tt class="docutils literal"><span class="pre">phpunit/phpunit</span></tt> to the <tt class="docutils literal"><span class="pre">require</span></tt> key in <tt class="docutils literal"><span class="pre">composer.json</span></tt>
and it ran the <tt class="docutils literal"><span class="pre">update</span></tt> command in the background to download it.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Since PHPUnit isn&#8217;t actually needed to make our site work (it&#8217;s only
needed to run the tests), it would be even better to put it in the
<tt class="docutils literal"><span class="pre">require-dev</span></tt> key of <tt class="docutils literal"><span class="pre">composer.json</span></tt>. Search for <tt class="docutils literal"><span class="pre">require-dev</span></tt>
on <a class="reference external" href="http://daylerees.com/composer-primer">this post</a> for more details.</p>
</div>
</div>
<div class="section" id="running-the-tests">
<h2>Running the Tests<a class="headerlink" href="testing#running-the-tests" title="Permalink to this headline">¶</a></h2>
<p>We now have a <tt class="docutils literal"><span class="pre">bin/phpunit</span></tt> executable, so let&#8217;s use it! Pass it a <tt class="docutils literal"><span class="pre">-c</span> <span class="pre">app</span></tt>
option:</p>
<div class="highlight-bash"><div class="highlight"><pre>php bin/phpunit -c app
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>If you&#8217;re on Windows (or a VM running in Windows), the above command
won&#8217;t work for you (it&#8217;ll just spit out some text). Instead, run:</p>
<div class="last highlight-bash"><div class="highlight"><pre>bin<span class="se">\p</span>hpunit -c app
</pre></div>
</div>
</div>
<p>This tells PHPUnit to look for a configuration file in the <tt class="docutils literal"><span class="pre">app/</span></tt> directory.
And hey! There&#8217;s a <tt class="docutils literal"><span class="pre">phpunit.xml.dist</span></tt> file there already for it to read. This
tells phpunit how to bootstrap and where to find our tests.</p>
<p>But we see a few errors. If you look closely, you&#8217;ll see that it&#8217;s executing
the two test files that were generated automatically in <tt class="docutils literal"><span class="pre">EventBundle</span></tt>.
Git rid of these troublemakers and try again:</p>
<div class="highlight-bash"><div class="highlight"><pre>rm src/Yoda/EventBundle/Tests/Controller/*Test.php
php bin/phpunit -c app
</pre></div>
</div>
<p>Green! PHPUnit runs our test, where we make a request to <tt class="docutils literal"><span class="pre">/register</span></tt> and
check the status code and look for the word &#8220;Register&#8221;.</p>
<p>To see what a failed test looks like, change the test to check for Ackbar instead
of Resgister and re-run it:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="s1">&#39;Ackbar&#39;</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getContent</span><span class="p">());</span>
</pre></div>
</div>
<p>It doesn&#8217;t find it, but it does print out the page&#8217;s content, which we could
use to debug. It&#8217;s a trap! Change the test back to look for <tt class="docutils literal"><span class="pre">Register</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="s1">&#39;Register&#39;</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getContent</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="section" id="traversing-the-dom-with-the-crawler">
<h2>Traversing the Dom with the Crawler<a class="headerlink" href="testing#traversing-the-dom-with-the-crawler" title="Permalink to this headline">¶</a></h2>
<p>When we call the <tt class="docutils literal"><span class="pre">request()</span></tt> function, it returns a
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/2.4/Symfony/Component/DomCrawler/Crawler.html" title="Symfony\Component\DomCrawler\Crawler"><span class="pre">Crawler</span></a></tt> object, which works
a lot like the jQuery object in JavaScript. For example, to find the value
of the username field, we can search by its <tt class="docutils literal"><span class="pre">id</span></tt> and use the <tt class="docutils literal"><span class="pre">attr</span></tt> function.
It should be equal to &#8220;Leia&#8221;:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">testRegister</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$client</span> <span class="o">=</span> <span class="k">static</span><span class="o">::</span><span class="na">createClient</span><span class="p">();</span>

    <span class="nv">$crawler</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;/register&#39;</span><span class="p">);</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getStatusCode</span><span class="p">());</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="s1">&#39;Register&#39;</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getContent</span><span class="p">());</span>

    <span class="nv">$usernameVal</span> <span class="o">=</span> <span class="nv">$crawler</span>
        <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;#user_register_username&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">attr</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
    <span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="s1">&#39;Leia&#39;</span><span class="p">,</span> <span class="nv">$usernameVal</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Re-run the test to see the result:</p>
<div class="highlight-bash"><div class="highlight"><pre>php bin/phpunit -c app
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">To see everything about the crawler, check out <a class="reference external" href="http://bit.ly/sf2-crawler">The DomCrawler Component</a>.</p>
</div>
</div>
</div>


    
                        </div>
                    </div>
                    <div class="tab-pane" id="tab-comment">
                        <h3>Leave a comment!</h3>
                                                        <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2953500136" id="dsq-comment-2953500136">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2953500136">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-16</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2953500136" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2953500136" class="dsq-comment-text">
	                                <p>Awesome! And I just added a link to it down in our tip for this section :) - <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Frest%2Ftesting%23how-behat-works%3ASEXbhF00uh9nQRiOZN0rTdxIg4o&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a> - I'm sure it will be useful for others!</p><p>Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2953333156" id="dsq-comment-2953333156">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_TpYLfmqdqZ/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/13756/7661/avatar92.jpg?1477237174">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2953333156">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-16</span>
	                            <span class="dsq-commenter-name">Johan</span>
	                        </div>

	                        <div id="dsq-comment-message-2953333156" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2953333156" class="dsq-comment-text">
	                                <p>I think I added most of the features now. I haven't tested all of them yet but I will fix bugs as I encounter them.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2952459164" id="dsq-comment-2952459164">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_TpYLfmqdqZ/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/13756/7661/avatar92.jpg?1477237174">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2952459164">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-15</span>
	                            <span class="dsq-commenter-name">Johan</span>
	                        </div>

	                        <div id="dsq-comment-message-2952459164" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2952459164" class="dsq-comment-text">
	                                <p>I decided to just begin rewriting the file using the latest version of Guzzle (6.2) and Behat (3.2). I will be moving and rewriting the functions as I need them.</p><p>I set up a git repository for it if you would be interested: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fthejager%2Fbehat-api-feature-context%3ApEsB_Jzk4qJJX0EBCPMj0-OMI0I&amp;cuid=1175718" rel="nofollow noopener">https://github.com/thejager/be...</a></p><p>Thanks :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2952419994" id="dsq-comment-2952419994">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2952419994">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-15</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2952419994" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2952419994" class="dsq-comment-text">
	                                <p>Hey Johan!</p><p>There's not currently an updated version of ApiFeatureContext. There are two major version things that are important if you wanted to use it with the latest and greatest:</p><p>1) The version of Guzzle - it's 3.7 in this project and the latest is 6.0. That would require a good number of changes. However, in our Symfony REST tutorial, the first episodes use Guzzle 3.7 and the later ones use Guzzle 6. You can see the differences by comparing the ApiTestCase in episode 1 (<a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fsymfony-rest%29%3Awl_17Xl09B-g5e-ygbSJt_OjpVY&amp;cuid=1175718" rel="nofollow noopener">knpuniversity.com/screencast/s...</a> with episode 4 (<a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fsymfony-rest4%29%3AcD6zlvqK6FgQr8vXcIoTN8uh12Y&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a>.</p><p>2) The version of Behat is 2.5 in the tutorial and the latest is 3. This is really not a huge upgrade (and we have a Behat v2.5 tutorial here and a Behat v3 tutorial) and there are some details here: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2FBehat%2FBehat%2Fissues%2F799%3AUxWOyoc0HfUX7mY34b49ODWigGA&amp;cuid=1175718" rel="nofollow noopener">https://github.com/Behat/Behat...</a></p><p>We don't have plans right now to upgrade this tutorial to the latest stuff, but if you're interested in trying to upgrade the ApiFeatureContext class for the latest version of these libraries, I'd be very happy to help answer any questions or help you debug any errors you have. Ultimately, I think this would be helpful to others as well.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2952333452" id="dsq-comment-2952333452">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_TpYLfmqdqZ/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/13756/7661/avatar92.jpg?1477237174">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2952333452">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-15</span>
	                            <span class="dsq-commenter-name">Johan</span>
	                        </div>

	                        <div id="dsq-comment-message-2952333452" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2952333452" class="dsq-comment-text">
	                                <p>Is there a (maintained) composer package for this ApiFeatureContext class? I tried to integrate this into my new symfony 3 project and it gives tons of errors. I want to use it :(</p><p>I tried two other behat API extension packages but they don't seem nearly as complete.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2621627758" id="dsq-comment-2621627758">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2621627758">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-13</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2621627758" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2621627758" class="dsq-comment-text">
	                                <p>Ah, I'm glad you posted this! The hardcoding is done on purpose. Part of what you are testing is that the URL to your page is /register. If that ever changed, you *would* want your tests to fail (perhaps you accidentally changed the URL of the route). Not everyone does this, but generally speaking, it is the best practice to hard code URLs in your test.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2615170165" id="dsq-comment-2615170165">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_BjwOszs9fu/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11758/3765/avatar92.jpg?1472495598">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2615170165">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-09</span>
	                            <span class="dsq-commenter-name">Ленур</span>
	                        </div>

	                        <div id="dsq-comment-message-2615170165" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2615170165" class="dsq-comment-text">
	                                <p>$client-&gt;request('GET', '/register'); - this is hard code.<br>I use $this-&gt;parameters-&gt;get('router')-&gt;generate($route, $params) - where $route - route name, $params - params to route.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2534599747" id="dsq-comment-2534599747">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2534599747">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-02-25</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2534599747" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2534599747" class="dsq-comment-text">
	                                <p>Hey Matt!</p><p>Try just: vendor/bin/behat</p><p>So, *without* the php part. That's the correct way to do it in Windows - I should have used that more portable format for this tutorial and we use that in newer ones. That should work for you :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2532328316" id="dsq-comment-2532328316">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="testing">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2532328316">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-02-24</span>
	                            <span class="dsq-commenter-name">matt</span>
	                        </div>

	                        <div id="dsq-comment-message-2532328316" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2532328316" class="dsq-comment-text">
	                                <p>when i type php vendor/bin/behat it just prints out the behat file</p><p>dir=$(d=${0%[/\\]*}; cd "$d"; cd "../behat/behat/bin" &amp;&amp; pwd)</p><p># See if we are running in Cygwin by checking for cygpath program</p><p>if command -v 'cygpath' &gt;/dev/null 2&gt;&amp;1; then</p><p>        # Cygwin paths start with /cygdrive/ which will break windows PHP,</p><p>        # so we need to translate the dir path to windows format. However</p><p>        # we could be using cygwin PHP which does not require this, so we</p><p>        # test if the path to PHP starts with /cygdrive/ rather than /usr/bin</p><p>        if [[ $(which php) == /cygdrive/* ]]; then</p><p>                dir=$(cygpath -m $dir);</p><p>        fi</p><p>fi</p><p>dir=$(echo $dir | sed 's/ /\ /g')</p><p>"${dir}/behat" "$@"</p><p>Anyone have any idea why? it does the same for phpunit</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2512408794" id="dsq-comment-2512408794">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/arturasalfredaslapiskas/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/19230/9172/avatar92.jpg?1453289789">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2512408794">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-02-14</span>
	                            <span class="dsq-commenter-name">Arturas Lapiskas</span>
	                        </div>

	                        <div id="dsq-comment-message-2512408794" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2512408794" class="dsq-comment-text">
	                                <p>i have problems running phpunit on windows, to run you must enter command without php in front:<br>cd bin<br>phpunit -c ../app/</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2246109963" id="dsq-comment-2246109963">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2246109963">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-10</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2246109963" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2246109963" class="dsq-comment-text">
	                                <p>Fixed at <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fknpuniversity%2Fsymfony2-series%2Fcommit%2F3c80df2412986d86054cdc47fbf7368cfb5ff590%3Ai5T38IWhMP1ADysGtQiI4yYDv0M&amp;cuid=1175718" rel="nofollow noopener">https://github.com/knpuniversi...</a>. Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2246094977" id="dsq-comment-2246094977">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="testing">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2246094977">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-10</span>
	                            <span class="dsq-commenter-name">guest</span>
	                        </div>

	                        <div id="dsq-comment-message-2246094977" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2246094977" class="dsq-comment-text">
	                                <p>still typo here<br>// src/Yoda/UserBundle/Tests/Controller/RegisterControllerTest.php<br>namespace Yoda\EventBundle\Tests\Controller;</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2128208790" id="dsq-comment-2128208790">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="testing">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2128208790">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-10</span>
	                            <span class="dsq-commenter-name">guest</span>
	                        </div>

	                        <div id="dsq-comment-message-2128208790" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2128208790" class="dsq-comment-text">
	                                <p>namespace Yoda\UserBundle\Tests\Controller;</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_video_testing';var disqus_url = 'https://knpuniversity.com/screencast/rest/testing';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                                            </div>
                    <div class="pull-left-xs pull-right-md">
                                        <a class="btn btn-success"
           href="testing-forms#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                    </div>
                    <div class="pull-left addthis-module">
                        
    <div class="addthis_toolbox addthis_default_style js-analytics-addthis-wrapper addthis_32x32_style" addthis:url="http://knpuniversity.com/screencast/symfony2-ep2/testing" addthis:title="Starting in Symfony2: Course 2 (2.4+)">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../about">About</a></li>
                            <li><a class="knp-color-black" href="../../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
            <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_chapter',
            {"course":"symfony2-ep2","courseIsOwned":false,"chapter":"Functional Testing","chapterNumber":27,"chapterIsFree":false}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../../assets/vendor/jquery-sticky/jquery.sticky.js"></script>
    <script type="text/javascript" src="../../assets/vendor/zeroclipboard/dist/ZeroClipboard.min.js"></script>
    <script type="text/javascript" src="../../js/CodeBlocks.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/underscore.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/doctools.js"></script>

    <script>
        Core.courseTitle = 'Starting in Symfony2: Course 2 (2.4+)';
        Core.courseId = 39
        Core.courseIsOwned = false;
        Core.courseSlug = 'symfony2-ep2';
                    Core.chapterTitle = 'Functional Testing';
            Core.chapterNumber = 27;
            Core.chapterIsFree = false;
            Core.chapterSlug = 'testing';
        
                var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '1.0.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };

        jQuery(document).ready(function() {
            // Stick left sidebar menu
            $('.js-sticker').sticky();

            var $scriptWrapper = $('.js-script-content-wrapper');
            var codeBlocks = new Core.CodeBlocks($scriptWrapper);

            var expandList = $('.js-expand-list');

            expandList.on('click', function(){
                var target = $(this).data('target');
                var $expandArea = $('#' + target);
                $expandArea.toggleClass('expanded');

                // http://stackoverflow.com/questions/2868582/click-outside-menu-to-close-in-jquery
                $(document).one('click', function closeExpandList (e){
                    if($expandArea.has(e.target).length === 0){
                        $expandArea.removeClass('expanded');
                    } else {
                        $(document).one('click', closeExpandList);
                    }
                });
            });
        });
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>



    <script type="text/javascript">
    var addthis_share = {
        templates: {
            twitter: '{{title}} - {{url}} | via @KnpUniversity'
        }
    }
</script>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=weaverryan"></script>

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"b4d8035b34","applicationID":"3720092","transactionName":"MgEBMkZVXBFXBRENWwtLIgVAXV0MGQ0LFGsQCgoQUUZBC0IfOgdbEBYQA2tHWg1B","queueTime":0,"applicationTime":374,"atts":"HkYCRA5PTx8=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
