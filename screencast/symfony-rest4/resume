<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"Vg4HUlBbGwAHVlFSDgM="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(12),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(13),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,d=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(5),t(4),"addEventListener"in window&&t(3),s.xhrWrappable&&t(6),u=!0)}c.on("fn-start",function(t,e,n){u&&(d+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(14)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],4:[function(t,e,n){var r=t("ee").get("raf"),o=t(14)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],5:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(14)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],6:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,v,"fn-",c)}function i(t){y.push(t),h&&(w=-w,b.data=w)}function a(){for(var t=0;t<y.length;t++)r([],y[t]);y.length&&(y=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(3);var f=t("ee"),u=f.get("xhr"),d=t(14)(u),l=NREUM.o,p=l.XHR,h=l.MO,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],y=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,g),g.prototype=p.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),h){var w=1,b=document.createTextNode(w);new h(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],7:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(8),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(11),h=t(10),m=window.XMLHttpRequest;a.features.xhr=!0,t(6),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],8:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],9:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(12),c=t(13),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit"],d="api-",l=d+"ixn-";a(u,function(t,e){f[e]=o(d+e,!0,"api")}),f.addPageAction=o(d+"addPageAction",!0),f.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(l+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(l+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],10:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],11:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],12:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],13:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],14:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(13),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){l([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){l([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){l([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function l(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!l.aborted){t&&t(n,r,o);for(var i=e(o),a=h(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[g[n]];return f&&f.push([w,n,r,i]),i}}function p(t,e){y[t]=h(t).concat(e)}function h(t){return y[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",g[n]=e,e in u||(u[e]=[])})}var y={},g={},w={on:p,emit:n,get:m,listeners:h,context:e,buffer:v,abort:a,aborted:!1};return w}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var c="nr@context",s=t("gos"),f=t(12),u={},d={},l=e.exports=o();l.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=w.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(y,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=d.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(12),f=t("ee"),u=window,d=u.document,l="addEventListener",p="attachEvent",h=u.XMLHttpRequest,m=h&&h.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:h,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(9);var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-998.min.js"},g=h&&m&&m[l]&&!/CriOS/.test(navigator.userAgent),w=e.exports={offset:a(),origin:v,features:{},xhrWrappable:g};d[l]?(d[l]("DOMContentLoaded",i,!1),u[l]("load",r,!1)):(d[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,7]);</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Symfony RESTful API: Authentication with JWT (Course 4) Video Tutorial Screencast | KnpUniversity</title>

            <link href="../../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    
                    <script src="../../bundles/fosjsrouting/js/router.js"></script>

        <script src="../../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../../js/routing?callback=fos.Router.setData"></script>
            
    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="PHP and Symfony Tutorial Screencasts - with free videos, scripts, and code downloads!">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="Symfony RESTful API: Authentication with JWT (Course 4) Video Tutorial Screencast">
<meta property="og:description" content="After 3 tutorials, we&#039;ve got a nice API, But we&#039;ve been completely ignoring
authentication. Thanks to some modern tools, this will be such a treat:

Understanding JSON web tokens (JWT)
Creating, signing &amp;amp; returning JWT&#039;s
Using Guard for a custom JWT authentication system
Sending tokens on the Authorization header
Proper API errors for invalid credentials and missing credentials
Choosing to split into 2 firewalls

">
<meta property="og:url" content="http://knpuniversity.com/screencast/symfony-rest4">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/symfony-rest4:a02aa0586187260128f0fe96d5d73ee470f3684c/rest-sf-4.png">

<meta name="twitter:card" content="summary">


            </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin ">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="resume#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../../tracks.1">Tracks</a></li>
          <li><a href="../../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../../pricing.1">Pricing</a></li>
        <li><a href="../../training">Training</a></li>
                <li class="visible-xs"><a href="../../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../../logout">Sign Out</a></li>

            <li><a href="../../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    





<div class="tut-hero" style="background-color: #4CACDB;">
<div class="arrow-right"  style="border-left-color: #3F85AA;"></div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-8">
                <h1 class="knp-color-white tuts-header-font tuts-header-font-tutorial-overview">Symfony RESTful API: Authentication with JWT (Course 4)</h1>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4">
                <section class="extra-margin-buttons" id="course-subscription-wrapper">
                                                                                                
                        <a href="deny-access#play" class="btn btn-success">
                            <i class="fa fa-play-circle-o"></i>
                            Play Tutorial
                        </a>
                    
                                            <a href="../../pricing/symfony-rest4"  class="btn btn-success">
                            <i class="fa fa-shopping-cart"></i> Add to Cart
                        </a>
                                    </section>
                <section class="tuts-sub-header tuts-sub-header-tutorial-overview">
                                                        </section>
            </div>
        </div>
    </div>
</div>

    <div class="container">
        <div class="row">
                        <div class="col-xs-12 col-sm-6">
                <h3 class="course-header-extra-margin account-header course-overview-header">Chapters</h3>

                                
                <div class="tut-overview-list">
                                                                    <h4>
                            You're <span class="course-overview-progress">0%</span> through this course
                                                            - get started!
                                                    </h4>
                            <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>

                    
                    
                        
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item ">
            <a href="deny-access" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        Start Securing the App!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:20</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="json-web-token" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        JSON Web Tokens (are awesome)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:35</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="lexikjwt-authentication-bundle" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        LexikJWTAuthenticationBundle
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:54</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="token-test" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        The &quot;Fetch a Token&quot; Endpoint Test
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:09</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="create-json-web-token" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        Create a Shiny JSON Web Token
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:53</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="send-token-in-request" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        Authenticate a Request with JWT
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:18</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="jwt-guard-authenticator" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        JWT Guard Authenticator (Part 1)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:39</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="authenticator-comes-to-life" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Registering the Authenticator (Part 2)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:12</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="always-require-auth" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Lock down: Require Authentication Everywhere
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:09</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="entry-point-multiple-firewalls" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        The &quot;Entry Point&quot; &amp; Multiple Firewalls
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:16</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="auth-api-problem" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        JSON Errors in your API
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:15</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="centralize-error-response" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        ResponseFactory: Centralize Error Responses
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:36</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="handling-invalid-token" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                13.
                        Graceful Errors for an Invalid JWT
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:20</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="jwt-other-things" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                14.
                        JWT: Other Things to Think about
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:40</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-6">
                                                    <h3 class="course-header-extra-margin account-header course-overview-header">What you'll be learning</h3>
                
                

                <div class="course-overview summary"><p>After 3 tutorials, we've got a nice API, But we've been completely ignoring
authentication. Thanks to some modern tools, this will be <em>such</em> a treat:</p>
<ul>
<li>Understanding JSON web tokens (JWT)</li>
<li>Creating, signing &amp; returning JWT's</li>
<li>Using Guard for a custom JWT authentication system</li>
<li>Sending tokens on the Authorization header</li>
<li>Proper API errors for invalid credentials and missing credentials</li>
<li>Choosing to split into 2 firewalls</li>
</ul>
</div>

                                    <div class="related-courses">
                        <h3 class="course-header-extra-margin account-header">
                            Go through <em>all</em> the courses in
                            <a href="../tag/symfony#rest">Symfony 3: REST</a>!
                        </h3>
                        <ol>
                                                            <li>
                                    <a href="../symfony-rest/resume">
                                        <img class="img-circle related-courses-img" src="../../imagine/course_tiles_outbound/uploads/screencast/symfony-rest:a5dc486f568b17f2957f648b5f78a465396f48e4/rest-sf.png">Symfony RESTful API: Course 1
                                    </a>
                                </li>
                                                            <li>
                                    <a href="../symfony-rest2/resume">
                                        <img class="img-circle related-courses-img" src="../../imagine/course_tiles_outbound/uploads/screencast/symfony-rest2:177607b4737e1b8635c939e9ae48c38bfcda9c68/rest-ep2.png">Symfony RESTful API: Errors (Course 2)
                                    </a>
                                </li>
                                                            <li>
                                    <a href="../symfony-rest3/resume">
                                        <img class="img-circle related-courses-img" src="../../imagine/course_tiles_outbound/uploads/screencast/symfony-rest3:e0d65b609e02b36d300aaa84fb8e0124038c2420/rest-sf-3.png">Symfony RESTful API: Basics++ (Course 3)
                                    </a>
                                </li>
                                                            <li>
                                    <a href="resume">
                                        <img class="img-circle related-courses-img" src="../../imagine/course_tiles_outbound/uploads/screencast/symfony-rest4:a02aa0586187260128f0fe96d5d73ee470f3684c/rest-sf-4.png">Symfony RESTful API: Authentication with JWT (Course 4)
                                    </a>
                                </li>
                                                            <li>
                                    <a href="../symfony-rest5/resume">
                                        <img class="img-circle related-courses-img" src="../../imagine/course_tiles_outbound/uploads/screencast/symfony-rest5:e0d65b609e02b36d300aaa84fb8e0124038c2420/rest-sf-5.png">Symfony RESTful API: Hypermedia, Links &amp; Bonuses (Course 5)
                                    </a>
                                </li>
                                                    </ol>
                    </div>
                
                <div>
                    <hr>
                    <h3>Your Guides</h3>
                                            <a href="https://github.com/weaverryan" target="_blank">
                            <img title="Ryan Weaver" data-placement="bottom" class="img-circle contrib-img js-tooltip" src="https://avatars.githubusercontent.com/u/121003?v=3&amp;s=200" alt="Ryan Weaver">
                        </a>
                                            <a href="https://github.com/Leannapelham" target="_blank">
                            <img title="Leanna Pelham" data-placement="bottom" class="img-circle contrib-img js-tooltip" src="https://avatars.githubusercontent.com/u/777948?v=3&amp;s=200" alt="Leanna Pelham">
                        </a>
                                    </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <h3>Questions? Conversation?</h3>
                                                            <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2889792487" id="dsq-comment-2889792487">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2889792487">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-12</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2889792487" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2889792487" class="dsq-comment-text">
	                                <p>Sweeet! Great job! :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2883843697" id="dsq-comment-2883843697">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/fredrsf/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20864/2829/avatar92.jpg?1473398494">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2883843697">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-09</span>
	                            <span class="dsq-commenter-name">fredrsf</span>
	                        </div>

	                        <div id="dsq-comment-message-2883843697" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2883843697" class="dsq-comment-text">
	                                <p>Hi <a data-dsq-mention="weaverryan:disqus" href="https://disqus.com/by/weaverryan/" rel="nofollow noopener">weaverryan</a> ! I build some SPA application with rest api (symfony) + reactjs. This thoughts appeared after I saw this slides <a href="http://disq.us/url?url=http%3A%2F%2Fwww.slideshare.net%2Fweaverryan%2Ffinally-professional-frontend-dev-with-reactjs-webpack-symfony-symfony-cat-2016%3AtwJVWewpXmMH9x168FHuKRGSI6s&amp;cuid=1175718" rel="nofollow noopener">http://www.slideshare.net/weav...</a>. Thank your team! And now your answer very helped me, I set stateless on true and used your links for invalidate jwt keys. Thank your!!!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2870912131" id="dsq-comment-2870912131">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2870912131">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-01</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2870912131" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2870912131" class="dsq-comment-text">
	                                <p>Hi <a data-dsq-mention="fredrsf:disqus" href="https://disqus.com/by/fredrsf/" rel="nofollow noopener">fredrsf</a>!</p><p>So, "logging out" with JWT can be tricky. The reason is that - in a true API - your authentication is "stateless" - i.e. there is no "logout" - either you send a valid token in the request to authenticate, or you don't, and you're not authenticated :). If you had an iPhone app that used your API and you wanted to "logout", this could be as simple as making the iPhone app "forget" the token, so that authenticated requests can no longer be made.</p><p>But, there are two problems. By design, JWT's are not meant to be invalidated. So, even if you make your iPhone app (or JavaScript) "forget" the JWT, it's still technically valid until it expires. If you want to actually *invalidate* the JWT, you need to do a bit more work. Here's an interesting SO about this: <a href="http://disq.us/url?url=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F28759590%2Fbest-practices-to-invalidate-jwt-while-changing-passwords-and-logout-in-node-js%3Ahg2wjZpdWpeKVPValuFNrkihlE8&amp;cuid=1175718" rel="nofollow noopener">http://stackoverflow.com/quest...</a>.</p><p>The second problem is what you're talking about: it sounds like you're using JWT from JavaScript. And it also sounds like your firewall is "stateful" (the default setting), which means that your session is being stored in a cookie. In this setup, you're AJAX calls are authenticated for *two* reasons: (A) because you're sending a JWT and (B) because after logging in once with your JWT, Symfony "remembers" that you're logged in via a cookie.</p><p>There are two ways to fix this. Since you're using JWT to authenticate, the best solution is to use a separate firewall for your API endpoints and set "stateless: true" on that firewall, so that nothing is stored in the session/cookie. This makes your API authentication stateless, as it should be.</p><p>Otherwise, when you "logout", you'll need to either hit the "/logout" endpoint (e.g. via AJAX) or hit some endpoint and programmatically logout the user (<a href="http://disq.us/url?url=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F6464754%2Fsymfony2-how-to-log-user-out-manually-in-controller%29%3AaE1n0II7_YHaboHTD5V4rosm3bc&amp;cuid=1175718" rel="nofollow noopener">http://stackoverflow.com/quest...</a>.</p><p>Let me know if this helps! Often, if I'm making an API *only* so that I can consume it via *my* JavaScript, I won't bother with JWT, and I'll just allow the user to login normally and use sessions. That's another option. But using sessions *and* JWT can making logging out a little weird :)</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2869152755" id="dsq-comment-2869152755">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/fredrsf/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20864/2829/avatar92.jpg?1473398494">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2869152755">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-31</span>
	                            <span class="dsq-commenter-name">fredrsf</span>
	                        </div>

	                        <div id="dsq-comment-message-2869152755" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2869152755" class="dsq-comment-text">
	                                <p>Hello, how I can to make logout action with JWT? I remove token from localStorage object, but PHPSESSID exists.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2664053777" id="dsq-comment-2664053777">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2664053777">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-07</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2664053777" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2664053777" class="dsq-comment-text">
	                                <p>Thanks Vincent  - really happy you enjoyed them! Course 5 is scheduled for May (this month) - it's in the final editing stages (we were aiming for next week, but might not be until the week after).</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2661074521" id="dsq-comment-2661074521">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_In5PITaduy/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2661074521">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-06</span>
	                            <span class="dsq-commenter-name">Vincent Wong</span>
	                        </div>

	                        <div id="dsq-comment-message-2661074521" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2661074521" class="dsq-comment-text">
	                                <p>Awesome course, I enjoyed them so much, any update on the release schedule for course 5?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2645114327" id="dsq-comment-2645114327">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/tahminakhatoon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/12191/195/avatar92.jpg?1461749868">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2645114327">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-27</span>
	                            <span class="dsq-commenter-name">Tahmina Khatoon</span>
	                        </div>

	                        <div id="dsq-comment-message-2645114327" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2645114327" class="dsq-comment-text">
	                                <p>Awesome, finally it has started to publish.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2644618897" id="dsq-comment-2644618897">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/chen_dong/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2644618897">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-27</span>
	                            <span class="dsq-commenter-name">Chen Dong</span>
	                        </div>

	                        <div id="dsq-comment-message-2644618897" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2644618897" class="dsq-comment-text">
	                                <p>Wow!!!!! It's being so long~ Thanks for the updates!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2640365215" id="dsq-comment-2640365215">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2640365215">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-24</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2640365215" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2640365215" class="dsq-comment-text">
	                                <p>This week :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2638396015" id="dsq-comment-2638396015">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/tahminakhatoon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/12191/195/avatar92.jpg?1461749868">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2638396015">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-23</span>
	                            <span class="dsq-commenter-name">Tahmina Khatoon</span>
	                        </div>

	                        <div id="dsq-comment-message-2638396015" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2638396015" class="dsq-comment-text">
	                                <p>Next approximate date please, I am just waiting for this one from last year ...</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2479124425" id="dsq-comment-2479124425">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2479124425">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-26</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2479124425" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2479124425" class="dsq-comment-text">
	                                <p>Episode 3 is in the final stages of editing right now. I have not yet started on this one - so it's likely still 1 month away or longer. You can click at the top of the page and we'll message you when it's ready. We'll do our best to make it sooner! And due to some authentication changes in Symfony (Guard), this will be an *awesome* tutorial :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2472420790" id="dsq-comment-2472420790">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="resume">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2472420790">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-22</span>
	                            <span class="dsq-commenter-name">Rafael</span>
	                        </div>

	                        <div id="dsq-comment-message-2472420790" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2472420790" class="dsq-comment-text">
	                                <p>Any updates?!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2334366753" id="dsq-comment-2334366753">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="resume">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2334366753">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-30</span>
	                            <span class="dsq-commenter-name">Rasel Khan</span>
	                        </div>

	                        <div id="dsq-comment-message-2334366753" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2334366753" class="dsq-comment-text">
	                                <p>Hey , When i'll got this tuts, I need urgent !!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2314831611" id="dsq-comment-2314831611">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2314831611">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-19</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2314831611" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2314831611" class="dsq-comment-text">
	                                <p>Hey! We'll get this released as soon as possible, but it won't be until at least November! Until then, check out <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fguard%2Fapi-token%3A884UIveC4UzpfkG5sFKjsE6Cqnw&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a> and <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Frest-ep2%3AtDpQ3r4vFrwxRL7GGz0OU14khYo&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a>.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2314467519" id="dsq-comment-2314467519">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/tahminakhatoon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/12191/195/avatar92.jpg?1461749868">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2314467519">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-19</span>
	                            <span class="dsq-commenter-name">Tahmina Khatoon</span>
	                        </div>

	                        <div id="dsq-comment-message-2314467519" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2314467519" class="dsq-comment-text">
	                                <p>October is running out, I am also waiting for this tutorial.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2301249366" id="dsq-comment-2301249366">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mariuspuiu/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/16768/6954/avatar92.jpg?1457947447">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2301249366">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-11</span>
	                            <span class="dsq-commenter-name">Marius Puiu</span>
	                        </div>

	                        <div id="dsq-comment-message-2301249366" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2301249366" class="dsq-comment-text">
	                                <p>Daily F5 press :D</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2205068507" id="dsq-comment-2205068507">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2205068507">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-20</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2205068507" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2205068507" class="dsq-comment-text">
	                                <p>Hey Manuel!</p><p>Ah, bummer! A few things:</p><p>1) You can email me about the subscription if you want to pause it or cancel it until this is ready - ryan@knpuniversity.com :).</p><p>2) This tutorial will be released in September at the earliest, but more likely October.</p><p>3) Until then, I highly recommend checking out the new Guard library and tutorial we released: <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fguard%3A0wxihcBbEDdRP1ng-NRTsjkFHe8&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a> - with any luck, it'll make adding authentication to your API really easy.</p><p>4) You can also check out the Silex tutorial for all this authentication stuff - there are several chapters on it here: <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Frest-ep2%3AtDpQ3r4vFrwxRL7GGz0OU14khYo&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a></p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2198583403" id="dsq-comment-2198583403">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="resume">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2198583403">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-17</span>
	                            <span class="dsq-commenter-name">Manuel</span>
	                        </div>

	                        <div id="dsq-comment-message-2198583403" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2198583403" class="dsq-comment-text">
	                                <p>oh my god, i just joined the knp university because of this tutorial... <br>But its not there... what do you think how much time it takes until release?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2148917241" id="dsq-comment-2148917241">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2148917241">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2148917241" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2148917241" class="dsq-comment-text">
	                                <p>Hey again!</p><p>If it helps, Guard *is* available now, and would work fine with FOSUserBundle (you could even let FOSUserBundle do the form login stuff, then use Guard only for the API token auth): <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fguard%3A0wxihcBbEDdRP1ng-NRTsjkFHe8&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a></p><p>Here are some answers assuming you *don't* change to Guard:</p><p>1) I would probably use 1 firewall for this, though you could probably also have 2. With 1 firewall, you're basically saying "I really have 1 security / user system, but I want to make it possible for someone to "login as a user" via an API key"</p><p>2) This part gets more complex. Here's the easiest answer - it's a bit of a "cheat", but will work brilliantly. Don't override or change the FOSUserBundle's user provider at all. So, don't have a custom "provider" key that points to some "api_key_user_provider" - just use the normal FOSUserBundle stuff. Inside your api key authenticator, in authenticateToken(), you won't be able to use the $userProvider argument, because this will be from FOSUserBundle and won't have any custom methods that you need. But that's ok. Instead, inject the EntityManager into your authenticator, lookup your User repository, and query for the user based on the token (your exact logic here may differ). I recommend something very similar to this in Guard in its getUser() method - <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fguard%2Fapi-token%23getuser%3AVEtbHm_YH7r5N6-YgKZBooMHCds&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a>.</p><p>3) You're right that you will probably have some endpoint like /api/tokens where you will POST with HTTP BASIC authentication in order to be able to create a token. But now, you should not have another firewall for this - just add the http_basic stuff under your existing firewall. You will now have 1 firewall with *3* different ways to authentication (form_login, simple_preauth and http_basic). That's perfect: those are just three different ways to help a user login to his/her *one* account.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2147162015" id="dsq-comment-2147162015">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/murilolobato/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/15992/7476/avatar92.jpg?1437417526">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2147162015">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-20</span>
	                            <span class="dsq-commenter-name">Murilo Lobato</span>
	                        </div>

	                        <div id="dsq-comment-message-2147162015" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2147162015" class="dsq-comment-text">
	                                <p>Hey thank you for the reply, actually a month ago I was researching for way to implement it now. And, even after those links helped me a lot, I still don't understand a few things.</p><p>I already have FOSUserBundle installed, and some CRUDs all prefixed by a '/admin' slug. So, my firewall is called "secured_area" is configured accordingly to FOSUserBundle docs.</p><p>My doubts:</p><p>1) Should I have another firewall, called api_secured_area configured like following:<br></p><pre><code><br>    api_secured_area:<br>        pattern: ^/api<br>        stateless: true<br>        simple_preauth:<br>            authenticator: apikey_authenticator<br>        provider: api_key_user_provider<br></code></pre><p><br>or I just need to add the simple_preauth part to my existing firewall?</p><p>2) Is correct that my api_key_user_provider extends the FOS\UserBundle\Security\EmailUserProvider to reuse and centralize the provider logic?</p><p>And now, the worst part at least for me (:</p><p>3) For my mobile apps be able to create a token, I will need to have a "/api/tokens" route (i guess), with HTTP_BASIC auth. The question is: Is correct to have another firewall to define this route as http_basic?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2084022926" id="dsq-comment-2084022926">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2084022926">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-06-17</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2084022926" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2084022926" class="dsq-comment-text">
	                                <p>Hey Murilo!</p><p>In the mean time - check out <a href="http://disq.us/url?url=http%3A%2F%2Fsymfony.com%2Fdoc%2Fcurrent%2Fcookbook%2Fsecurity%2Fapi_key_authentication.html%3AhVN_ZZRc_Hot9wXwD69pi8eF8Z0&amp;cuid=1175718" rel="nofollow noopener">http://symfony.com/doc/current...</a>. You may need to setup an OAuth server (there is a bundle for this - FOSOAuthServer), or you might just need a very simple token-based authentication system. We also setup the latter in our REST Silex tutorial - it might help too <a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Frest-ep2%2Fauthentication-via-token%3A6-jXofWV7zgSFp5BS2wyHKpl9Tc&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a>. The Silex tutorial uses a "harder" version of Symfony authentication than the above-linked Symfony docs page (because the simpler way isn't/wasn't supported in Silex), but you might be able to put the ideas together.</p><p>I'll also be releasing a library (should be next week) called Guard that will drastically simplify setting up a custom authentication situation in Symfony. But, The Symfony link above isn't too hard either.</p><p>I hope this helps! This tutorial is probably 2 months away... and I figured you probably can't wait that long ;).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2083202449" id="dsq-comment-2083202449">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/murilolobato/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/15992/7476/avatar92.jpg?1437417526">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2083202449">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-06-17</span>
	                            <span class="dsq-commenter-name">Murilo Lobato</span>
	                        </div>

	                        <div id="dsq-comment-message-2083202449" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2083202449" class="dsq-comment-text">
	                                <p>Waiting hard for this episode :0</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_62';var disqus_url = 'http://knpuniversity.com/screencast/symfony-rest4';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../about">About</a></li>
                            <li><a class="knp-color-black" href="../../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
        <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_dashboard',
            {"course":"symfony-rest4"}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../../js/CourseNotification.js"></script>

    <script>
        jQuery(document).ready(function() {
            var courseNotification = new Core.CourseNotification($('#course-subscription-wrapper'));

            // Highlight related courses when page is loaded
            var relatedCourseItems = jQuery('.related-courses').find('li');
            var courseChapterItems = jQuery('.chapter-list').find('li');
            // Event listeners
            jQuery(window).on('hashchange', function() {
                // Highlight related courses on every hash change:
                // it allows to avoid page reloading after each change,
                // useful for debugging :)
                highlightItems('C', relatedCourseItems);
                highlightItems('CH', courseChapterItems);
            });
            highlightItems('C', relatedCourseItems);
            highlightItems('CH', courseChapterItems);

            /**
             * Highlight specified items on overview course page like GitHub highlights code lines.
             * Enumerate course ordinal numbers in list with comma using URI hash like "#C:1,4,5".
             * Supported keys:
             * - "C" for related courses
             * - "CH" for course chapters
             *
             * For example, in order to highlight 1st, 4th and 5th course chapte items use:
             * http://knpu.l/screencast/php#CH:1,4,5
             */
            function highlightItems(key, jQueryListItems)
            {
                // Reset all highlighted before items
                jQueryListItems.removeClass('highlighted-bg');
                if (!key) {
                    return;
                }

                var hash = window.location.hash;
                var pattern = new RegExp('^#'+key+':([0-9]+(,[0-9]+)*)');
                if (0 === hash.search(pattern)) {
                    // Try to match at least one item index in hash
                    // and handle highlighting only if it found
                    var matches = hash.match(pattern);
                    var itemIndexEnumeration = matches[1];
                    if (itemIndexEnumeration) {
                        var itemIndexArray = itemIndexEnumeration.split(',');
                        itemIndexArray.forEach(function (value) {
                            var index = value - 1; // normalize index based on order number
                            jQueryListItems
                                    .filter(':eq(' + index + ')')
                                    .addClass('highlighted-bg');
                        });

                        // Find the first highlighted item and scroll to it
                        var minIndex = Math.min.apply(Math, itemIndexArray) - 1;
                        jQuery.smoothScroll({
                            scrollTarget: jQueryListItems.filter(':eq(' + minIndex + ')')
                        });
                    }
                }
            }
        });
    </script>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"b4d8035b34","applicationID":"3720092","transactionName":"MgEBMkZVXBFXBRENWwtLIgVAXV0MGQ0LFGsQCgoQUUZBC0IfOgdbEBYQA2tHWg1B","queueTime":0,"applicationTime":247,"atts":"HkYCRA5PTx8=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
