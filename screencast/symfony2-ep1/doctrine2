<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"Vg4HUlBbGwAHVlFSDgM="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(12),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(13),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,d=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(5),t(4),"addEventListener"in window&&t(3),s.xhrWrappable&&t(6),u=!0)}c.on("fn-start",function(t,e,n){u&&(d+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(14)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],4:[function(t,e,n){var r=t("ee").get("raf"),o=t(14)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],5:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(14)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],6:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,v,"fn-",c)}function i(t){y.push(t),h&&(w=-w,b.data=w)}function a(){for(var t=0;t<y.length;t++)r([],y[t]);y.length&&(y=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(3);var f=t("ee"),u=f.get("xhr"),d=t(14)(u),l=NREUM.o,p=l.XHR,h=l.MO,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],y=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,g),g.prototype=p.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),h){var w=1,b=document.createTextNode(w);new h(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],7:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(8),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(11),h=t(10),m=window.XMLHttpRequest;a.features.xhr=!0,t(6),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],8:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],9:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(12),c=t(13),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit"],d="api-",l=d+"ixn-";a(u,function(t,e){f[e]=o(d+e,!0,"api")}),f.addPageAction=o(d+"addPageAction",!0),f.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(l+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(l+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],10:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],11:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],12:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],13:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],14:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(13),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){l([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){l([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){l([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function l(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!l.aborted){t&&t(n,r,o);for(var i=e(o),a=h(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[g[n]];return f&&f.push([w,n,r,i]),i}}function p(t,e){y[t]=h(t).concat(e)}function h(t){return y[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",g[n]=e,e in u||(u[e]=[])})}var y={},g={},w={on:p,emit:n,get:m,listeners:h,context:e,buffer:v,abort:a,aborted:!1};return w}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var c="nr@context",s=t("gos"),f=t(12),u={},d={},l=e.exports=o();l.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=w.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(y,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=d.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(12),f=t("ee"),u=window,d=u.document,l="addEventListener",p="attachEvent",h=u.XMLHttpRequest,m=h&&h.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:h,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(9);var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-998.min.js"},g=h&&m&&m[l]&&!/CriOS/.test(navigator.userAgent),w=e.exports={offset:a(),origin:v,features:{},xhrWrappable:g};d[l]?(d[l]("DOMContentLoaded",i,!1),u[l]("load",r,!1)):(d[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,7]);</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Inserting and Querying Data > Starting in Symfony2: Course 1 (2.4+) | KnpUniversity</title>

                    <link href="../../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/tomorrow-night.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/tomorrow-night.min.css">


        <link rel="stylesheet" href="../../builds/code_block_styles-2d783e385d9dbb1ef88d9053d1b8d675.css">



    <link href="../../builds/video-6b5fa6dfb768239b226d39d08bd4867e.css" rel="stylesheet">

                        <script src="../../bundles/fosjsrouting/js/router.js"></script>

        <script src="../../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../../js/routing?callback=fos.Router.setData"></script>
            

    <script>
        // video settings
        window.video = {
            isCourseChapterPaid: false,
            courseChapterId: 32809
        };

                window.video.nextDetails = {
            'type': 'video',
            'title': 'Up Next: Virtual\x20Host\x20Setup\x20Extravaganza <i class="fa fa-play"></i>',
            'url': '/screencast/symfony2-ep1/vhost#play'
        };
            </script>

    <script src="../../builds/video-1dfa89b76a105f9c2d98.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            var hashValue = window.location.hash.substr(1);
            if (hashValue.substr(0, 7) == 'comment') {
                // this is a #comment link - open up the comment tab!
                $('.nav-tabs a[href="#tab-comment"]').click();
            }
        });
    </script>

    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="Get your first Symfony2 project off on the right foot, with the right
tools, best practices and tips. If you&#039;re serious about getting into
Symfony2, this course is for you!

In this screencast, we start building a real events application from
the ground-up, touching on and discussing the most fundamental parts
of the application. Specifically, we&#039;ll cover:

* Installation, Git and Setup
* Composer
* Routing
* Controllers
* Introduction to the service container
* Twig
* Doctrine
* Server setup
* Code generation
* Fixtures &amp; external libraries
* And other tips and tricks
">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="Inserting and Querying Data">
<meta property="og:description" content="Get your first Symfony2 project off on the right foot, with the right
tools, best practices and tips. If you&amp;#039;re serious about getting into
Symfony2, this course is for you!

In this screencast, we start building a real events application from
the ground-up, touching on and discussing the most fundamental parts
of the application">
<meta property="og:url" content="http://knpuniversity.com/screencast/symfony2-ep1/doctrine2">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/symfony2-ep1:9659228bfe6fa46e5425d8ea42b44a8cc0b39b1d/sf2-ep1.png">

<meta name="twitter:card" content="summary">


                            
    </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin navbar-learning-layout">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="doctrine2#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../../tracks.1">Tracks</a></li>
          <li><a href="../../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../../pricing.1">Pricing</a></li>
        <li><a href="../../training">Training</a></li>
                <li class="visible-xs"><a href="../../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../../logout">Sign Out</a></li>

            <li><a href="../../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    




<div class="table-contents-container">
  <div class="container expandList" id="js-chapter-list">
      <button class="table-contents-container-button js-expand-list" data-target="js-chapter-list" title="Chapter List">
          <i class="fa fa-bars"></i>
                        8.
                            Inserting and Querying Data
                </button>
      <div class="expandList-body">
          <div class="expandList-bodyInner">
              <h3 class="expandList-header">
                  <a class="course-title-expand" href="http://knpuniversity.com/screencast/symfony2-ep1">Starting in Symfony2: Course 1 (2.4+)</a>
              </h3>

                                <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>


              
              <div class="expand-chapter-list">
                      
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item ">
            <a href="intro" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        Welcome to Symfony!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:51</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="installation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        Downloading &amp; Configuration
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 10:02</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="bundles" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        Bundles of Joy!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:19</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="routing" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        Routing: The URLs of the World
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:44</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="controller" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        Controllers: Get to work!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 7:34</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="twig" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        Twig
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 6:27</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="doctrine" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        Databases and Doctrine
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:08</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item chapter-list-item-active">
            <a href="doctrine2" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Inserting and Querying Data
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 6:57</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="vhost" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Virtual Host Setup Extravaganza
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:17</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="generators" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        Code Generation FTW!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:25</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="assets" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        Less Ugly with CSS and JavaScript
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:47</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="links-dates" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        Friendly Links and Dates in Twig
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:25</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="composer" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                13.
                        Adding Outside Bundles with Composer
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:36</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="fixtures" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                14.
                        Fixtures: For some dumb data
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:54</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="autoloading" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                15.
                        Autoloading: Where did require/include go?
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:21</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="controller-shortcuts" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                16.
                        Do Less Work in the Controller
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:23</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="mind-tricks" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                17.
                        Twig Mind Tricks
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 1:55</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
              </div>
          </div>
      </div>
  </div>
  <div>
                <a href="../../pricing/symfony2-ep1" class="btn btn-success pull-right-md download-buy-buttons">Buy <span class="hidden-xs">Access to Course</span></a>
              </div>
</div>


        <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-9 col-lg-10">
                <h1 class="account-header account-header-low-margin-top">Inserting and Querying Data</h1>
                    <div style="margin-bottom: 10px;">
        <span class="label label-success">UPGRADE!</span>
        <a href="../symfony/resume">Check out the newest version of this tutorial</a>
    </div>

                                    <p class="hidden-xs">
                        Course:
                        <a class="knp-color-black" href="http://knpuniversity.com/screencast/symfony2-ep1"><em>Starting in Symfony2: Course 1 (2.4+) Tutorial</em></a>                    </p>
                            </div>
        </div>

                <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="full-block-container">
                    <div class="frame-padding">
                        <div id="player">
                                                                                <div>
                                                                <div class="row">
                                    <div class="end-show">
                                        <div class="xs-col-12">
                                            <p class="end-show-header">Keep learning!</p>
                                        </div>
                                        <div class="col-xs-12">
                                            <p class="end-show-link"><a href="../../pricing.1" class="btn btn-success btn-md">Start your All Access Pass</a></p>
                                        </div>
                                        <div class="col-xs-12">
                                            <p class="end-show-link text-center"><a href="../buy/collections" class="knp-color-white">Buy just this tutorial for $12.00</a></p>
                                        </div>
                                    </div>
                                </div>
                                                            </div>
                                                </div>
                    </div>
                </div>
            </div>
        </div>
         
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="pull-right">
                                    <a class="btn btn-success"
           href="vhost#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                </div>

                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a data-toggle="tab" href="doctrine2#tab-script">Script</a></li>
                    <li><a data-toggle="tab" href="doctrine2#tab-comment">
                        <i class="fa fa-comment-o"></i>
                                                    
                                                                                                (18)
                                                                                        Conversation
                                            </a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="tab-script">
                        <div class="js-script-content-wrapper top-margin-script script-content">
                                                                                        <a href="https://github.com/knpuniversity/symfony2-series/edit/master/knpu/episode1/doctrine2.rst" target="_blank" class="btn btn-default btn-circle pull-right js-tooltip" title="Edit on GitHub"><span class="fa fa-pencil"></span></a>
                                                                    
  <div class="section" id="inserting-and-querying-data">
<h1>Inserting and Querying Data<a class="headerlink" href="doctrine2#inserting-and-querying-data" title="Permalink to this headline">¶</a></h1>
<p>We can use the play script to create and save our first <tt class="docutils literal"><span class="pre">Event</span></tt> object.
Start by importing the <tt class="docutils literal"><span class="pre">Event</span></tt> class&#8217;s namespace:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// ...</span>
<span class="c1">// all our setup is done!!!!!!</span>
<span class="k">use</span> <span class="nx">Yoda\EventBundle\Entity\Event</span><span class="p">;</span>
</pre></div>
</div>
<p>Let&#8217;s flex our mad PHP skills and put some data on each property. Remember,
this is just a normal PHP object, it doesn&#8217;t have any jedi magic and doesn&#8217;t
know anything about a database:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">Yoda\EventBundle\Entity\Event</span><span class="p">;</span>

<span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Event</span><span class="p">();</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;Darth\&#39;s surprise birthday party&#39;</span><span class="p">);</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setLocation</span><span class="p">(</span><span class="s1">&#39;Deathstar&#39;</span><span class="p">);</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setTime</span><span class="p">(</span><span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;tomorrow noon&#39;</span><span class="p">));</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setDetails</span><span class="p">(</span><span class="s1">&#39;Ha! Darth HATES surprises!!!!&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Let&#8217;s save this wild event! To do that, we use a special object called the
&#8220;entity manager&#8221;. It&#8217;s basically the most important object in Doctrine and
is in charge of saving objects and fetching them back out. To get the entity
manager, first grab a service from the container called <tt class="docutils literal"><span class="pre">doctrine</span></tt> and
call <tt class="docutils literal"><span class="pre">getManager</span></tt> on it:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$em</span> <span class="o">=</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>
</pre></div>
</div>
<p>Saving is a two-step process: <tt class="docutils literal"><span class="pre">persist()</span></tt> and then <tt class="docutils literal"><span class="pre">flush()</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$em</span> <span class="o">=</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>
<span class="nv">$em</span><span class="o">-&gt;</span><span class="na">persist</span><span class="p">(</span><span class="nv">$event</span><span class="p">);</span>
<span class="nv">$em</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>
</pre></div>
</div>
<p>Two steps! Yea, and for an awesome reason. The first tells Doctrine &#8220;hey,
you should know about this object&#8221;. But no queries are made yet. When we
call <tt class="docutils literal"><span class="pre">flush()</span></tt>, Doctrine actually executes the INSERT query.</p>
<p>The awesome is that if you need to save a bunch of objects at once, you can
persist each of them and call flush once. Doctrine will then pack these operations
into as few queries as possible.</p>
<p>Now, when we execute our play script, it blows up!</p>
<blockquote>
<div>PDOException: SQLSTATE[42000] [1049] Unknown database &#8216;symfony&#8217;</div></blockquote>
<p>Scroll up to see the error message: &#8220;Unknown database symfony&#8221;. Duh! We skipped
one important step: setting up the database config.</p>
<div class="section" id="configuring-the-database">
<h2>Configuring the Database<a class="headerlink" href="doctrine2#configuring-the-database" title="Permalink to this headline">¶</a></h2>
<p>Database config is usually stored in <tt class="docutils literal"><span class="pre">app/config/parameters.yml</span></tt>. Change
the database name to &#8220;yoda_event&#8221;. For my super-secure computer, the database
user <tt class="docutils literal"><span class="pre">root</span></tt> with no password is perfect:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/parameters.yml</span>
<span class="l-Scalar-Plain">parameters</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">database_driver</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">pdo_mysql</span>
    <span class="l-Scalar-Plain">database_host</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">127.0.0.1</span>
    <span class="l-Scalar-Plain">database_port</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">null</span>
    <span class="l-Scalar-Plain">database_name</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">yoda_event</span>
    <span class="l-Scalar-Plain">database_user</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">root</span>
    <span class="l-Scalar-Plain">database_password</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">null</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
<div class="section" id="we-can-haz-database">
<h3>We can haz Database<a class="headerlink" href="doctrine2#we-can-haz-database" title="Permalink to this headline">¶</a></h3>
<p>Now, I know you&#8217;re super-smart and capable, but let&#8217;s be lazy again and use
the console to create the database for us with the <tt class="docutils literal"><span class="pre">doctrine:database:create</span></tt>
command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console doctrine:database:create
</pre></div>
</div>
<p>There&#8217;s also a command to drop the database. That&#8217;s great, until you realize
that you just ran it on production... and everyone is running around with
their hair on fire. Yea, so that&#8217;s a healthy reminder to not give your production
db user access to drop the database.</p>
</div>
<div class="section" id="a-table-for-events-please">
<h3>A Table for Events, Please<a class="headerlink" href="doctrine2#a-table-for-events-please" title="Permalink to this headline">¶</a></h3>
<p>We have a database, but no tables. Any ideas who might help us with this?
Oh yeah, our friend console! Run the <tt class="docutils literal"><span class="pre">doctrine:schema:create</span></tt> command.
This finds all your entities, reads their annotation mapping config, and
creates all the tables:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console doctrine:schema:create
</pre></div>
</div>
<p>Time to try out the play script again:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php play.php
</pre></div>
</div>
<p>What? No errors! Did it work? Use the <cite>doctrine:query:sql</cite> command to run
a raw query against the database:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console doctrine:query:sql <span class="s2">&quot;SELECT * FROM yoda_event&quot;</span>
</pre></div>
</div>
<p>And voila! There&#8217;s our event.</p>
</div>
</div>
<div class="section" id="making-nullable-fields">
<h2>Making nullable Fields<a class="headerlink" href="doctrine2#making-nullable-fields" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s get crazy and leave the <tt class="docutils literal"><span class="pre">details</span></tt> field blank:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// play.php</span>
<span class="c1">// ...</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setTime</span><span class="p">(</span><span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;tomorrow noon&#39;</span><span class="p">));</span>
<span class="c1">//$event-&gt;setDetails(&#39;Ha! Darth HATES surprises!!!!&#39;);</span>
</pre></div>
</div>
<p>When we run the script, another explosion! Scrolling up, the error straight
from MySQL saying that the <tt class="docutils literal"><span class="pre">details</span></tt> column can&#8217;t be null.</p>
<blockquote>
<div>SQLSTATE[23000]: Integrity constraint violation: 1048 Column &#8216;details&#8217; cannot be null</div></blockquote>
<p>So Doctrine assumes by default that all of your columns should be set to <tt class="docutils literal"><span class="pre">NOT</span> <span class="pre">NULL</span></tt>
when creating the table. To change this, add a <tt class="docutils literal"><span class="pre">nullable</span></tt> option to the <tt class="docutils literal"><span class="pre">details</span></tt>
property inside the entity:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Yoda/EventBundle/Entity/Event.php</span>

<span class="sd">/**</span>
<span class="sd"> * @ORM\Column(name=&quot;details&quot;, type=&quot;text&quot;, nullable=true)</span>
<span class="sd"> */</span>
<span class="k">private</span> <span class="nv">$details</span><span class="p">;</span>

<span class="c1">// ...</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Doctrine has a killer page that shows all of the annotations and their
options. See <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/annotations-reference.html">Annotations Reference</a>.</p>
</div>
<p>But before this does anything, the actual column in the database needs to
be modified to reflect the change. Hey, console to the rescue! Run the
<tt class="docutils literal"><span class="pre">doctrine:schema:update</span></tt> command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console doctrine:schema:update
</pre></div>
</div>
<p>This is pretty sweet: it looks at your annotations mapping config, compares
it against the current state of the database, and figures out exactly what
queries we need to run to update the database structure.</p>
<p>But the command didn&#8217;t do anything yet. Pass <tt class="docutils literal"><span class="pre">--dump-sql</span></tt> to see the queries
it wants to run and <tt class="docutils literal"><span class="pre">--force</span></tt> to actually run them:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console doctrine:schema:update --force
</pre></div>
</div>
<p>Run the play script again. Alright, no errors means that the new event is
saved without a problem.</p>
</div>
<div class="section" id="querying-for-objects">
<h2>Querying for Objects<a class="headerlink" href="doctrine2#querying-for-objects" title="Permalink to this headline">¶</a></h2>
<p>Putting stuff into the database is nice, but let&#8217;s learn how to get stuff
out. Open up the <tt class="docutils literal"><span class="pre">DefaultController</span></tt> class we&#8217;ve been playing with. First,
we need to get the all-important entity manager. That&#8217;s old news for us.
Like before, just get the <tt class="docutils literal"><span class="pre">doctrine</span></tt> service from the container and call
<tt class="docutils literal"><span class="pre">getManager</span></tt> on it.</p>
<p>This works, but since we&#8217;re extending the base controller, we can use its
<tt class="docutils literal"><span class="pre">getDoctrine()</span></tt> to get the <tt class="docutils literal"><span class="pre">doctrine</span></tt> service. That&#8217;ll save us a few
keystrokes:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Yoda/EventBundle/Controller/DefaultController.php</span>
<span class="c1">// ...</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$count</span><span class="p">,</span> <span class="nv">$firstName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// these 2 lines are equivalent</span>
    <span class="c1">// $em = $this-&gt;container-&gt;get(&#39;doctrine&#39;)-&gt;getManager();</span>
    <span class="nv">$em</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDoctrine</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To query for something, we always first get an entity&#8217;s repository object:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$count</span><span class="p">,</span> <span class="nv">$firstName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// these 2 lines are equivalent</span>
    <span class="c1">// $em = $this-&gt;container-&gt;get(&#39;doctrine&#39;)-&gt;getManager();</span>
    <span class="nv">$em</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDoctrine</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>
    <span class="nv">$repo</span> <span class="o">=</span> <span class="nv">$em</span><span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="s1">&#39;EventBundle:Event&#39;</span><span class="p">);</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A repository has just one job: to help query for one type of object, like
Event objects. The <tt class="docutils literal"><span class="pre">EventBundle:Event</span></tt> string is the same top-secret shortcut
syntax we used when we generated the entity - it&#8217;s like the entity&#8217;s nickname.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>If you like typing, you can use the full class name anywhere the entity
&#8220;alias&#8221; is used:</p>
<blockquote class="last">
<div>$em-&gt;getRepository(&#8216;YodaEventBundleEntityEvent&#8217;);</div></blockquote>
</div>
<p>Use the repository&#8217;s <tt class="docutils literal"><span class="pre">findOneBy</span></tt> method to get an <tt class="docutils literal"><span class="pre">Event</span></tt> object by name.
There are other shortcut methods too, like <tt class="docutils literal"><span class="pre">findAll</span></tt>, <tt class="docutils literal"><span class="pre">findBy</span></tt>, and <tt class="docutils literal"><span class="pre">find</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Yoda/EventBundle/Controller/DefaultController.php</span>
<span class="c1">// ...</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$count</span><span class="p">,</span> <span class="nv">$firstName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// these 2 lines are equivalent</span>
    <span class="c1">// $em = $this-&gt;container-&gt;get(&#39;doctrine&#39;)-&gt;getManager();</span>
    <span class="nv">$em</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDoctrine</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>
    <span class="nv">$repo</span> <span class="o">=</span> <span class="nv">$em</span><span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="s1">&#39;EventBundle:Event&#39;</span><span class="p">);</span>

    <span class="nv">$event</span> <span class="o">=</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">findOneBy</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Darth\&#39;s surprise birthday party&#39;</span><span class="p">,</span>
    <span class="p">));</span>

    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span>
        <span class="s1">&#39;EventBundle:Default:index.html.twig&#39;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$firstName</span><span class="p">,</span>
            <span class="s1">&#39;count&#39;</span> <span class="o">=&gt;</span> <span class="nv">$count</span><span class="p">,</span>
            <span class="s1">&#39;event&#39;</span><span class="o">=&gt;</span> <span class="nv">$event</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">In <a class="reference external" href="../symfony2-ep2/repository#doctrine-s-querybuilder">Episode 2</a>, we&#8217;ll add more methods to the repository and write some
custom queries.</p>
</div>
<div class="section" id="rendering-entities-in-twig">
<h3>Rendering Entities in Twig<a class="headerlink" href="doctrine2#rendering-entities-in-twig" title="Permalink to this headline">¶</a></h3>
<p>Ok - let&#8217;s pass the Event object into the template as a variable. We can
use Twig&#8217;s render syntax to print out the name and location properties. Internally,
Twig is smart enough to call <tt class="docutils literal"><span class="pre">getName</span></tt> and <tt class="docutils literal"><span class="pre">getLocation</span></tt>, since the properties
are private:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="c">{# ... #}</span>

    <span class="cp">{{</span> <span class="nv">event.name</span> <span class="cp">}}</span><span class="nt">&lt;br/&gt;</span>
    <span class="cp">{{</span> <span class="nv">event.location</span> <span class="cp">}}</span><span class="nt">&lt;br/&gt;</span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Refresh the page! I can see our event data, so all the magic Doctrine querying
must be working. Actually, check out out the web debug toolbar. The cute
box icon jumped from zero to one, which is the number of queries used for
the page. When we click the little boxes, we can even see what those queries
are and even run <tt class="docutils literal"><span class="pre">EXPLAIN</span></tt> on them.</p>
<p>Good work young jedi! Seriously, you know the basics of Doctrine, and that&#8217;s
not easy. In the next 2 episodes, we&#8217;ll create custom queries and use cool
things like events that let you &#8220;hook&#8221; into Doctrine as entities are inserted,
updated or removed from the database.</p>
<p>Oh, and don&#8217;t forget <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/index.html">Doctrine has its own documentation</a>, though the most
helpful pages are the <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/annotations-reference.html">Annotations Reference</a> and <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/basic-mapping.html#doctrine-mapping-types">Doctrine Mapping Types</a>
reference pages. And by the way, when you see annotations in the Doctrine
docs, prefix them with <tt class="docutils literal"><span class="pre">&#64;ORM\</span></tt> before putting them in Symfony. That&#8217;s
because of this <tt class="docutils literal"><span class="pre">use</span></tt> statement above our entity:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Yoda/EventBundle/Entity/Event.php</span>
<span class="k">use</span> <span class="nx">Doctrine\ORM\Mapping</span> <span class="k">as</span> <span class="nx">ORM</span><span class="p">;</span>
<span class="c1">// ..</span>
</pre></div>
</div>
<p>If that&#8217;s in your class and you have <tt class="docutils literal"><span class="pre">&#64;ORM\</span></tt> at the start of all of your
Doctrine annotations, you&#8217;re killing it.</p>
</div>
</div>
</div>


    
                        </div>
                    </div>
                    <div class="tab-pane" id="tab-comment">
                        <h3>Leave a comment!</h3>
                                                        <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2968430642" id="dsq-comment-2968430642">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_gQPoYRRcKl/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2968430642">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-25</span>
	                            <span class="dsq-commenter-name">Max</span>
	                        </div>

	                        <div id="dsq-comment-message-2968430642" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2968430642" class="dsq-comment-text">
	                                <p>You are a problem-solving-monster :D I had the plugin installed, though not activated... now everything runs smoothly!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2966979091" id="dsq-comment-2966979091">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2966979091">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-24</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2966979091" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2966979091" class="dsq-comment-text">
	                                <p>Hey Max!</p><p>Ah, then 2 things:</p><p>1) I repeat my advice from earlier about "Excluding" the directory - but instead, include app/cache. Symfony had app/cache in 2.x and var/cache in 3.x (they're the same thing, we just changed the dir name).</p><p>2) Do you have the Symfony plugin installed (*and* enabled for this project)? <a href="https://disq.us/url?url=https%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fphpstorm%2Fsetup%23plugins%3ARVPT9VVlN1fDk5tLtJyVp-fYuVw&amp;cuid=1175718" rel="nofollow noopener">https://knpuniversity.com/scre...</a> Also make sure you have the "PHP Annotations" plugin</p><p>Lemme know if either of these help :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2966621234" id="dsq-comment-2966621234">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_gQPoYRRcKl/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2966621234">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-24</span>
	                            <span class="dsq-commenter-name">Max</span>
	                        </div>

	                        <div id="dsq-comment-message-2966621234" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2966621234" class="dsq-comment-text">
	                                <p>Nope, I'm running symfony 2.8 and sadly there is no var/cache directory...</p><p>$em=$this-&gt;getDoctrine()-&gt;getManager(); works fine and I get autocompletion for every step.<br>$em2=$this-&gt;container-&gt;get('doctrine')-&gt;getManager(); stops the autocompletion after get('doctrine').</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2965685949" id="dsq-comment-2965685949">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2965685949">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-24</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2965685949" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2965685949" class="dsq-comment-text">
	                                <p>Hey Max!</p><p>Hmm. Assuming you're on Symfony 3, make sure you right click on the var/cache directory and "Mark Directory As" -&gt; "Excluded". We do it at about the 2:00 mark in this video: <a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fsymfony%2Fservices-useful-objects%3AQXjabRra-7-IE3gmb8gVjSdM5IA&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a></p><p>Lemme know if that works! The cache directory holds some duplicate Symfony files (for performance reasons) but this can confuse PhpStorm. If that is *not* the problem/fix... lemme know!</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2965105481" id="dsq-comment-2965105481">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_gQPoYRRcKl/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2965105481">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-23</span>
	                            <span class="dsq-commenter-name">Max</span>
	                        </div>

	                        <div id="dsq-comment-message-2965105481" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2965105481" class="dsq-comment-text">
	                                <p>The autocompletion for -&gt;getManager is not working in my phpstorm IDE though the code is executed without problems - am I missing something? Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2296311424" id="dsq-comment-2296311424">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/annemariekevanmaris/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2296311424">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-08</span>
	                            <span class="dsq-commenter-name">Annemarieke van Maris</span>
	                        </div>

	                        <div id="dsq-comment-message-2296311424" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2296311424" class="dsq-comment-text">
	                                <p>Hey, I sort of fixed it just before I received your message. I reset everything to the first commit and followed the tutorial again, and now it works!</p><p>I think I made some mistakes while trying to reset to my first commit earlier and some code may have been doubled or erased.</p><p>Anyway, thanks for your swift reply. I'm really enjoying the course so far!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2296296786" id="dsq-comment-2296296786">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2296296786">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-08</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2296296786" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2296296786" class="dsq-comment-text">
	                                <p>Hey there!</p><p>Hmm, so the class - Yoda\EventBundle\Entity\Event - looks good to me, so the likely cause is the autoloader. Do you still have the original autoload require line? <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony-standard%2Fblob%2F2.8%2Fweb%2Fapp_dev.php%23L24%3AwX6CL-xxYb8db3LGSWdo1OtdEQw&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a> And is your code after this? If it *is* there, post your full file on a Gist and we can figure it out :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2296203998" id="dsq-comment-2296203998">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/annemariekevanmaris/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2296203998">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-08</span>
	                            <span class="dsq-commenter-name">Annemarieke van Maris</span>
	                        </div>

	                        <div id="dsq-comment-message-2296203998" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2296203998" class="dsq-comment-text">
	                                <p>Hi!</p><p>When I run the play.php in the cli, I get the following error message:</p><p>Fatal error: Class 'Yoda\EventBundle\Entity\Event' not found in C:\wamp\www\starwarsevent\play.php on line 26</p><p>Call Stack:</p><p>    0.0002     243240   1. {main}()  C:\wamp\www\starwarsevent\play.php:0</p><p>What can I do to fix this? I'm using Symfony 2.7 (newest).</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2201372334" id="dsq-comment-2201372334">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2201372334">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-18</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2201372334" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2201372334" class="dsq-comment-text">
	                                <p>Thanks for your reply!</p><p>The reason to avoid `nullable=true` for scalar types nice uncovered in <a href="http://disq.us/url?url=http%3A%2F%2Fstackoverflow.com%2Fa%2F1268017%2F3190190%3AcCchT7dECi1814S-Ljs3jK46K6o&amp;cuid=1175718" rel="nofollow noopener">http://stackoverflow.com/a/126...</a> answer. I think `nullable=true` mainly should use for foreign keys, however in some cases it could applied for scalar types, but such cases not much.</p><p>Also, I'm looking forward to a PHP7 stable release with its scalar type hinting and super performance :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2201304814" id="dsq-comment-2201304814">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2201304814">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2201304814" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2201304814" class="dsq-comment-text">
	                                <p>Hey!</p><p>I like it just fine! I don't usually type-hint, because Doctrine will eventually cast (for example) a string to an int. But technically, this is more strict - since your object will *always* (for example) have an int for a price, instead of a string. I'll probably start doing this more when scalar type-casting is available. But I like it just fine :).</p><p>About nullable=false, I use this specifically if I want to guarantee that I don't mess something up and forget to set a field. For example, I might set nullable=false on price, because I *want* there to be a huge exception if I somehow create a Product and forget to set this fields - i.e. having a real value here is so important, the site doesn't really work without explicitly setting it. So I think both methods are valid: nullable = false to be crazy strict, and using default values when having a default value makes sense.</p><p>What do you think?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2198295693" id="dsq-comment-2198295693">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2198295693">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-17</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2198295693" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2198295693" class="dsq-comment-text">
	                                <p>For a scalar types I don't like use `nullable=true` option. I prefer to set a default value on property definition and then in setter I use type casting to correct scalar type or add simple check like `isset($description) ? $description : 'Some default value'`. Please, check my entity example where `description` and `price` properties are optional:</p><p></p><pre>/**<br> * Class Payment<br> */<br>class Payment<br>{<br>/**<br> * @var string<br> *<br> * @ORM\Column(type="string")<br> */<br>private $name;<br><br>/**<br> * @var string<br> *<br> * @ORM\Column(type="text")<br> */<br>private $description = '';<br><br>/**<br> * @var int<br> *<br> * @ORM\Column(type="integer")<br> */<br>private $price = 0;<br><br>public function setName($name)<br>{<br>    $this-&gt;name = $name;<br>}<br><br>public function setDescription($description)<br>{<br>    $this-&gt;description = (string) $description;<br>}<br><br>public function setPrice($price)<br>{<br>    $this-&gt;price = (int) $price;<br>}<br>}<br></pre><p></p><p>Ryan, what do you think about this way?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1974512637" id="dsq-comment-1974512637">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1974512637">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-04-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-1974512637" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1974512637" class="dsq-comment-text">
	                                <p>Hi Alex!</p><p>First, I think you're probably right about the missing pdo_mysql driver. This sounds like a classic case of having 2 PHP's installed on the system - the one from the command line has pdo_mysql installed, but the one used by your web server is using a different PHP that does not.</p><p>Are you using the built-in PHP web server? If you are, then I'm wrong :). But if you aren't, let's try it. So, from the root of your project:</p><p>php app/console server:run</p><p>Then go to http://localhost:8000 in your browser. This will run your site, but use your cli PHP, which we're pretty sure has pdo_mysql installed. If this page loads, then the problem is with a different PHP being used by your web server. If you still get the error, then something else is going on.</p><p>Let me know!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1973439941" id="dsq-comment-1973439941">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_XPvFSkQIN6/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/15405/5368/avatar92.jpg?1429310805">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1973439941">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-04-17</span>
	                            <span class="dsq-commenter-name">Alex</span>
	                        </div>

	                        <div id="dsq-comment-message-1973439941" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1973439941" class="dsq-comment-text">
	                                <p>Hi guys, thanks so much for the super helpful tutorials. Unfortunately I've hit an odd wall with a PDOException: "could not find driver", presumably for pdo_mysql. Ive confirmed that it is installed/enabled. I can access tables with php app/console doctrine:query:sql, and anything I run from the play.php script works fine. When I move on to running it in the browser, I get this driver error. I loaded phpinfo on a page and produced a path to my cli/php.ini. Double checked that and everything seems to be ok there. Any other thoughts? Thanks for your help.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1707983920" id="dsq-comment-1707983920">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/enkhbilguune/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5666/6574/avatar92.jpg?1470114831">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1707983920">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2014-11-23</span>
	                            <span class="dsq-commenter-name">Enkhbilguun E.</span>
	                        </div>

	                        <div id="dsq-comment-message-1707983920" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1707983920" class="dsq-comment-text">
	                                <p>[SOLVED]<br>It looks my composer was using my php built-in with Mac OSX Yosemite while I was thinking it was running on MAMP.</p><p>Pointed the path to the PHP in MAMP, and the installation has been completed smoothly. For those who may experience the same, have a look at: <a href="http://disq.us/url?url=http%3A%2F%2Flaravel.io%2Fforum%2F05-02-2014-laravel-why-cant-you-play-nice-with-mamp%3As6oqMUY6-pZ9hYeBrDA5SoD9ZZY&amp;cuid=1175718" rel="nofollow noopener">http://laravel.io/forum/05-02-...</a></p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1707932846" id="dsq-comment-1707932846">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/enkhbilguune/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5666/6574/avatar92.jpg?1470114831">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1707932846">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2014-11-23</span>
	                            <span class="dsq-commenter-name">Enkhbilguun E.</span>
	                        </div>

	                        <div id="dsq-comment-message-1707932846" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1707932846" class="dsq-comment-text">
	                                <p>I'm getting an exception and an error right after pressing enter button multiple times for parameters. I'm trying to install the latest version v2.5 with "composer create-project symfony/framework-standard-edition starwarevents @stable" command.</p><p>What could I do?<br>==========<br>Writing lock file<br>Generating autoload files<br>Would you like to install Acme demo bundle? [y/N] <br>Creating the "app/config/parameters.yml" file<br>Some parameters are missing. Please provide them.<br>database_driver (pdo_mysql): <br>database_host (127.0.0.1): <br>database_port (null): <br>database_name (symfony): <br>database_user (root): <br>database_password (null): <br>mailer_transport (smtp): <br>mailer_host (127.0.0.1): <br>mailer_user (null): <br>mailer_password (null): <br>locale (en): <br>secret (ThisTokenIsNotSoSecretChangeIt): <br>debug_toolbar (true): <br>debug_redirects (false): <br>use_assetic_controller (true):</p><p>  [Symfony\Component\Debug\Exception\ContextErrorException]</p><p>  Warning: date_default_timezone_get(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /Users/beregu/Dropbox/Sites/starwarevents/vendor/monolog/monolog/src/Monolog/Logger.php line 233</p><p>cache:clear [--no-warmup] [--no-optional-warmers]</p><p>Script Sensio\Bundle\DistributionBundle\Composer\ScriptHandler::clearCache handling the post-install-cmd event terminated with an exception</p><p>  [RuntimeException]</p><p>  An error occurred when executing the "'cache:clear --no-warmup'" command.</p><p>create-project [-s|--stability="..."] [--prefer-source] [--prefer-dist] [--repository-url="..."] [--dev] [--no-dev] [--no-plugins] [--no-custom-installers] [--no-scripts] [--no-progress] [--keep-vcs] [--no-install] [package] [directory] [version]</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1707930237" id="dsq-comment-1707930237">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/enkhbilguune/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5666/6574/avatar92.jpg?1470114831">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1707930237">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2014-11-23</span>
	                            <span class="dsq-commenter-name">Enkhbilguun E.</span>
	                        </div>

	                        <div id="dsq-comment-message-1707930237" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1707930237" class="dsq-comment-text">
	                                <p>Thanks Ryan. That's exactly what I asked. :-)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1700154736" id="dsq-comment-1700154736">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1700154736">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2014-11-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-1700154736" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1700154736" class="dsq-comment-text">
	                                <p>Hey Enkhbilguun!</p><p>My pleasure! If you want to use Twig and Bootstrap together, that really has (almost) nothing to do with Symfony - just include the CSS file in your base template and start using the markup. The only place where they integrate is when you're rendering forms. If you're asking about that, it *can* get quite tricky. Fortunately, Symfony 2.6 comes with a Twitter Bootstrap form theme out of the box. You can read about it here: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fpull%2F10272%3A2J-pMYVMKUwzqAT5w5-YiCTzgMQ&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a>. If you are not using Symfony 2.6 (it's not even out yet), you can just copy the form theme into your project and use it as a form theme as if you had created it yourself. The source file is here: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fblob%2F2.7%2Fsrc%2FSymfony%2FBridge%2FTwig%2FResources%2Fviews%2FForm%2Fbootstrap_3_layout.html.twig%3AsmkHBifOORYqRDYlpskWK029EqY&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a></p><p>I hope that helps!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="1698788307" id="dsq-comment-1698788307">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/enkhbilguune/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5666/6574/avatar92.jpg?1470114831">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-1698788307">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2014-11-18</span>
	                            <span class="dsq-commenter-name">Enkhbilguun E.</span>
	                        </div>

	                        <div id="dsq-comment-message-1698788307" class="dsq-comment-message">
	                            <div id="dsq-comment-text-1698788307" class="dsq-comment-text">
	                                <p>Hi Ryan,</p><p>Could you please instruct us how to use Twig with Bootstrap CSS framework in Symfony2?</p><p>P.S. updated tutorials are fantastic, and thanks for the free all access. :-)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_video_doctrine2';var disqus_url = 'https://knpuniversity.com/screencast/symfony2-ep1/doctrine2';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                                            </div>
                    <div class="pull-left-xs pull-right-md">
                                        <a class="btn btn-success"
           href="vhost#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                    </div>
                    <div class="pull-left addthis-module">
                        
    <div class="addthis_toolbox addthis_default_style js-analytics-addthis-wrapper addthis_32x32_style" addthis:url="http://knpuniversity.com/screencast/symfony2-ep1/doctrine2" addthis:title="Starting in Symfony2: Course 1 (2.4+)">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../about">About</a></li>
                            <li><a class="knp-color-black" href="../../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
            <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_chapter',
            {"course":"symfony2-ep1","courseIsOwned":false,"chapter":"Inserting and Querying Data","chapterNumber":8,"chapterIsFree":false}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../../assets/vendor/jquery-sticky/jquery.sticky.js"></script>
    <script type="text/javascript" src="../../assets/vendor/zeroclipboard/dist/ZeroClipboard.min.js"></script>
    <script type="text/javascript" src="../../js/CodeBlocks.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/underscore.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/doctools.js"></script>

    <script>
        Core.courseTitle = 'Starting in Symfony2: Course 1 (2.4+)';
        Core.courseId = 38
        Core.courseIsOwned = false;
        Core.courseSlug = 'symfony2-ep1';
                    Core.chapterTitle = 'Inserting and Querying Data';
            Core.chapterNumber = 8;
            Core.chapterIsFree = false;
            Core.chapterSlug = 'doctrine2';
        
                var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '1.0.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };

        jQuery(document).ready(function() {
            // Stick left sidebar menu
            $('.js-sticker').sticky();

            var $scriptWrapper = $('.js-script-content-wrapper');
            var codeBlocks = new Core.CodeBlocks($scriptWrapper);

            var expandList = $('.js-expand-list');

            expandList.on('click', function(){
                var target = $(this).data('target');
                var $expandArea = $('#' + target);
                $expandArea.toggleClass('expanded');

                // http://stackoverflow.com/questions/2868582/click-outside-menu-to-close-in-jquery
                $(document).one('click', function closeExpandList (e){
                    if($expandArea.has(e.target).length === 0){
                        $expandArea.removeClass('expanded');
                    } else {
                        $(document).one('click', closeExpandList);
                    }
                });
            });
        });
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>



    <script type="text/javascript">
    var addthis_share = {
        templates: {
            twitter: '{{title}} - {{url}} | via @KnpUniversity'
        }
    }
</script>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=weaverryan"></script>

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"b4d8035b34","applicationID":"3720092","transactionName":"MgEBMkZVXBFXBRENWwtLIgVAXV0MGQ0LFGsQCgoQUUZBC0IfOgdbEBYQA2tHWg1B","queueTime":0,"applicationTime":595,"atts":"HkYCRA5PTx8=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
