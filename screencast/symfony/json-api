<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>JSON Responses + Route Generation > Joyful Development with Symfony 3 | KnpUniversity</title>

                    <link href="../../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/tomorrow-night.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/tomorrow-night.min.css">


        <link rel="stylesheet" href="../../builds/code_block_styles-2d783e385d9dbb1ef88d9053d1b8d675.css">



    <link href="../../builds/video-6b5fa6dfb768239b226d39d08bd4867e.css" rel="stylesheet">

                        <script src="../../bundles/fosjsrouting/js/router.js"></script>

        <script src="../../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../../js/routing?callback=fos.Router.setData"></script>
            

    <script>
        // video settings
        window.video = {
            isCourseChapterPaid: true,
            courseChapterId: 34681
        };

                window.video.nextDetails = {
            'type': 'video',
            'title': 'Up Next: Generating\x20URLs <i class="fa fa-play"></i>',
            'url': '/screencast/symfony/url-generation#play'
        };
            </script>

    <script src="../../builds/video-1dfa89b76a105f9c2d98.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            var hashValue = window.location.hash.substr(1);
            if (hashValue.substr(0, 7) == 'comment') {
                // this is a #comment link - open up the comment tab!
                $('.nav-tabs a[href="#tab-comment"]').click();
            }
        });
    </script>

    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="Ready to get serious with Symfony? You&#039;ve come to the right place!

Get your first application off on the right foot by coding along with a real
application, using the right tools and learning the best practices from the
lead author of the Symfony documentation. These fundamentals will get you ready
for *everything* else you&#039;ll need to do with Symfony in the future.

In this screencast, we start building an application from the ground-up, exploring
the most fundamental parts of the application:

* Installation and Setup
* Route Essentials
* Mastering Controllers &amp; Response
* Services and the Container
* Twig
* JSON Responses
* Configuration and Environments

... and other goodies mixed in.
">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="JSON Responses + Route Generation">
<meta property="og:description" content="Ready to get serious with Symfony? You&amp;#039;ve come to the right place!

Get your first application off on the right foot by coding along with a real
application, using the right tools and learning the best practices from the
lead author of the Symfony documentation. These fundamentals will get you ready
for *everything* else you&amp;#039;ll need to do with Symfony in the future">
<meta property="og:url" content="http://knpuniversity.com/screencast/symfony/json-api">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/symfony:00a4bff155bef69e3d39bd9c91a18e6e37c3bbac/symfony.png">

<meta name="twitter:card" content="summary">


                            
    </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin navbar-learning-layout">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="json-api#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../../tracks.1">Tracks</a></li>
          <li><a href="../../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../../pricing.1">Pricing</a></li>
        <li><a href="../../training">Training</a></li>
                <li class="visible-xs"><a href="../../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../../logout">Sign Out</a></li>

            <li><a href="../../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    




<div class="table-contents-container">
  <div class="container expandList" id="js-chapter-list">
      <button class="table-contents-container-button js-expand-list" data-target="js-chapter-list" title="Chapter List">
          <i class="fa fa-bars"></i>
                        10.
                            JSON Responses + Route Generatio...
                </button>
      <div class="expandList-body">
          <div class="expandList-bodyInner">
              <h3 class="expandList-header">
                  <a class="course-title-expand" href="resume">Joyful Development with Symfony 3</a>
              </h3>

                                <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>


              
              <div class="expand-chapter-list">
                      
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item ">
            <a href="start-project" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        Start Project
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:36</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="phpstorm-git" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        Setup! PhpStorm + git
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:05</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="first-page" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        First Page
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:15</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="routing-wildcards" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        Routing Wildcards
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:47</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="services-useful-objects" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        Intro to Services
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:20</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="listing-services" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        Listing and Using Services
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:45</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="hello-twig" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        Twig: For a Good time with Templates
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:25</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="twig-layouts" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Twig Layouts (Template Inheritance)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:17</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="layout-assets" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Loading CSS &amp; JS Assets
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:47</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item chapter-list-item-active">
            <a href="json-api" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        JSON Responses + Route Generation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:04</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="url-generation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        Generating URLs
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:36</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="reactjs-api" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        ReactJS talks to your API
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:13</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
              </div>
          </div>
      </div>
  </div>
  <div>
                <div class="dropdown download-buy-buttons">
              <button class="btn btn-success dropdown-toggle" type="button" id="downloadDropdown" data-toggle="dropdown" aria-expanded="true">
                  <span><i class="fa fa-download"></i></span>
                  <span class="hidden-xs">Download</span>
                  <span class="caret"></span>
              </button>
              <ul class="list-unstyled dropdown-menu pull-right" role="menu" aria-labelledby="downloadDropdown">
                  
                  <li><a href="../get/symfony/code/00a4bff155bef69e3d39bd9c91a18e6e37c3bbac" class="js-analytics-download" data-download-type="code"><i class="fa fa-code"></i> Course Code</a></li>

                                        <li><a href="http://knpuniversity.com/screencast/symfony/json-api/download/video" class="js-analytics-download" data-download-type="video"><i class="fa fa-video-camera"></i> This Video</a></li>
                                        <li><a href="../get/symfony/script/00a4bff155bef69e3d39bd9c91a18e6e37c3bbac" class="js-analytics-download" data-download-type="script"><i class="fa fa-book"></i> Course Script</a></li>              </ul>
          </div>
              </div>
</div>


        <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-9 col-lg-10">
                <h1 class="account-header account-header-low-margin-top">JSON Responses + Route Generation</h1>
                
                                    <p class="hidden-xs">
                        Course:
                        <a class="knp-color-black" href="resume"><em>Joyful Development with Symfony 3 Tutorial</em></a>                    </p>
                            </div>
        </div>

                <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="full-block-container">
                    <div class="frame-padding">
                        <div id="player">
                                                        <div class="hidden alert alert-danger js-video-not-supported" style="margin-bottom: 10px;">
        <h4>Video not working?</h4>
        It looks like your browser may not support the H264 codec.
        If you're using Linux+Firefox, try a different browser or try
        installing the
        <code>gstreamer0.10-ffmpeg</code>
        <code>gstreamer0.10-plugins-good</code> packages.
        <br/><br/>
        Thanks! This saves us
        from needing to use Flash or encode videos in multiple formats. And that
        let's us get back to making more videos :). But as always, please feel
        free to <a href="../../contact">message us</a>.
    </div>

    <video id="js-video-player" class="video-js vjs-default-skin vjs-big-play-centered video-js-16x9"
            controls preload="auto" width="auto" height="auto"
            poster="http://i.vimeocdn.com/video/550520953_960x540.jpg?r=pad">
        <source src="http://player.vimeo.com/external/150915380.hd.mp4?s=9f38b9f50b6bcf322c858f463b4add86bc0bc8fe&amp;profile_id=119&amp;oauth2_token_id=308801954" type="video/mp4" data-res="HD" data-default="true" />
        <source src="http://player.vimeo.com/external/150915380.sd.mp4?s=34f2768a6bd51fa9d276d35dc32d6160899361a6&amp;profile_id=112&amp;oauth2_token_id=308801954" type="video/mp4" data-res="SD" />
        <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading to a web browser that
            <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
        </p>
    </video>


                            <div class="end-show js-post-play-wrapper" style="display: none;">
                                <p class="end-show-header">You're Killing it!</p>

                                <div class="text-center overlay-btn">
                                    <!-- This is filled in via JS -->
                                    <a href="json-api#" class="btn btn-lg btn-warning js-next-item-anchor"></a>
                                    <div class="js-all-finished-holder" style="display: none; color: #fff;">
                                        Another Tutorial down!<br/><br/>
                                                                                    <a href="../tag/symfony" class="btn btn-lg btn-success">Back to the <i>Symfony 3</i> Track</a>
                                                                            </div>
                                </div>

                                <p class="end-show-link js-video-repeat"><a class="knp-color-white link-no-underline" href="json-api#">
                                    <i class="fa fa-repeat"></i> Watch again
                                </a></p>
                            </div>
                                                </div>
                    </div>
                </div>
            </div>
        </div>
         
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="pull-right">
                                    <a class="btn btn-success"
           href="url-generation#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                </div>

                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a data-toggle="tab" href="json-api#tab-script">Script</a></li>
                    <li><a data-toggle="tab" href="json-api#tab-comment">
                        <i class="fa fa-comment-o"></i>
                                                    
                                                                                                (25+)
                                                                                        Conversation
                                            </a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="tab-script">
                        <div class="js-script-content-wrapper top-margin-script markdown-content">
                                                                                        <a href="https://github.com/knpuniversity/symfony/edit/master/knpu/ep1-intro/json-api.md" target="_blank" class="btn btn-default btn-circle pull-right js-tooltip" title="Edit on GitHub"><span class="fa fa-pencil"></span></a>
                                                                    <p>Okay, this is cool... but what about APIs and JavaScript frontends and all that new
fancy stuff? How does Symfony stand up to that? Actually, it stands up <em>wonderfully</em>:
Symfony is a first-class tool for building APIs. Seriously, you're going to love
it.</p>
<p>Since the world is now a mix of traditional apps that return HTML and API's that
feed a JavaScript frontend, we'll make an app that's a mixture of both.</p>
<p>Right now, the notes are rendered server-side inside of the <code>show.html.twig</code> template.
But that's not awesome enough! If an aquanaut adds a new comment, I need to see it
instantly, <em>without</em> refreshing. To do that, we'll need an API endpoint that returns
the notes as JSON. Once we have that, we can use JavaScript to use that endpoint
and do the rendering.</p>
<h2 id="creating-api-endpoints">Creating API Endpoints <a class="headerlink" href="json-api#creating-api-endpoints" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>So how <em>do</em> you create API endpoints in Symfony? Ok, do you remember what a controller
<em>always</em> returns? Yes, a Response! And ya know what? Symfony doesn't care whether
that holds HTML, JSON, or a CSV of octopus research data. So actually, this turns
out to be really easy.</p>
<p>Create a new controller: I'll call it <code>getNotesAction()</code>. This will return notes
for a specific genus. Use <code>@Route("/genus/{genusName}/notes")</code>. We really only want
this endpoint to be used for <code>GET</code> requests to this URL. Add <code>@Method("GET")</code>:</p>
<p><div class="code-block-wrapper" data-code-block-guid="c9f252a70f">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-40" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            40 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="12-21" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 12 - 21
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="22"></td>
            <td class="blob-code">    <span class="hljs-comment">/**</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="23"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@Route</span>("/genus/{genusName}/notes")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="24"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@Method</span>("GET")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="25"></td>
            <td class="blob-code">     */</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="26"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNotesAction</span><span class="hljs-params">($genusName)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="27"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="28-37" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 28 - 37
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="38"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="39"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Without this, the route will match a request using <em>any</em> HTTP method, like <code>POST</code>.
But with this, the route will only match if you make a GET request to this URL. Did
we need to do this? Well no: but it's pretty trendy in API's to think about which
HTTP method should be used for each route.</p>
<h2 id="missing-annotation-use-statement">Missing Annotation use Statement <a class="headerlink" href="json-api#missing-annotation-use-statement" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Hmm, it's highlighting the <code>@Method</code> as a missing import. Ah! Don't forget when
you use annotations, let PhpStorm autocomplete them for you. That's important because
when you do that, PhpStorm adds a <code>use</code> statement at the top of the file that you
need:</p>
<p><div class="code-block-wrapper" data-code-block-guid="fdeae7b606">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-40" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            40 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-4" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 4
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="5"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Sensio</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkExtraBundle</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Method</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="6-40" data-last="1">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 6 - 40
                            </td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>If you forget this, you'll get a pretty clear error about it.</p>
<p>Ok, let's see if Symfony sees the route! Head to the console and run <code>debug:router</code>:</p>
<pre><code class="language-bash"><div class="line">php bin/console debug:router</div></code></pre>
<p>Hey! There's the new route at the bottom, with its method set to GET.</p>
<h2 id="the-json-controller">The JSON Controller <a class="headerlink" href="json-api#the-json-controller" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Remove the <code>$notes</code> from the other controller: we won't pass that to the template
anymore:</p>
<p><div class="code-block-wrapper" data-code-block-guid="cfb58bd6e8">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-40" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            40 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="12-14" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 12 - 14
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="15"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showAction</span><span class="hljs-params">($genusName)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="16"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="17"></td>
            <td class="blob-code">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;render(<span class="hljs-string">'genus/show.html.twig'</span>, <span class="hljs-keyword">array</span>(</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="18"></td>
            <td class="blob-code">            <span class="hljs-string">'name'</span> =&gt; $genusName,</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="19"></td>
            <td class="blob-code">        ));</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="20"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="21-38" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 21 - 38
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="39"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>In the new controller, I'll paste a new <code>$notes</code> variable set to some beautiful
data:</p>
<p><div class="code-block-wrapper" data-code-block-guid="62b22cdc9e">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-40" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            40 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="12-25" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 12 - 25
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="26"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNotesAction</span><span class="hljs-params">($genusName)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="27"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="28"></td>
            <td class="blob-code">        $notes = [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="29"></td>
            <td class="blob-code">            [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'AquaPelham'</span>, <span class="hljs-string">'avatarUri'</span> =&gt; <span class="hljs-string">'/images/leanna.jpeg'</span>, <span class="hljs-string">'note'</span> =&gt; <span class="hljs-string">'Octopus asked me a riddle, outsmarted me'</span>, <span class="hljs-string">'date'</span> =&gt; <span class="hljs-string">'Dec. 10, 2015'</span>],</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="30"></td>
            <td class="blob-code">            [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">2</span>, <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'AquaWeaver'</span>, <span class="hljs-string">'avatarUri'</span> =&gt; <span class="hljs-string">'/images/ryan.jpeg'</span>, <span class="hljs-string">'note'</span> =&gt; <span class="hljs-string">'I counted 8 legs... as they wrapped around me'</span>, <span class="hljs-string">'date'</span> =&gt; <span class="hljs-string">'Dec. 1, 2015'</span>],</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="31"></td>
            <td class="blob-code">            [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">3</span>, <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'AquaPelham'</span>, <span class="hljs-string">'avatarUri'</span> =&gt; <span class="hljs-string">'/images/leanna.jpeg'</span>, <span class="hljs-string">'note'</span> =&gt; <span class="hljs-string">'Inked!'</span>, <span class="hljs-string">'date'</span> =&gt; <span class="hljs-string">'Aug. 20, 2015'</span>],</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="32"></td>
            <td class="blob-code">        ];</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="33-37" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 33 - 37
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="38"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="39"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>We're not using a database yet, but you can already see that this kind of <em>looks</em>
like it came from one: it has a username, a photo for each avatar, and the actual
note. It'll be pretty easy to make this dynamic in the <a href="../symfony-doctrine/resume">next episode</a>.</p>
<p>Next, create a <code>$data</code> variable, set it to an array, and put the <code>$notes</code> in a <code>notes</code>
key inside of that. Don't worry about this: I'm just creating a future JSON structure
I like:</p>
<p><div class="code-block-wrapper" data-code-block-guid="cb8214a92f">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-40" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            40 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-27" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 27
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="28"></td>
            <td class="blob-code">        $notes = [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="29"></td>
            <td class="blob-code">            [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'AquaPelham'</span>, <span class="hljs-string">'avatarUri'</span> =&gt; <span class="hljs-string">'/images/leanna.jpeg'</span>, <span class="hljs-string">'note'</span> =&gt; <span class="hljs-string">'Octopus asked me a riddle, outsmarted me'</span>, <span class="hljs-string">'date'</span> =&gt; <span class="hljs-string">'Dec. 10, 2015'</span>],</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="30"></td>
            <td class="blob-code">            [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">2</span>, <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'AquaWeaver'</span>, <span class="hljs-string">'avatarUri'</span> =&gt; <span class="hljs-string">'/images/ryan.jpeg'</span>, <span class="hljs-string">'note'</span> =&gt; <span class="hljs-string">'I counted 8 legs... as they wrapped around me'</span>, <span class="hljs-string">'date'</span> =&gt; <span class="hljs-string">'Dec. 1, 2015'</span>],</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="31"></td>
            <td class="blob-code">            [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">3</span>, <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'AquaPelham'</span>, <span class="hljs-string">'avatarUri'</span> =&gt; <span class="hljs-string">'/images/leanna.jpeg'</span>, <span class="hljs-string">'note'</span> =&gt; <span class="hljs-string">'Inked!'</span>, <span class="hljs-string">'date'</span> =&gt; <span class="hljs-string">'Aug. 20, 2015'</span>],</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="32"></td>
            <td class="blob-code">        ];</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="33"></td>
            <td class="blob-code">        $data = [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="34"></td>
            <td class="blob-code">            <span class="hljs-string">'notes'</span> =&gt; $notes</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="35"></td>
            <td class="blob-code">        ];</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="36-40" data-last="1">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 36 - 40
                            </td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Now, how do we finally return <code>$data</code> as JSON? Simple: <code>return new Response()</code> and
pass it <code>json_encode($data)</code>:</p>
<p><div class="code-block-wrapper" data-code-block-guid="66e480328b">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-40" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            40 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="12-25" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 12 - 25
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="26"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNotesAction</span><span class="hljs-params">($genusName)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="27"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="28-36" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 28 - 36
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="37"></td>
            <td class="blob-code">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(json_encode($data));</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="38"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="39"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Simple!</p>
<p>Hey, let's see if this works. Copy the existing URL and add <code>/notes</code> at the end.
Congratulations, you've just created your first Symfony API endpoint.</p>
<h2 id="jsonresponse">JsonResponse <a class="headerlink" href="json-api#jsonresponse" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>But you know, that <em>could</em> have been easier. Replace the Response with <code>new JsonResponse</code>
and pass it <code>$data</code> without the <code>json_encode</code>:</p>
<p><div class="code-block-wrapper" data-code-block-guid="7a85429388">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-41" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            41 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/GenusController.php">src/AppBundle/Controller/GenusController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-37" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 37
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="38"></td>
            <td class="blob-code">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> JsonResponse($data);</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="39-41" data-last="1">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 39 - 41
                            </td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>This does two things. First, it
calls <code>json_encode()</code> for you. Hey thanks! And second, it sets the <code>application/json</code>
<code>Content-Type</code> header on the Response, which we could have set manually, but this
is easier.</p>
<p>Refresh. It still works perfectly.</p>

    
                        </div>
                    </div>
                    <div class="tab-pane" id="tab-comment">
                        <h3>Leave a comment!</h3>
                                                        <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3004580904" id="dsq-comment-3004580904">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/zuhayertahir/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/10308/6524/avatar92.jpg?1482238446">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3004580904">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-16</span>
	                            <span class="dsq-commenter-name">Zuhayer Tahir</span>
	                        </div>

	                        <div id="dsq-comment-message-3004580904" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3004580904" class="dsq-comment-text">
	                                <p>Thanks for asking, i had the same is question (y)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3003593359" id="dsq-comment-3003593359">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/yuriiromanov/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3003593359">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-15</span>
	                            <span class="dsq-commenter-name">Yurii Romanov</span>
	                        </div>

	                        <div id="dsq-comment-message-3003593359" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3003593359" class="dsq-comment-text">
	                                <p>Nice! Thank you!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3003532648" id="dsq-comment-3003532648">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3003532648">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-15</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-3003532648" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3003532648" class="dsq-comment-text">
	                                <p>Hey Yuri!</p><p>It should be like this:</p><p></p><pre><code><br>$response = new JsonResponse(...);<br>$response-&gt;setEncodingOptions(JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES);<br></code></pre><p></p><p>Here's some more info, above the encodingOptions property in that class: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fblob%2F1b6b08cf0babd52390ed50f95648f1cf58f8f67d%2Fsrc%2FSymfony%2FComponent%2FHttpFoundation%2FJsonResponse.php%23L32%3A_oT6waiWil77-7H0uKb7YYFZ1Bk&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a></p><p>Hope that helps!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3003430346" id="dsq-comment-3003430346">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/yuriiromanov/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3003430346">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-15</span>
	                            <span class="dsq-commenter-name">Yurii Romanov</span>
	                        </div>

	                        <div id="dsq-comment-message-3003430346" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3003430346" class="dsq-comment-text">
	                                <p>Hi! How i can set JSON_UNESCAPED_UNICODE and JSON_UNESCAPED_SLASHES to JsonResponse?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2990301019" id="dsq-comment-2990301019">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2990301019">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-08</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2990301019" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2990301019" class="dsq-comment-text">
	                                <p>Yes, awesome! If you have any questions, let me know!</p><p>Keep up the good work!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2990141468" id="dsq-comment-2990141468">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/nobuyukifujioka/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20526/1524/avatar92.jpg?1480287706">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2990141468">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-08</span>
	                            <span class="dsq-commenter-name">Nobuyuki Fujioka</span>
	                        </div>

	                        <div id="dsq-comment-message-2990141468" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2990141468" class="dsq-comment-text">
	                                <p>Yo, Ryan</p><p>Thank you for your reply.  I struggled for many hours, but yes I used the nelmio cors bundle thingy, and now it is working.  Still not understanding 100% how I made it work with the nelmio settings, but good enough for now.</p><p>Cheers,<br>Noby</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2990030716" id="dsq-comment-2990030716">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2990030716">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-07</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2990030716" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2990030716" class="dsq-comment-text">
	                                <p>Hey Noby!</p><p>Sure! I typically use <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fnelmio%2FNelmioCorsBundle%3A-lw-3hN5qHRpBk9pRJjEA4UQ12E&amp;cuid=1175718" rel="nofollow noopener">https://github.com/nelmio/Nelm...</a>. It works really nicely to return the necessary headers from your API so that JavaScript can get passed the CORS issue. Of course, another solution (which just may not be possible in your situation) is to keep the two sites under the same domain - then CORS isn't a problem.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2989236823" id="dsq-comment-2989236823">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/nobuyukifujioka/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20526/1524/avatar92.jpg?1480287706">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2989236823">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-07</span>
	                            <span class="dsq-commenter-name">Nobuyuki Fujioka</span>
	                        </div>

	                        <div id="dsq-comment-message-2989236823" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2989236823" class="dsq-comment-text">
	                                <p>Hi, KnpUniversity</p><p>I am trying to make a quick api with symfony as backend, and a completely separate front end (angular1) talking to the symfony api.<br>I am not sure how to get rid of the cross origin issue.  Could you give me some pointer on how to set up the cors so that I can use the api from the front end app (javascript. no php, no twig) in another domain?</p><p>Thanks,<br>Noby</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2982556449" id="dsq-comment-2982556449">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2982556449">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-03</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2982556449" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2982556449" class="dsq-comment-text">
	                                <p>Ah, yes! it's my fault... Thanks for noticing me, I'll edit my comment )</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2982538636" id="dsq-comment-2982538636">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/nobuyukifujioka/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20526/1524/avatar92.jpg?1480287706">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2982538636">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-03</span>
	                            <span class="dsq-commenter-name">Nobuyuki Fujioka</span>
	                        </div>

	                        <div id="dsq-comment-message-2982538636" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2982538636" class="dsq-comment-text">
	                                <p>Hi, Victor<br>Excellent!  Thank you!<br>Just minor note, I think cache:clear instead of clear:cache.  It works now. Thanks! =)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2982534430" id="dsq-comment-2982534430">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2982534430">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-03</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2982534430" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2982534430" class="dsq-comment-text">
	                                <p>Hey Nobuyuki,</p><p>Yes, Symfony has a console command to clear its cache - execute the next command in your terminal:<br></p><pre><code><br># to clear the cache for dev environment:<br>$ bin/console cache:clear<br><br># or to clear the cache for prod environment (or any other environment you have, just type it instead of prod):<br>$ bin/console cache:clear --env=prod<br></code></pre><p></p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2982522253" id="dsq-comment-2982522253">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/nobuyukifujioka/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20526/1524/avatar92.jpg?1480287706">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2982522253">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-03</span>
	                            <span class="dsq-commenter-name">Nobuyuki Fujioka</span>
	                        </div>

	                        <div id="dsq-comment-message-2982522253" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2982522253" class="dsq-comment-text">
	                                <p>Hi, Victor</p><p>I had a similar issue as others.  Symfony was not able to find route /genus/{genusName} anymore.  notes route was working.<br>I just continue to follow your instruction in the next chapter and the issue resolved by itself.  I wonder if it is a cache issue as you mentioned above.</p><p>Is there any special way to clear cash in phpStorm or in symfony?</p><p>Your help is appreciated.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2844730615" id="dsq-comment-2844730615">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/oscar_galv_n/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/16914/3697/avatar92.jpg?1471550498">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2844730615">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-18</span>
	                            <span class="dsq-commenter-name">Oscar Galván</span>
	                        </div>

	                        <div id="dsq-comment-message-2844730615" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2844730615" class="dsq-comment-text">
	                                <p>I think this is actually normal, because in the video we deleted the variable called $notes from the showAction method.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2820120702" id="dsq-comment-2820120702">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2820120702">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-04</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2820120702" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2820120702" class="dsq-comment-text">
	                                <p>Oh, did you confuse due to my answer? Or was this tutorial hard for you? Tell us what was the hardest part for you in this course.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2818581327" id="dsq-comment-2818581327">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/zobelleton/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/21306/2072/avatar92.jpg?1472144793">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2818581327">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-03</span>
	                            <span class="dsq-commenter-name">Zoé Belleton</span>
	                        </div>

	                        <div id="dsq-comment-message-2818581327" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2818581327" class="dsq-comment-text">
	                                <p>Thanks ! I feel very lost... Is there any other lessons that a beginner should follow before this course (except the  PHP POO part that I have already did )?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2818560647" id="dsq-comment-2818560647">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2818560647">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-03</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2818560647" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2818560647" class="dsq-comment-text">
	                                <p>Hey Zoe,</p><p>Ah, let's debug this thing! PhpStorm could help with it, right click on the project, choose "Find in path" item in drop down menu and search for "show.html.twig". PhpStorm finds all places where you use this template. Then ensure you pass that "notes" variable to this template in all places where you render / use it. Of course, you should exclude cache directory. BTW, don't forget to clear cache as well after any changes, especially for prod env.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2818548819" id="dsq-comment-2818548819">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/zobelleton/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/21306/2072/avatar92.jpg?1472144793">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2818548819">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-03</span>
	                            <span class="dsq-commenter-name">Zoé Belleton</span>
	                        </div>

	                        <div id="dsq-comment-message-2818548819" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2818548819" class="dsq-comment-text">
	                                <p>I have the same problem and it doesn't help me...</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2776560401" id="dsq-comment-2776560401">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2776560401">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-07-11</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2776560401" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2776560401" class="dsq-comment-text">
	                                <p>Hey Viktor,</p><p>That's bad. It means you try to use variable `notes` didn't passed into the template. Probably you forgot to pass it in a controller's action which render this template like:<br></p><pre><code>public function someAction()<br>{<br>    // some code<br><br>    return $this-&gt;render('genus/show.html.twig', [<br>        'notes' =&gt; $notes,<br>        // other variables<br>    ]);<br>}<br></code></pre><p></p><p>Check that and let me know if it helped.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2773947801" id="dsq-comment-2773947801">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="json-api">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2773947801">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-07-09</span>
	                            <span class="dsq-commenter-name">Viktor</span>
	                        </div>

	                        <div id="dsq-comment-message-2773947801" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2773947801" class="dsq-comment-text">
	                                <p>Is it okay if when trying to access my http://localhost:8000/genus/octopus I get error saying: Variable "notes" does not exist in genus/show.html.twig at line 25</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2669846206" id="dsq-comment-2669846206">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/zs_zoubair/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2669846206">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-11</span>
	                            <span class="dsq-commenter-name">zs Zoubair</span>
	                        </div>

	                        <div id="dsq-comment-message-2669846206" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2669846206" class="dsq-comment-text">
	                                <p>nice work bro keep up (y) :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2649654821" id="dsq-comment-2649654821">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2649654821">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-29</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2649654821" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2649654821" class="dsq-comment-text">
	                                <p>Not a stupid question :). There is no reason - both would work just fine. Typically, when I am returning a "list" of things (like a list of notes), I put them under a key. This would allow you later to add other properties more easily, in case you want to return notes and something else. But technically speaking, there's no reason - but it's a good idea!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2649563636" id="dsq-comment-2649563636">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bondashmaster/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20619/7730/avatar92.jpg?1476329498">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2649563636">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-29</span>
	                            <span class="dsq-commenter-name">BondashMaster</span>
	                        </div>

	                        <div id="dsq-comment-message-2649563636" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2649563636" class="dsq-comment-text">
	                                <p>Why use  $data = ['notes' =&gt; $notes]; instead of just returning notes???<br>Sorry if is a stupid question. I had never usen Json before.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2647059505" id="dsq-comment-2647059505">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2647059505">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-28</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2647059505" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2647059505" class="dsq-comment-text">
	                                <p>Hi Konrad!</p><p>Yep, it's ok :). Technically, my output also has no spaces, but I have a plugin for my browser - JSONView - which formats it "pretty" for me.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2646097965" id="dsq-comment-2646097965">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/konradzajc/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20591/4615/avatar92.jpg?1465212805">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2646097965">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-04-27</span>
	                            <span class="dsq-commenter-name">Konrad Zając</span>
	                        </div>

	                        <div id="dsq-comment-message-2646097965" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2646097965" class="dsq-comment-text">
	                                <p>Hi,<br>I went through the tutorial and it showes me the correct data, but not formated, like:<br>{"notes":[{"id":1,"username":"AquaPelham","avatarUri":"\/images\/leanna.jpeg","note":"Octopus asked me a riddle, outsmarted me","date":"Dec. 10, 2015"},{"id":2,"username":"AquaWeaver","avatarUri":"\/images\/ryan.jpeg","note":"I counted 8 legs... as they wrapped around me","date":"Dec. 1, 2015"},{"id":3,"username":"AquaPelham","avatarUri":"\/images\/leanna.jpeg","note":"Inked!","date":"Aug. 20, 2015"}]}<br>All in one line, is it ok?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2595934786" id="dsq-comment-2595934786">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_eiO0aPTXS3/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/7164/7260/avatar92.jpg?1459296117">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2595934786">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-30</span>
	                            <span class="dsq-commenter-name">Brian Morris</span>
	                        </div>

	                        <div id="dsq-comment-message-2595934786" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2595934786" class="dsq-comment-text">
	                                <p>They are talking about the formatting of the output not the output itself. For anyone else with the issue, install a browser extension (or plug in). Just search for your browser + "json formatter".</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2557762416" id="dsq-comment-2557762416">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/andrewgrudin/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2557762416">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-08</span>
	                            <span class="dsq-commenter-name">Andrew Grudin</span>
	                        </div>

	                        <div id="dsq-comment-message-2557762416" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2557762416" class="dsq-comment-text">
	                                <p>I had same output as  hanthuy had too , but after installing JSONView on firefox all is fine!<br></p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2549477196" id="dsq-comment-2549477196">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2549477196">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-03</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2549477196" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2549477196" class="dsq-comment-text">
	                                <p>Hey there!</p><p>I think I know the issue :). But first, it's *more* important that you only enable "dev" bundles in the dev/test environments in AppKernel than adding libraries to require-dev. Making sure a bundle doesn't get loaded in "prod" if it's not needed actually makes your container smaller and gives you a smaller memory footprint. But require-dev basically just makes your filesystem footprint smaller - which doesn't have much impact on performance.</p><p>Now, I'm guessing that your deploy explodes on "composer install" - is that correct? If you *don't* install SensioGeneratorBundle (--no-dev), then you *must* run all app/console commands with --env=prod. You cannot use the "dev" environment at all anymore - as SensioGeneratorBundle needs to be included in AppKernel in dev. When you run composer install, it runs a few app/console commands *for* you, and it runs them in the dev environment by default. To make these commands run in the "prod" environment, you can run "export SYMFONY_ENV=prod" to set an environment variable. More details here: <a href="http://disq.us/url?url=http%3A%2F%2Fsymfony.com%2Fdoc%2Fcurrent%2Fcookbook%2Fdeployment%2Ftools.html%23c-install-update-your-vendors%3AVDzrXtvj7FhgyjstXn_f8euhzdw&amp;cuid=1175718" rel="nofollow noopener">http://symfony.com/doc/current...</a></p><p>For me, this is enough of a headache that I usually *do* install dev dependencies on the production server.</p><p>I hope that helps!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2549193663" id="dsq-comment-2549193663">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="json-api">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2549193663">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-03</span>
	                            <span class="dsq-commenter-name">docLommy</span>
	                        </div>

	                        <div id="dsq-comment-message-2549193663" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2549193663" class="dsq-comment-text">
	                                <p>Hi, weaverryan ! Principally I'd like to organize my dependencies in a more meaningful way by using the require-dev key in composer.json for dev-only dependencies. As I see in the tutorial code you place the sensio/generator-bundle under require-dev and it's fine. However, if I try this in my project, my deployment explodes with errors, although I'd expect it to work, as composer install has the --dev option as default. So it should install all dependencies under require AND require-dev anyway. I guess I've just not understood it completely :/</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2514158949" id="dsq-comment-2514158949">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/lacymoore/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/542/2639/avatar92.jpg?1455514558">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2514158949">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-02-15</span>
	                            <span class="dsq-commenter-name">Lacy Moore</span>
	                        </div>

	                        <div id="dsq-comment-message-2514158949" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2514158949" class="dsq-comment-text">
	                                <p>That tripped me up as well.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2467069374" id="dsq-comment-2467069374">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/hanthuy/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/8536/3497/avatar92.jpg?1481870830">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2467069374">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-19</span>
	                            <span class="dsq-commenter-name">hanthuy</span>
	                        </div>

	                        <div id="dsq-comment-message-2467069374" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2467069374" class="dsq-comment-text">
	                                <p>Yeah, your result is really nice with line by line, but I'm not. Is there any differences? Thanks,<br>{<br>- note: [<br>xxxxxx<br>]<br>}</p><p>Updated: I also think that's the reason why my notes doesn't appear in the next video although I added the {% block javascripts %} to show.html.twig</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2466999409" id="dsq-comment-2466999409">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2466999409">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-19</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2466999409" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2466999409" class="dsq-comment-text">
	                                <p>Hi!</p><p>Actually, this JSON output looks perfect! You *should* be getting exactly this after returning new Response(json_encode($data)) or new JsonResponse($data).</p><p>Is there an issue I'm missing?</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2466852521" id="dsq-comment-2466852521">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/hanthuy/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/8536/3497/avatar92.jpg?1481870830">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2466852521">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-19</span>
	                            <span class="dsq-commenter-name">hanthuy</span>
	                        </div>

	                        <div id="dsq-comment-message-2466852521" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2466852521" class="dsq-comment-text">
	                                <p>Hi,</p><p>I don't what happened, but my output is still the same after using json_encode:</p><p>{"notes":[{"id":1,"username":"AquaPelham","avatarUri":"\/images\/leanna.jpeg","note":"Octopus asked me a riddle, outsmarted me","date":"Dec. 10, 2015"},{"id":2,"username":"AquaWeaver","avatarUri":"\/images\/ryan.jpeg","note":"I counted 8 legs... as they wrapped around me","date":"Dec. 1, 2015"},{"id":3,"username":"AquaPelham","avatarUri":"\/images\/leanna.jpeg","note":"Inked!","date":"Aug. 20, 2015"}]}</p><p>Any recommendations, thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2461850342" id="dsq-comment-2461850342">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2461850342">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-16</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2461850342" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2461850342" class="dsq-comment-text">
	                                <p>Yes, good tip! I completely forgot to mention that in the Phpstorm chapter :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2461633532" id="dsq-comment-2461633532">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_LZF7xmZtsp/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2461633532">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-16</span>
	                            <span class="dsq-commenter-name">Matt W.</span>
	                        </div>

	                        <div id="dsq-comment-message-2461633532" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2461633532" class="dsq-comment-text">
	                                <p>Just as an fyi, you also need PHP Annotations plugin for the Annotation auto-complete to work in PHPStorm.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_video_json-api';var disqus_url = 'https://knpuniversity.com/screencast/symfony/json-api';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                                            </div>
                    <div class="pull-left-xs pull-right-md">
                                        <a class="btn btn-success"
           href="url-generation#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                    </div>
                    <div class="pull-left addthis-module">
                        
    <div class="addthis_toolbox addthis_default_style js-analytics-addthis-wrapper addthis_32x32_style" addthis:url="http://knpuniversity.com/screencast/symfony/json-api" addthis:title="Joyful Development with Symfony 3">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../about">About</a></li>
                            <li><a class="knp-color-black" href="../../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
            <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_chapter',
            {"course":"symfony","courseIsOwned":true,"chapter":"JSON Responses + Route Generation","chapterNumber":10,"chapterIsFree":true}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../../assets/vendor/jquery-sticky/jquery.sticky.js"></script>
    <script type="text/javascript" src="../../assets/vendor/zeroclipboard/dist/ZeroClipboard.min.js"></script>
    <script type="text/javascript" src="../../js/CodeBlocks.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/underscore.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/doctools.js"></script>

    <script>
        Core.courseTitle = 'Joyful Development with Symfony 3';
        Core.courseId = 74
        Core.courseIsOwned = true;
        Core.courseSlug = 'symfony';
                    Core.chapterTitle = 'JSON Responses + Route Generation';
            Core.chapterNumber = 10;
            Core.chapterIsFree = true;
            Core.chapterSlug = 'json-api';
        
                var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '1.0.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };

        jQuery(document).ready(function() {
            // Stick left sidebar menu
            $('.js-sticker').sticky();

            var $scriptWrapper = $('.js-script-content-wrapper');
            var codeBlocks = new Core.CodeBlocks($scriptWrapper);

            var expandList = $('.js-expand-list');

            expandList.on('click', function(){
                var target = $(this).data('target');
                var $expandArea = $('#' + target);
                $expandArea.toggleClass('expanded');

                // http://stackoverflow.com/questions/2868582/click-outside-menu-to-close-in-jquery
                $(document).one('click', function closeExpandList (e){
                    if($expandArea.has(e.target).length === 0){
                        $expandArea.removeClass('expanded');
                    } else {
                        $(document).one('click', closeExpandList);
                    }
                });
            });
        });
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>



    <script type="text/javascript">
    var addthis_share = {
        templates: {
            twitter: '{{title}} - {{url}} | via @KnpUniversity'
        }
    }
</script>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=weaverryan"></script>

</body>
</html>
