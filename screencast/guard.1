<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"Vg4HUlBbGwAHVlFSDgM="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(12),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(13),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,d=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(5),t(4),"addEventListener"in window&&t(3),s.xhrWrappable&&t(6),u=!0)}c.on("fn-start",function(t,e,n){u&&(d+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(14)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],4:[function(t,e,n){var r=t("ee").get("raf"),o=t(14)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],5:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(14)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],6:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,v,"fn-",c)}function i(t){y.push(t),h&&(w=-w,b.data=w)}function a(){for(var t=0;t<y.length;t++)r([],y[t]);y.length&&(y=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(3);var f=t("ee"),u=f.get("xhr"),d=t(14)(u),l=NREUM.o,p=l.XHR,h=l.MO,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],y=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,g),g.prototype=p.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),h){var w=1,b=document.createTextNode(w);new h(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],7:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(8),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(11),h=t(10),m=window.XMLHttpRequest;a.features.xhr=!0,t(6),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],8:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],9:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(12),c=t(13),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit"],d="api-",l=d+"ixn-";a(u,function(t,e){f[e]=o(d+e,!0,"api")}),f.addPageAction=o(d+"addPageAction",!0),f.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(l+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(l+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],10:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],11:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],12:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],13:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],14:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(13),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){l([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){l([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){l([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function l(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!l.aborted){t&&t(n,r,o);for(var i=e(o),a=h(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[g[n]];return f&&f.push([w,n,r,i]),i}}function p(t,e){y[t]=h(t).concat(e)}function h(t){return y[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",g[n]=e,e in u||(u[e]=[])})}var y={},g={},w={on:p,emit:n,get:m,listeners:h,context:e,buffer:v,abort:a,aborted:!1};return w}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var c="nr@context",s=t("gos"),f=t(12),u={},d={},l=e.exports=o();l.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=w.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(y,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=d.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(12),f=t("ee"),u=window,d=u.document,l="addEventListener",p="attachEvent",h=u.XMLHttpRequest,m=h&&h.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:h,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(9);var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-998.min.js"},g=h&&m&&m[l]&&!/CriOS/.test(navigator.userAgent),w=e.exports={offset:a(),origin:v,features:{},xhrWrappable:g};d[l]?(d[l]("DOMContentLoaded",i,!1),u[l]("load",r,!1)):(d[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,7]);</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>KnpUGuard: Symfony Authentication with a Smile Video Tutorial Screencast | KnpUniversity</title>

            <link href="../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    
                    <script src="../bundles/fosjsrouting/js/router.js"></script>

        <script src="../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../js/routing?callback=fos.Router.setData"></script>
            
    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="PHP and Symfony Tutorial Screencasts - with free videos, scripts, and code downloads!">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="KnpUGuard: Symfony Authentication with a Smile Video Tutorial Screencast">
<meta property="og:description" content="Symfony&#039;s authentication is definitely powerful, but if you
need to do something complex, you might pull your hair out.
Introducing KnpUGuard authentication, which puts all the complexities of any
authentication scheme right at your finger-tips">
<meta property="og:url" content="http://knpuniversity.com/screencast/guard">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/guard:a326b83b22fcc1c6da3b2fdda75ead60b37c0c4f/guard-auth.png">

<meta name="twitter:card" content="summary">


            </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin ">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="guard.1#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../tracks.1">Tracks</a></li>
          <li><a href="../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../pricing.1">Pricing</a></li>
        <li><a href="../training">Training</a></li>
                <li class="visible-xs"><a href="../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../logout">Sign Out</a></li>

            <li><a href="../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    





<div class="tut-hero" style="">
<div class="arrow-right"  style=""></div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-8">
                <h1 class="knp-color-white tuts-header-font tuts-header-font-tutorial-overview">KnpUGuard: Symfony Authentication with a Smile</h1>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4">
                <section class="extra-margin-buttons" id="course-subscription-wrapper">
                                                                                                
                        <a href="guard/install#play" class="btn btn-success">
                            <i class="fa fa-play-circle-o"></i>
                            Play Tutorial
                        </a>
                    
                                    </section>
                <section class="tuts-sub-header tuts-sub-header-tutorial-overview">
                                                        </section>
            </div>
        </div>
    </div>
</div>

    <div class="container">
        <div class="row">
                        <div class="col-xs-12 col-sm-6">
                <h3 class="course-header-extra-margin account-header course-overview-header">Chapters</h3>

                                
                <div class="tut-overview-list">
                                                                    <h4>
                            You're <span class="course-overview-progress">0%</span> through this course
                                                            - get started!
                                                    </h4>
                            <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>

                    
                                            <div class="alert alert-info" style="margin-bottom: 0; margin-top: 10px;">
                            This course is still being released! Check back later for more chapters.
                        </div>
                    
                        
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item ">
            <a href="guard/install" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        Installation
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard/login-form" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        How to Create a Login Form
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard/api-token" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        How to Authenticate via an API Token
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard.1#" class="js-no-follow-link">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        Social Login with Facebook
                                                    <small><em>(coming soon)</em></small>
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard/login-form-customize-user" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        How to Login with a username *or* email (or crazier)
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard/error-messages" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        Customizing Authentication Failure Messages
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard/failure-handling" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        Customizing Failure Handling
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard/success-handling" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Customizing Success Handling
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard.1#" class="js-no-follow-link">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Login Form: Adding a CSRF Token
                                                    <small><em>(coming soon)</em></small>
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard.1#" class="js-no-follow-link">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        How can I use Multiple Authenticators?
                                                    <small><em>(coming soon)</em></small>
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard.1#" class="js-no-follow-link">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        How can I use this in Silex?
                                                    <small><em>(coming soon)</em></small>
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard.1#" class="js-no-follow-link">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        FOSUserBundle
                                                    <small><em>(coming soon)</em></small>
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="guard.1#" class="js-no-follow-link">
                <div class="row">
                    <div class="col-xs-9">
                                                13.
                        How can I Manually Authenticate a User?
                                                    <small><em>(coming soon)</em></small>
                                            </div>

                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-6">
                                                    <h3 class="course-header-extra-margin account-header course-overview-header">What you'll be learning</h3>
                
                

                <div class="course-overview summary"><p>Symfony's authentication is definitely powerful, but if you
need to do something complex, you might pull your hair out.</p>
<p>Introducing KnpUGuard authentication, which puts all the complexities of any
authentication scheme right at your finger-tips. The code you right will be
easy to understand and customizing things to any whim will be simple:</p>
<ul>
<li>Authentication via an API token</li>
<li>"Social login" / OAuth authentication</li>
<li>Creating a traditional login form</li>
<li>Customizing success/failure behavior</li>
<li>Customizing error messages</li>
<li>Loading users in complex ways</li>
<li>... probably anything else</li>
</ul>
<p>If all goes well, Guard will become a core part of Symfony. If you like it, let
people know it worked for you at <a href="https://github.com/symfony/symfony/pull/14673">symfony/symfony#14673</a>.
And if it doesn't cover a use-case, <a href="https://github.com/knpuniversity/KnpUGuard">open an issue</a>
and let me know!</p>
</div>

                
                <div>
                    <hr>
                    <h3>Your Guides</h3>
                                            <a>
                            <img title="Ryan Weaver" data-placement="bottom" class="img-circle contrib-img js-tooltip" src="https://www.gravatar.com/avatar/681e6d4d4cf91760e5e1d8ac9d6d7fc4?s=200&amp;d=//knpuniversity.com/assets/images/avatars/edgar.png" alt="Ryan Weaver">
                        </a>
                                    </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <h3>Questions? Conversation?</h3>
                                                            <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2924406814" id="dsq-comment-2924406814">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/tomnotmyrealsurname/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2924406814">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-29</span>
	                            <span class="dsq-commenter-name">Tom NotMyRealSurname</span>
	                        </div>

	                        <div id="dsq-comment-message-2924406814" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2924406814" class="dsq-comment-text">
	                                <p>Yes, that helped a lot and I have it up and running now.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2922623349" id="dsq-comment-2922623349">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2922623349">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-28</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2922623349" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2922623349" class="dsq-comment-text">
	                                <p>Hey Tom,</p><p>Ah, yes, this course have not been completely released yet. Take a look at "knpuniversity/oauth2-client-bundle" bundle, it helps a lot with OAuth2. BTW, it has some examples how to integrate this bundle with Symfony Guard: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fknpuniversity%2Foauth2-client-bundle%2F%23authenticating-with-guard%3A5RIfy7p4J6KIYGlR-9gGxF0YYik&amp;cuid=1175718" rel="nofollow noopener">https://github.com/knpuniversi...</a> . Let us know if you have any questions about integration.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2921637385" id="dsq-comment-2921637385">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/tomnotmyrealsurname/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2921637385">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-27</span>
	                            <span class="dsq-commenter-name">Tom NotMyRealSurname</span>
	                        </div>

	                        <div id="dsq-comment-message-2921637385" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2921637385" class="dsq-comment-text">
	                                <p>Anyone figured out how to do Facebook / Google / OAuth with this bundle? It's my main reason to come here and then it says "coming soon" ... :-/</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2670655195" id="dsq-comment-2670655195">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2670655195">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-11</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2670655195" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2670655195" class="dsq-comment-text">
	                                <p>I can't tell you that exactly, but I might be able to help. Support for Guard in Silex was just merged: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsilexphp%2FSilex%2Fpull%2F1296%2F%3AEOvO2_ZyEhy7ZAaaAVugD6BCZgU&amp;cuid=1175718" rel="nofollow noopener">https://github.com/silexphp/Si...</a>. Unfortunately, it was merged into Silex 1.0 only, and it hasn't been released yet, so you would need to use the unreleased Silex 2 to use it.</p><p>If you're using Silex 1, you'll need to create a custom authentication provider (<a href="http://disq.us/url?url=http%3A%2F%2Fsilex.sensiolabs.org%2Fdoc%2Fproviders%2Fsecurity.html%23defining-a-custom-authentication-provider%29%3AUa_H15-iuu9ax8GHXzOan6N88Sg&amp;cuid=1175718" rel="nofollow noopener">http://silex.sensiolabs.org/do...</a> - and basically try to "mimic" the above pull request. Once Silex 2 is released, it'll be very easy - but it's not *quite* there yet!</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2668248801" id="dsq-comment-2668248801">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/russellseymour/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11344/5104/avatar92.jpg?1404742632">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2668248801">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-10</span>
	                            <span class="dsq-commenter-name">Russell Seymour</span>
	                        </div>

	                        <div id="dsq-comment-message-2668248801" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2668248801" class="dsq-comment-text">
	                                <p>Hello, this looks great and exactly what I am looking for.  However I am using Silex, do you know when the chapter on using Guard Authentication in Silex will be written?<br>Thanks.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2595348940" id="dsq-comment-2595348940">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2595348940">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-29</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2595348940" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2595348940" class="dsq-comment-text">
	                                <p>Hi there!</p><p>I think I understand :). Yes, you can use FosUserBundle and *not* have a UserBundle (only have an AppBundle). Anything that you might normally put into UserBundle, just put into AppBundle. If you need to override templates, you can do that by putting the templates in app/Resources/views... <a href="http://disq.us/url?url=http%3A%2F%2Fsymfony.com%2Fdoc%2Fcurrent%2Fbook%2Ftemplating.html%23overriding-bundle-templates%3AZe28dzanmT5s6U7QemHUj_npT-8&amp;cuid=1175718" rel="nofollow noopener">http://symfony.com/doc/current...</a>.</p><p>The *only* limitation is that - with just one AppBundle - you probably won't be able to use "bundle inheritance" to override things in FOSUserBundle: <a href="http://disq.us/url?url=http%3A%2F%2Fsymfony.com%2Fdoc%2Fcurrent%2Fcookbook%2Fbundles%2Finheritance.html%3AYMAqNn47r_e53QP76L7SA7Chnr4&amp;cuid=1175718" rel="nofollow noopener">http://symfony.com/doc/current...</a>. But, that's not necessary - you can override everything in other ways. The only thing you will not be able to override are the controllers from FOSUserBundle. But, that's *also* ok - you should not override its controllers, you should hook into its event system to customize behavior: <a href="https://disq.us/url?url=https%3A%2F%2Fsymfony.com%2Fdoc%2Fmaster%2Fbundles%2FFOSUserBundle%2Fcontroller_events.html%3A92oD9ZZvwW35lDODbBlSi4WJzJg&amp;cuid=1175718" rel="nofollow noopener">https://symfony.com/doc/master...</a></p><p>Phew! I hope that helps!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2593218901" id="dsq-comment-2593218901">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="guard.1">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2593218901">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-28</span>
	                            <span class="dsq-commenter-name">elh</span>
	                        </div>

	                        <div id="dsq-comment-message-2593218901" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2593218901" class="dsq-comment-text">
	                                <p>hello , <br>Thank u for this tutoriel <br>Can u tell me if its possible to use FosUserBundle without the UserBundle that 's meen having just nth AppBundle ?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2567395332" id="dsq-comment-2567395332">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/eduardpleh/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/19217/9235/avatar92.jpg?1457886440">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2567395332">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-13</span>
	                            <span class="dsq-commenter-name">Eduard  Pleh</span>
	                        </div>

	                        <div id="dsq-comment-message-2567395332" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2567395332" class="dsq-comment-text">
	                                <p>Hey Ryan.</p><p>Thank you for guard auth extension that you wrote!<br>Symfony 2 auth system always was the 'pain' point for our team of developers.(I think not only for our team)<br>Now it works like a charm. Thank you again.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2418739529" id="dsq-comment-2418739529">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/broeser/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2418739529">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-12-20</span>
	                            <span class="dsq-commenter-name">B Roeser</span>
	                        </div>

	                        <div id="dsq-comment-message-2418739529" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2418739529" class="dsq-comment-text">
	                                <p>Hey Ryan,</p><p>My blog post is online. I hope its correct. *g*:<br><a href="http://disq.us/url?url=http%3A%2F%2Fbenedictroeser.de%2F2015%2F12%2Fusing-symfony-guard-component-without-the-whole-framework%2F%3A10KPrPVrs-qCdH5NKzIWNof_bKg&amp;cuid=1175718" rel="nofollow noopener">http://benedictroeser.de/2015/...</a></p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2416008007" id="dsq-comment-2416008007">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/broeser/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2416008007">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-12-18</span>
	                            <span class="dsq-commenter-name">B Roeser</span>
	                        </div>

	                        <div id="dsq-comment-message-2416008007" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2416008007" class="dsq-comment-text">
	                                <p>Thank you very much! The information about the factory class is very helpful.</p><p>When I'm done and it works I'll share my findings e.g. in a blog post. :)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2415865938" id="dsq-comment-2415865938">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2415865938">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-12-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2415865938" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2415865938" class="dsq-comment-text">
	                                <p>Hey there!</p><p>Wow, I'm impressed by what you're doing :). To your question: the hardest part of getting this all setup will actually be just getting the security system bootstrapped correctly (which you already have code for - I can't say for sure if it's correct, but it certainly looks good). As you probably already know, Guard is just an authentication provider system, much like how "form_login" activates a listener+provider. Obviously, this is all pre-configured in the DI for you in the framework.</p><p>Here's a class that might help: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fblob%2Fmaster%2Fsrc%2FSymfony%2FBundle%2FSecurityBundle%2FDependencyInjection%2FSecurity%2FFactory%2FGuardAuthenticationFactory.php%3AMuRKoqm5BEdQ6xqVkMEX0JGJ1ME&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a>. These "factory" classes are weird, but basically they're wiring up the DI container for the services necessary for Guard. You can translate that into the direct object equivalents.</p><p>Also, providerKey == your firewall name - in the framework, that's the key in security.yml for your firewall (e.g. "main"). It's not important, except that if you have multiple firewalls, you can configure different classes for different firewalls based on this key. But to be honest, I'm not sure exactly where you actually setup this key in the first place. If I were you and got stuck on this, I'd grab the code from this repository (or build a simple Symfony SE project using Guard) and then look at the dumped container to see how the objects are wired together. And the UserChecker should be this: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fblob%2Fmaster%2Fsrc%2FSymfony%2FComponent%2FSecurity%2FCore%2FUser%2FUserChecker.php%3AbYW3minEL7i_fHvF4Dwzj0nMRfA&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a>. It's totally not important, and in theory, would be made optional.</p><p>I hope that helps and good luck!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2415797739" id="dsq-comment-2415797739">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/broeser/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2415797739">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-12-18</span>
	                            <span class="dsq-commenter-name">B Roeser</span>
	                        </div>

	                        <div id="dsq-comment-message-2415797739" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2415797739" class="dsq-comment-text">
	                                <p>Hey Ryan,</p><p>Guard looks very interesting!<br>I'm just getting started with Symfony and  I'm interested in using the Symfony components (not a whole AppBundle) to refactor an existing system. I used this manual to do that:<br><a href="http://disq.us/url?url=http%3A%2F%2Fsymfony.com%2Fdoc%2Fcurrent%2Fcreate_framework%2Findex.html%3ARtz7Wd-4xOuEtIzXVf1Zm7wKgYo&amp;cuid=1175718" rel="nofollow noopener">http://symfony.com/doc/current...</a><br>and I could already replace homespun solutions of routing, i18n, caching, ... with Symfony components that are working much better and are more felxible.</p><p>My next logical step is to replace the existing authentication system (form based) with Guard. I already wrote the FormLoginAuthenticator and UserProvider, as you described in the chapter "How to Create a Login Form". I currently neither use the Symfony DI nor the Symfony YAML-configuration, because I wanted to keep the existing solutions in place. Is it even possible to use Guard without the Symfony DI component? Also, do you know if there's a manual somewhere on using Guard without the whole Symfony framework?</p><p>I added some code to my "Framework"-class that looks basically like that:</p><p>$firewallMap = new Http\FirewallMap('^/');<br>        $requestMatcher = new HttpFoundation\RequestMatcher();<br>$this-&gt;tokenStorage = new \Symfony\Component\Security\Core\Authentication\Token\Storage\TokenStorage();<br>        $firewallListeners = array();<br>        $guardHandler = new \Symfony\Component\Security\Guard\GuardAuthenticatorHandler($this-&gt;tokenStorage, $this-&gt;dispatcher);<br>        $guardAuthenticators = array(new FormLoginAuthenticator());<br>        $providers = array(new \Symfony\Component\Security\Guard\Provider\GuardAuthenticationProvider($guardAuthenticators, $userProvider, ??????????<br>...<br>$firewallMap-&gt;add($requestMatcher, $firewallListeners);<br>        $this-&gt;firewall = new Http\Firewall($firewallMap, $dispatcher);<br>        $this-&gt;dispatcher-&gt;addListener(\Symfony\Component\HttpKernel\KernelEvents::REQUEST, array($this-&gt;firewall, 'onKernelRequest'));</p><p>Now I am stumped. Am I on the right track so far?<br>The Guard AuthenticationProvider requires a providerKey and an UserChecker, I don't quite get, what that means. Would you mind explaining?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2409389641" id="dsq-comment-2409389641">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2409389641">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-12-14</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2409389641" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2409389641" class="dsq-comment-text">
	                                <p>Hey Paul!</p><p>Yea, it *is* now part of Symfony 2.8 and 3.0 :). So, the Guard library (and bundle) are being deprecated: you should switch to the core version of the feature once you upgrade to Symfony 2.8. We have some details here: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fknpuniversity%2FKnpUGuard%23upgrade-to-symfony-3%3AZOfLFZfVb5NMOeiNbKyWVJsXbF8&amp;cuid=1175718" rel="nofollow noopener">https://github.com/knpuniversi...</a>.</p><p>Then, we'll update this tutorial soon to be for the core version of the library.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2409212330" id="dsq-comment-2409212330">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_pezRcjZ9Zb/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2409212330">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-12-14</span>
	                            <span class="dsq-commenter-name">Paul Okeke</span>
	                        </div>

	                        <div id="dsq-comment-message-2409212330" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2409212330" class="dsq-comment-text">
	                                <p>Hi, Any word on this becoming a core part of Symfony??</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2257528031" id="dsq-comment-2257528031">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2257528031">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-16</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2257528031" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2257528031" class="dsq-comment-text">
	                                <p>Good tip! That's a classic thing to watch out for - it's not a problem unless you, for example, have an access_control that requires login on every URL (e.g. ^/). An alternative (but not better than yours) solution is to put an access_control allowing ^/login$ above the access_control that requires login for everything else - something like</p><p></p><pre><code><br>access_control:<br>    # only the first matching access_control entry is used on any request<br>    # allow anonymous access to /login and /login_check<br>    - { path: ^/login_check$, roles: IS_AUTHENTICATED_ANONYMOUSLY }<br>    - { path: ^/login$, roles: IS_AUTHENTICATED_ANONYMOUSLY }<br>    # for all non /login or /login_check URLs, require ROLE_USER<br>    - { path: ^/, roles: ROLE_USER }<br></code></pre><p></p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2257403946" id="dsq-comment-2257403946">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mathewpeterson/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17293/3118/avatar92.jpg?1442437196">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2257403946">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-16</span>
	                            <span class="dsq-commenter-name">Mathew Peterson</span>
	                        </div>

	                        <div id="dsq-comment-message-2257403946" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2257403946" class="dsq-comment-text">
	                                <p>I was getting redirect loops but I was able to fix it by creating a separate firewall for ^/login$.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2240508697" id="dsq-comment-2240508697">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/neandhercarlos/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17063/1588/avatar92.jpg?1462796467">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2240508697">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-07</span>
	                            <span class="dsq-commenter-name">Neandher Carlos</span>
	                        </div>

	                        <div id="dsq-comment-message-2240508697" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2240508697" class="dsq-comment-text">
	                                <p>\o/ I'm glad to help you.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2240431743" id="dsq-comment-2240431743">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2240431743">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-07</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2240431743" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2240431743" class="dsq-comment-text">
	                                <p>You're awesome for prepping that! And yes, it was a bug in the code from the library (and your fix above is correct). I've fixed this and just tagged a new release, which you should be able to use immediately. <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fknpuniversity%2FKnpUGuard%2Freleases%2Ftag%2F0.5%3AdZ37lUwPuUtsAHtavI19EaZ30Bk&amp;cuid=1175718" rel="nofollow noopener">https://github.com/knpuniversi...</a></p><p>Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2236511319" id="dsq-comment-2236511319">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/neandhercarlos/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17063/1588/avatar92.jpg?1462796467">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2236511319">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-04</span>
	                            <span class="dsq-commenter-name">Neandher Carlos</span>
	                        </div>

	                        <div id="dsq-comment-message-2236511319" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2236511319" class="dsq-comment-text">
	                                <p>Take a look: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fneandher%2FSymfony-Multiple-Authentication%3AygEsHn92XliRxvw7bVgHEJlKJrQ&amp;cuid=1175718" rel="nofollow noopener">https://github.com/neandher/Sy...</a></p><p>For this works, i have to comment this lines in file GuardAuthenticationProvider.php:</p><p></p><pre>/*<br>throw new \LogicException(sprintf(<br>    'The correct GuardAuthenticator could not be found for unique key "%s". <br>     The listener and provider should be passed the same list of authenticators.',<br>    $token-&gt;getGuardProviderKey()<br>));<br>*/<br></pre>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2234666249" id="dsq-comment-2234666249">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2234666249">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-03</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2234666249" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2234666249" class="dsq-comment-text">
	                                <p>Hey!</p><p>Don't worry about your English, it seems very good to me, and it's certainly better than my Portuguese!</p><p>Would it be possible to post some of your code to a repository online? You should NEVER see the error that you see - it should basically be impossible, no matter what your setup looks like. So, it makes me wonder if there is a bug in the core library itself. If you're able to post a small repository with enough code to see the error, that would be a HUGE help.</p><p>Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2234660839" id="dsq-comment-2234660839">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2234660839">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-03</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2234660839" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2234660839" class="dsq-comment-text">
	                                <p>Hey Mathew!</p><p>It could be several weeks, so perhaps I can help here sooner :). What issues are you running into? For the most part, FOSUserBundle is nothing more than a User entity, a User provider, and a bunch of routes/controllers (for things like logging in, registering, etc). So, if you're using Guard to have some new authentication method, in theory, you'd simply create and save your User entity... and that should be it - FOSUserBundle shouldn't get much in the way. So, what are you seeing?</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2233127309" id="dsq-comment-2233127309">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mathewpeterson/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17293/3118/avatar92.jpg?1442437196">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2233127309">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-03</span>
	                            <span class="dsq-commenter-name">Mathew Peterson</span>
	                        </div>

	                        <div id="dsq-comment-message-2233127309" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2233127309" class="dsq-comment-text">
	                                <p>Do you know when the FOSUserBundle chapter will be released? I'm trying to integrate FOSUserBundle into an app that already has Guard configured but I am running into issues.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2232415275" id="dsq-comment-2232415275">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/neandhercarlos/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17063/1588/avatar92.jpg?1462796467">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2232415275">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-09-02</span>
	                            <span class="dsq-commenter-name">Neandher Carlos</span>
	                        </div>

	                        <div id="dsq-comment-message-2232415275" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2232415275" class="dsq-comment-text">
	                                <p>Hey again. I tried to implement this, but without success. In "Gestor" secured area is ok, but in "Admin" return a error.</p><p></p><pre>gestor:<br>    anonymous: ~<br>    pattern: ^/gestor<br>    knpu_guard:<br>        authenticators:<br>            - app.gestor_form_login_authenticator<br>    logout:<br>        path: gestor_security_logout<br>        target: gestor_security_login<br><br>admin:<br>    anonymous: ~<br>    pattern: ^/admin<br>    knpu_guard:<br>        authenticators:<br>            - app.admin_form_login_authenticator<br>    logout:<br>        path: admin_security_logout<br>        target: admin_security_login<br></pre><p></p><p>Message error:</p><p>The correct GuardAuthenticator could not be found for unique key "admin_0". The listener and provider should be passed the same list of authenticators</p><p>:(</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2220923171" id="dsq-comment-2220923171">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/neandhercarlos/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17063/1588/avatar92.jpg?1462796467">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2220923171">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-27</span>
	                            <span class="dsq-commenter-name">Neandher Carlos</span>
	                        </div>

	                        <div id="dsq-comment-message-2220923171" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2220923171" class="dsq-comment-text">
	                                <p>Hey! Thanks for answering :)</p><p>No no no! I have 2 firewalls and one UserInterface: AppBundle/Entity/User, where i have the login and password attributes and other things. In AdminUser Table and CustomerUser Table I have FirstName and LastName and other things, and do a join with the User Table to inherit their attributes. So when I go to log in "admin" or "customer" I have this in UserRepository (UserInterface):</p><p></p><pre>public function findAdminUserByEmail($emailCononical)<br>{<br>    return $this-&gt;createQueryBuilder('u')<br>        -&gt;innerJoin('u.adminUser','g') // &lt;= &lt;= &lt;=<br>        -&gt;andWhere('u.emailCanonical = :emailCanonical')-&gt;setParameter('emailCanonical', $emailCononical)<br>        -&gt;andWhere('u.roles like :role')-&gt;setParameter(':role', '%ROLE_ADMIN_USER%') // &lt;= &lt;= &lt;=<br>        -&gt;getQuery()<br>        -&gt;getOneOrNullResult();<br>}<br><br>public function findCustomerUserByEmail($emailCononical)<br>{<br>return $this-&gt;createQueryBuilder('u')<br>-&gt;innerJoin('u.customerUser','g') // &lt;= &lt;= &lt;=<br>-&gt;andWhere('u.emailCanonical = :emailCanonical')-&gt;setParameter('emailCanonical', $emailCononical)<br>-&gt;andWhere('u.roles like :role')-&gt;setParameter(':role', '%ROLE_CUSTOMER_USER%') // &lt;= &lt;= &lt;=<br>-&gt;getQuery()<br>-&gt;getOneOrNullResult();<br>}<br></pre><p></p><p>In this way I have One (User) To One (AdminUser or CustomerUser), then AdminUser can not log in CustomerUser.</p><p>PS: Sorry for my english, i am brazilian.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2220661142" id="dsq-comment-2220661142">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2220661142">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-27</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2220661142" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2220661142" class="dsq-comment-text">
	                                <p>Hey!</p><p>I think this setup makes sense. By multiple authenticators, I'm technically talking about using 2 authenticators on the same firewall, but whether you should have 1 firewall or 2 firewalls depends on your setup. Often, even if you have multiple ways to authenticate, it's convenient to always have the *same* one User object, no matter how you login. In your case, if I login under the customer firewall, will the User object be CustomerUser? And then if I login via "admin", it will be AdminUser? In that case, you just need to be careful - if you have code (e.g. a base template) that is used by pages under both firewalls, then "app.user" could sometimes be a CustomerUser and sometimes be an AdminUser. That's that reason why I typically like to always have the same User object in all cases. But if you really have 2 separate sections of your site, having 2 firewalls and 2 different UserInterface objects makes more sense. If you go down this road, you'll need a user provider for each user type - because when the user is loaded from the session, the UserProvider is used to re-query for the user. User providers are still kind of a complicated part of all of this.</p><p>Or maybe I've not understood your situation entirely. But anyways - it depends on your setup, but what you have hear largely makes sense.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2215458766" id="dsq-comment-2215458766">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/neandhercarlos/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17063/1588/avatar92.jpg?1462796467">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2215458766">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-25</span>
	                            <span class="dsq-commenter-name">Neandher Carlos</span>
	                        </div>

	                        <div id="dsq-comment-message-2215458766" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2215458766" class="dsq-comment-text">
	                                <p>About multiple authenticator, what do you think about this?</p><p></p><pre>customer:<br>    anonymous: ~<br>    pattern: ^/customer<br>    knpu_guard:<br>        authenticators:<br>            - app.customer_form_login_authenticator<br>    logout:<br>        path: customer_security_logout<br>        target: customer_security_login<br><br>admin:<br>    anonymous: ~<br>    pattern: ^/admin<br>    knpu_guard:<br>        authenticators:<br>            - app.admin_form_login_authenticator<br>    logout:<br>        path: admin_security_logout<br>        target: admin_security_login<br><br>##### In User - Entity #####<br><br>/**<br> * @ORM\OneToOne(targetEntity="AppBundle\Entity\Customer\CustomerUser", mappedBy="user")<br> */<br>private $customerUser;<br><br>/**<br> * @ORM\OneToOne(targetEntity="AppBundle\Entity\Admin\AdminUser", mappedBy="user")<br> */<br>private $adminUser;<br><br>##### In CustomerUser - Entity #####<br><br>/**<br> * @ORM\OneToOne(targetEntity="AppBundle\Entity\User", inversedBy="customerUser")<br> * @ORM\JoinColumn(nullable=false)<br> * @Assert\Valid()<br> */<br>private $user;<br><br>##### In AdminUser - Entity #####<br><br>/**<br> * @ORM\OneToOne(targetEntity="AppBundle\Entity\User", inversedBy="adminUser")<br> * @ORM\JoinColumn(nullable=false)<br> * @Assert\Valid()<br> */<br>private $user;<br><br>##### In UserRepository #####<br><br>public function findCustomerUserByEmail($email)<br>{<br>    ...<br>}<br><br>public function findAdminUserByEmail($email)<br>{<br>    ...<br>}<br></pre>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2213318175" id="dsq-comment-2213318175">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2213318175">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-25</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2213318175" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2213318175" class="dsq-comment-text">
	                                <p>Thomas!</p><p>Fancy seeing you here :). The "multiple authenticators" would be more like the second - being able to have, for example, form login AND Api token authentication. Though you can do whatever, I think it's best to think of each authenticator as *one* way to "fetch" the login information for the user. For example, filling in a username/pass would be one authenticator (and in that authenticator, you might load users from the db or from LDAP, etc). Then, if you're grabbing an API token from the request, that's a different authenticator.</p><p>For the first case (and a lot depends on the details), I'd try to fit this into one authenticator, because I think it sounds like the user is just submitting a username/password either way. Then, in that authenticator, you can decide if you want to look up that user in LDAP, and/or lookup/create an entity in the database for the user. The trick in all of this is the "user provider" - would you have 2 in this case? Again, it depends, but I'd have just one. The truth is, the user provider is only *really* needed in the system for one thing: to reload the User object on each request (for normal, session-based login). In the authenticator,  we pass you the UserProvider, but you don't have to use it at all. But ultimately, once you figure out what your User object is when authenticating, you need to have one user provider that is able to "refresh" that on each request. So, if ultimately every user is stored as an entity, then you'd use the normal entity user provider.</p><p>That's a whole wall of (un)related nonsense - just shooting details your way. Let me know if this makes sense and what you want to make happen.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2212765097" id="dsq-comment-2212765097">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_ZIFZmoD7UL/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/9855/2010/avatar92.jpg?1394734105">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2212765097">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-08-24</span>
	                            <span class="dsq-commenter-name">Thomas Bennett</span>
	                        </div>

	                        <div id="dsq-comment-message-2212765097" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2212765097" class="dsq-comment-text">
	                                <p>Hey Ryan,</p><p>Will the "multiple authenticators" section be a multiple/chain providers example, like LDAP falling back to database, or will it be something more like database and an API as a separate authenticator?</p><p>Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2149462550" id="dsq-comment-2149462550">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2149462550">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2149462550" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2149462550" class="dsq-comment-text">
	                                <p>sahweet!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2149460978" id="dsq-comment-2149460978">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="guard.1">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2149460978">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">Jonas</span>
	                        </div>

	                        <div id="dsq-comment-message-2149460978" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2149460978" class="dsq-comment-text">
	                                <p>Thank you very much for your time, so far its working! Have a nice day!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2149451780" id="dsq-comment-2149451780">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2149451780">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2149451780" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2149451780" class="dsq-comment-text">
	                                <p>Ah, of course - I forgot about the second part - the part that sets headers on the Response that tells your browser to prompt for credentials. So:</p><p>A) Remove http_basic: true - you're not using that anymore (your authenticator is doing everything)</p><p>B) In the start() method of your authenticator, you need to return a Response that tells your browser to prompt for credentials. Basically, you need this code verbatim (except putting in whatever realm you want): <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fblob%2F2.8%2Fsrc%2FSymfony%2FComponent%2FSecurity%2FHttp%2FEntryPoint%2FBasicAuthenticationEntryPoint.php%23L35%3AKxQvmwdZfisaVFJBro3C0oB9dO0&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a></p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2149437495" id="dsq-comment-2149437495">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="guard.1">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2149437495">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">Jonas</span>
	                        </div>

	                        <div id="dsq-comment-message-2149437495" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2149437495" class="dsq-comment-text">
	                                <p>Thank you for your response!</p><p>Unfortunately, when I add 'knpu_guard' to the Firewall rule, I don't get prompted for credentials. (When I remove it, I get prompted)</p><p>Here is my security.yml, may you take a look at it?</p><p></p><pre><code><br>firewalls:<br>  api:<br>  pattern: ^/api/<br>  http_basic: true<br>  knpu_guard:<br>    authenticators:<br>      - app.api_token_authenticator<br>    entry_point: app.api_token_authenticator<br></code></pre>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2149423733" id="dsq-comment-2149423733">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2149423733">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2149423733" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2149423733" class="dsq-comment-text">
	                                <p>Hey Jonas!</p><p>Yep - that should be easy and getCredentials() *is* the right spot. Here's how to fetch Http Basic user/pass:</p><p></p><pre><code><br>public function getCredentials(Request $request)<br>{<br>    $user = $request-&gt;headers-&gt;get('PHP_AUTH_USER');<br>    $pass = $request-&gt;headers-&gt;get('PHP_AUTH_PW');<br><br>    // skip trying to authenticate if no user is present<br>    if (!$user) {<br>        return;<br>    }<br><br>    return array('username' =&gt; $user, 'password' =&gt; $password);<br>}<br></code></pre><p></p><p>Everything after that should be easy :). Let me know if it works!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2149389525" id="dsq-comment-2149389525">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="guard.1">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2149389525">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-07-21</span>
	                            <span class="dsq-commenter-name">Jonas</span>
	                        </div>

	                        <div id="dsq-comment-message-2149389525" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2149389525" class="dsq-comment-text">
	                                <p>is it possible to authenticate via basic auth? Like http://appToken:userToken@localhost/api/foo and get the credentials in 'getCredentials(..)'?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_65';var disqus_url = 'https://knpuniversity.com/screencast/guard';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../about">About</a></li>
                            <li><a class="knp-color-black" href="../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
        <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_dashboard',
            {"course":"guard"}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../js/CourseNotification.js"></script>

    <script>
        jQuery(document).ready(function() {
            var courseNotification = new Core.CourseNotification($('#course-subscription-wrapper'));

            // Highlight related courses when page is loaded
            var relatedCourseItems = jQuery('.related-courses').find('li');
            var courseChapterItems = jQuery('.chapter-list').find('li');
            // Event listeners
            jQuery(window).on('hashchange', function() {
                // Highlight related courses on every hash change:
                // it allows to avoid page reloading after each change,
                // useful for debugging :)
                highlightItems('C', relatedCourseItems);
                highlightItems('CH', courseChapterItems);
            });
            highlightItems('C', relatedCourseItems);
            highlightItems('CH', courseChapterItems);

            /**
             * Highlight specified items on overview course page like GitHub highlights code lines.
             * Enumerate course ordinal numbers in list with comma using URI hash like "#C:1,4,5".
             * Supported keys:
             * - "C" for related courses
             * - "CH" for course chapters
             *
             * For example, in order to highlight 1st, 4th and 5th course chapte items use:
             * http://knpu.l/screencast/php#CH:1,4,5
             */
            function highlightItems(key, jQueryListItems)
            {
                // Reset all highlighted before items
                jQueryListItems.removeClass('highlighted-bg');
                if (!key) {
                    return;
                }

                var hash = window.location.hash;
                var pattern = new RegExp('^#'+key+':([0-9]+(,[0-9]+)*)');
                if (0 === hash.search(pattern)) {
                    // Try to match at least one item index in hash
                    // and handle highlighting only if it found
                    var matches = hash.match(pattern);
                    var itemIndexEnumeration = matches[1];
                    if (itemIndexEnumeration) {
                        var itemIndexArray = itemIndexEnumeration.split(',');
                        itemIndexArray.forEach(function (value) {
                            var index = value - 1; // normalize index based on order number
                            jQueryListItems
                                    .filter(':eq(' + index + ')')
                                    .addClass('highlighted-bg');
                        });

                        // Find the first highlighted item and scroll to it
                        var minIndex = Math.min.apply(Math, itemIndexArray) - 1;
                        jQuery.smoothScroll({
                            scrollTarget: jQueryListItems.filter(':eq(' + minIndex + ')')
                        });
                    }
                }
            }
        });
    </script>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"b4d8035b34","applicationID":"3720092","transactionName":"MgEBMkZVXBFXBRENWwtLIgVAXV0MGQ0LFGsQCgoQUUZBC0IfOgdbEBYQA2tHWg1B","queueTime":0,"applicationTime":216,"atts":"HkYCRA5PTx8=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
