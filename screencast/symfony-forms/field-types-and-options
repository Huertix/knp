<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Field Types and Options > Symfony Forms: Build, Render &amp; Conquer! | KnpUniversity</title>

                    <link href="../../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/tomorrow-night.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/tomorrow-night.min.css">


        <link rel="stylesheet" href="../../builds/code_block_styles-2d783e385d9dbb1ef88d9053d1b8d675.css">



    <link href="../../builds/video-6b5fa6dfb768239b226d39d08bd4867e.css" rel="stylesheet">

                        <script src="../../bundles/fosjsrouting/js/router.js"></script>

        <script src="../../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../../js/routing?callback=fos.Router.setData"></script>
            

    <script>
        // video settings
        window.video = {
            isCourseChapterPaid: false,
            courseChapterId: 36107
        };

                window.video.nextDetails = {
            'type': 'video',
            'title': 'Up Next: Custom\x20Query\x20in\x20EntityType <i class="fa fa-play"></i>',
            'url': '/screencast/symfony-forms/custom-entity-type-query#play'
        };
            </script>

    <script src="../../builds/video-1dfa89b76a105f9c2d98.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            var hashValue = window.location.hash.substr(1);
            if (hashValue.substr(0, 7) == 'comment') {
                // this is a #comment link - open up the comment tab!
                $('.nav-tabs a[href="#tab-comment"]').click();
            }
        });
    </script>

    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="Ah, forms: one of the most *powerful* - but sometimes
hated - features in all of Symfony. Here&#039;s the deal: forms
are just plain hard. You need to manage the HTML form elements,
validation, data transformation and a lot more. The Form
component is probably the most complex part of Symfony. But
the more you work with it, the more you&#039;ll like it.

In this episode, we&#039;ll learn how to use Symfony forms to
handle simple situations as well as some complex setups.
Most importantly, I&#039;ll show you how to avoid the pitalls
that many developers often fall into that causes the form
component to spiral into complexity hell. The form system
is a tool: in this tutorial, we&#039;ll put the joy back into it:

* Creating a basic form
* Basic form rendering and customization
* Handling a form submit
* Backing your form with an entity
* Adding validation
* Form field guessing
* Pre-filling with default data
* Creating a form &quot;type&quot; class
* Using forms to handle an API POST request
* Understanding how forms *really* work
* Flash messages

... and form tips and tricks stuck in all over!
">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="Field Types and Options">
<meta property="og:description" content="Ah, forms: one of the most *powerful* - but sometimes
hated - features in all of Symfony. Here&amp;#039;s the deal: forms
are just plain hard">
<meta property="og:url" content="http://knpuniversity.com/screencast/symfony-forms/field-types-and-options">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/symfony-forms:f9cef13248ad1a424e63dbaddcf6d2c9186b052b/sf-ep5.png">

<meta name="twitter:card" content="summary">


                            
    </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin navbar-learning-layout">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="field-types-and-options#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../../tracks.1">Tracks</a></li>
          <li><a href="../../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../../pricing.1">Pricing</a></li>
        <li><a href="../../training">Training</a></li>
                <li class="visible-xs"><a href="../../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../../logout">Sign Out</a></li>

            <li><a href="../../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    




<div class="table-contents-container">
  <div class="container expandList" id="js-chapter-list">
      <button class="table-contents-container-button js-expand-list" data-target="js-chapter-list" title="Chapter List">
          <i class="fa fa-bars"></i>
                        6.
                            Field Types and Options
                </button>
      <div class="expandList-body">
          <div class="expandList-bodyInner">
              <h3 class="expandList-header">
                  <a class="course-title-expand" href="resume">Symfony Forms: Build, Render &amp; Conquer!</a>
              </h3>

                                <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>


              
              <div class="expand-chapter-list">
                      
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item ">
            <a href="the-form-type-class" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        The Form Type Class
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:14</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="render-form-bootstrap" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        Render that Form Pretty (Bootstrap)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:14</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="process-that-form" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        Process that Form!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:46</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="data-class-type-guessing" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        Binding Forms to Objects: data_class
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:44</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="save-redirect-set-flash" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        Save, Redirect, setFlash (and Dance)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:05</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item chapter-list-item-active">
            <a href="field-types-and-options" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        Field Types and Options
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:09</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="custom-entity-type-query" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        Custom Query in EntityType
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:30</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="date-picker-field" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Creating a Date Picker Field
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:54</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="date-format-sanity-validation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Date Format &amp; &quot;Sanity&quot; Validation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:28</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-rendering-and-variables" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        Form Rendering and Form Variables
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:33</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="disable-html5-validation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        Disable HTML5 Validation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:03</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="beautiful-form-validation" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        Beautiful Form Validation
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:03</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="changing-validation-messages" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                13.
                        Changing Validation Messages
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:08</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="easy-edit-form" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                14.
                        Easy Edit Form
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:01</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-template-include" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                15.
                        Sharing Form Templates with include()
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:42</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
              </div>
          </div>
      </div>
  </div>
  <div>
                <a href="../../pricing/symfony-forms" class="btn btn-success pull-right-md download-buy-buttons">Buy <span class="hidden-xs">Access to Course</span></a>
              </div>
</div>


        <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-9 col-lg-10">
                <h1 class="account-header account-header-low-margin-top">Field Types and Options</h1>
                
                                    <p class="hidden-xs">
                        Course:
                        <a class="knp-color-black" href="resume"><em>Symfony Forms: Build, Render &amp; Conquer! Tutorial</em></a>                    </p>
                            </div>
        </div>

                <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="full-block-container">
                    <div class="frame-padding">
                        <div id="player">
                                                                                <div>
                                                                <div class="row">
                                    <div class="end-show">
                                        <div class="xs-col-12">
                                            <p class="end-show-header">Keep learning!</p>
                                        </div>
                                        <div class="col-xs-12">
                                            <p class="end-show-link"><a href="../../pricing.1" class="btn btn-success btn-md">Start your All Access Pass</a></p>
                                        </div>
                                        <div class="col-xs-12">
                                            <p class="end-show-link text-center"><a href="../buy/collections" class="knp-color-white">Buy just this tutorial for $12.00</a></p>
                                        </div>
                                    </div>
                                </div>
                                                            </div>
                                                </div>
                    </div>
                </div>
            </div>
        </div>
         
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="pull-right">
                                    <a class="btn btn-success"
           href="custom-entity-type-query#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                </div>

                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a data-toggle="tab" href="field-types-and-options#tab-script">Script</a></li>
                    <li><a data-toggle="tab" href="field-types-and-options#tab-comment">
                        <i class="fa fa-comment-o"></i>
                                                    
                                                                                                (18)
                                                                                        Conversation
                                            </a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="tab-script">
                        <div class="js-script-content-wrapper top-margin-script markdown-content">
                                                                                        <a href="https://github.com/knpuniversity/symfony/edit/master/knpu/ep5-forms/field-types-and-options.md" target="_blank" class="btn btn-default btn-circle pull-right js-tooltip" title="Edit on GitHub"><span class="fa fa-pencil"></span></a>
                                                                    <p>So far, we set the property name of the form fields and Symfony tries to <em>guess</em>
the best field type to render. Since <code>isPublished</code> is a <code>boolean</code> in the database,
it guessed a checkbox field:</p>
<p><div class="code-block-wrapper" data-code-block-guid="a212b44524">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-139" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            139 lines <span class="meta-divider"></span> <span title="src/AppBundle/Entity/Genus.php">src/AppBundle/Entity/Genus.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-11" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 11
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Genus</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="14-41" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 14 - 41
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="42"></td>
            <td class="blob-code">    <span class="hljs-comment">/**</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="43"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@ORM</span>\Column(type="boolean")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="44"></td>
            <td class="blob-code">     */</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="45"></td>
            <td class="blob-code">    <span class="hljs-keyword">private</span> $isPublished = <span class="hljs-keyword">true</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="46-137" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 46 - 137
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="138"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>But obviously, that's not always going to work.</p>
<p>Google for "Symfony form field types", and find a document called
<a href="http://symfony.com/doc/current/reference/forms/types.html">Form Types Reference</a>.</p>
<p>These are <em>all</em> the different field types we can choose from. It's got stuff you'd
expect - like <code>text</code> and <code>textarea</code>, some HTML5 fields - like <code>email</code> and <code>integer</code> and
some more unusual types, like <code>date</code>, which helps render date fields, either
as three drop-downs or a single text field.</p>
<p>Right now, <code>isPublished</code> is a checkbox. But instead, I'd rather have a select drop-down
with "yes" and "no" options. But... you won't see a "select" type in this list. Instead,
it's called <a href="http://symfony.com/doc/current/reference/forms/types/choice.html">ChoiceType</a>.</p>
<h2 id="using-choicetype">Using ChoiceType <a class="headerlink" href="field-types-and-options#using-choicetype" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p><code>ChoiceType</code> is a little special: it can render a drop-down, radio buttons or checkboxes
based on what options you pass to it. One of the options is <code>choices</code>, which, if
you look down at the example, you can see controls the actual items in the drop-down.</p>
<p>Let's use this! In <code>GenusFormType</code>, the optional second argument to the <code>add</code> function
is the field <em>type</em> you want to use. Set it to <code>ChoiceType::class</code>:</p>
<p><div class="code-block-wrapper" data-code-block-guid="94506effac">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-36" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            36 lines <span class="meta-divider"></span> <span title="src/AppBundle/Form/GenusFormType.php">src/AppBundle/Form/GenusFormType.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-5" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 5
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="6"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Form</span>\<span class="hljs-title">Extension</span>\<span class="hljs-title">Core</span>\<span class="hljs-title">Type</span>\<span class="hljs-title">ChoiceType</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="7-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 7 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusFormType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="14"></td>
            <td class="blob-code">        $builder</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="15-18" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 15 - 18
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="19"></td>
            <td class="blob-code">            -&gt;add(<span class="hljs-string">'isPublished'</span>, ChoiceType::class, [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="20-23" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 20 - 23
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="24"></td>
            <td class="blob-code">            ])</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="25-25" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... line 25
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="26"></td>
            <td class="blob-code">        ;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="27"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="28-34" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 28 - 34
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="35"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>The third argument is an array of options to configure that field. What can you pass
here? Well, each field type has different options... though there are a lot of options
shared by <em>all</em> types, like the ability to customize the label.</p>
<p>Either way, the reference section will tell you what you can use. Pass in the <code>choices</code>
option and set that to an array. Add <code>Yes</code> mapped to <code>true</code> and <code>No</code> mapped to <code>false</code>.
The keys - <code>Yes</code> and <code>No</code> will be the text in the drop down:</p>
<p><div class="code-block-wrapper" data-code-block-guid="5d8a5e1641">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-36" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            36 lines <span class="meta-divider"></span> <span title="src/AppBundle/Form/GenusFormType.php">src/AppBundle/Form/GenusFormType.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusFormType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="14"></td>
            <td class="blob-code">        $builder</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="15-18" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 15 - 18
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="19"></td>
            <td class="blob-code">            -&gt;add(<span class="hljs-string">'isPublished'</span>, ChoiceType::class, [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="20"></td>
            <td class="blob-code">                <span class="hljs-string">'choices'</span> =&gt; [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="21"></td>
            <td class="blob-code">                    <span class="hljs-string">'Yes'</span> =&gt; <span class="hljs-keyword">true</span>,</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="22"></td>
            <td class="blob-code">                    <span class="hljs-string">'No'</span> =&gt; <span class="hljs-keyword">false</span>,</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="23"></td>
            <td class="blob-code">                ]</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="24"></td>
            <td class="blob-code">            ])</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="25-25" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... line 25
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="26"></td>
            <td class="blob-code">        ;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="27"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="28-34" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 28 - 34
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="35"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>The values - <code>true</code> and <code>false</code> will be the value that's passed to <code>setIsPublished()</code> if
that option is chosen.</p>
<p>Try it out! Head back to the form and refresh! Perfect.</p>
<h2 id="the-entitytype">The EntityType <a class="headerlink" href="field-types-and-options#the-entitytype" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Let's keep going with this. This <code>subFamily</code> field is also a drop-down. So that's
probably being <em>guessed</em> as a <code>ChoiceType</code>, right? <em>Almost</em>. Check out the <a href="http://symfony.com/doc/current/reference/forms/types/entity.html">EntityType</a>.
This is <em>just</em> like the <code>ChoiceType</code>, except it's really good at fetching the options
by querying an entity.</p>
<p>In this case, it's automatically querying for the <code>SubFamily</code> entity: it guessed
which type to use <em>and</em> auto-configured it. And yeah, I know - these sub-families
are totally silly. They're actually just the last names of people - coming from the
Faker library - I was being lazy.</p>
<h2 id="form-field-options">Form Field Options <a class="headerlink" href="field-types-and-options#form-field-options" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>But I do have one problem with this <code>EntityType</code> field: it auto-selects the first
option. That's lame - I'd rather have an option on top that says "Choose a Sub-Family".</p>
<p>Check out the options for <code>EntityType</code>: there's one called <code>placeholder</code>. Click to
read more about that. Yes! This is exactly what we want!</p>
<p>Open the form class back up. We know that Symfony is guessing the <code>EntityType</code> for
the <code>subFamily</code> field. We <em>could</em> now manually pass <code>EntityType::class</code> as the second
argument. But don't! Pass <code>null</code> instead. Now, add a <code>placeholder</code> option set
to <code>Choose a Sub-Family</code>:</p>
<p><div class="code-block-wrapper" data-code-block-guid="84499a94cb">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-39" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            39 lines <span class="meta-divider"></span> <span title="src/AppBundle/Form/GenusFormType.php">src/AppBundle/Form/GenusFormType.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-10" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 10
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenusFormType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractType</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildForm</span><span class="hljs-params">(FormBuilderInterface $builder, array $options)</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="14"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="15"></td>
            <td class="blob-code">        $builder</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="16-16" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... line 16
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="17"></td>
            <td class="blob-code">            -&gt;add(<span class="hljs-string">'subFamily'</span>, <span class="hljs-keyword">null</span>, [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="18"></td>
            <td class="blob-code">                <span class="hljs-string">'placeholder'</span> =&gt; <span class="hljs-string">'Choose a Sub Family'</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="19"></td>
            <td class="blob-code">            ])</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="20-28" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 20 - 28
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="29"></td>
            <td class="blob-code">        ;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="30"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="31-37" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 31 - 37
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="38"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>But wait, why did I pass <code>null</code> as the second argument? Well first, because I can!
I can be lazy here: if I pass <code>null</code>, Symfony will guess the <code>EntityType</code>. That's
cool.</p>
<p>Second, when you use the <code>EntityType</code>, there's a required option called <code>class</code>.
Let me show you an example: <code>'class' =&gt; 'AppBundle:User'</code>. You have to tell
it <em>which</em> entity to query from. But if you let Symfony <em>guess</em> the field type for
you, then it will also guess any options it can, including this one. So by being
lazy and passing <code>null</code>, it will continue to guess the field type <em>and</em> a few other
options for me, like <code>class</code>.</p>
<p>Anyways, go back, refresh, and there it is. Here are the key takeaways. First, you
have a giant dictionary of built-in form field types. And second: you configure each
field by passing a third argument to the <code>add()</code> function.</p>
<p>Now, how could we <em>further</em> control the query that's made for the <code>SubFamily</code> options?
What if we need them to be listed alphabetically?</p>

    
                        </div>
                    </div>
                    <div class="tab-pane" id="tab-comment">
                        <h3>Leave a comment!</h3>
                                                        <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3036326181" id="dsq-comment-3036326181">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3036326181">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-05</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-3036326181" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3036326181" class="dsq-comment-text">
	                                <p>Hey Matt!</p><p>You got it! It's important that your form field name "chapters" matches a key on your incoming/starting data. Usually, we bind a form to an object, so we would expect to have a "chapters" property on our object, which it would use to know which boxes to check. But in this case, since we're binding the form to an array, it's simply an array key. You got the "aha!" moment I was hoping you'd get :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3036191872" id="dsq-comment-3036191872">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mattxtlm/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3036191872">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-05</span>
	                            <span class="dsq-commenter-name">mattxtlm</span>
	                        </div>

	                        <div id="dsq-comment-message-3036191872" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3036191872" class="dsq-comment-text">
	                                <p>Hey Ryan,</p><p>that really solved it! It took me a while to get my head around it, but I got it working :-) I guess, behind the scenes, the data is passed as an option to the form and it happens that both - the option name and the child name - are equal (e.g. 'chapters'), so Symfony sticks those two together and then: checked are the checkboxes...</p><p>Cheers!<br>Matt</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3031676042" id="dsq-comment-3031676042">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3031676042">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-02</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-3031676042" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3031676042" class="dsq-comment-text">
	                                <p>Hey Matt!</p><p>Coding for a few weeks now! Wow! Congrats! And don't sweat too much about this form stuff - forms is the hardest part of Symfony (it's also powerful and rewarding... but can easily be frustrating, even for really seasoned devs!).</p><p>Ok, I think I definitely understand your setup - the jsfiddle was great. Afterall, backend code ultimately exists just to power some UI :). Here's why I think this is confusing you: the purpose of your form is *not* to update an entity. What I mean is, most of the time, we create a form so that we can update or create some entity. For example, if you wanted to create a form to allow the user to create a Chapter, that would be pretty easy for you: your form would be bound to the Chapter class, you would have a field for each property in your entity, and the types of those fields would naturally be simple.</p><p>But in your case, your form isn't doing that: the purpose of you form is simply to create a checkbox of chapters. And when you submit, you just want to fetch what chapters were checked, so you can redirect the user. So, here's the key: I want you to create a form that is *not* bound to an object. If you build it in your controller, it should look something like this:</p><p><code><pre>// the form is not bound to an object. Instead, we just pass it an associative array of<br>// "starting" data, that should be used to pre-fill the form<br>$defaultData = [<br>    // I don't know if this is right - the point is, you should set a "chapters" key to the<br>    // array of Chapter objects that should be pre-filled<br>    'chapters' =&gt; $quotes-&gt;getChapters()<br>];<br>$myForm = $this-&gt;createFormBuilder($defaultData)<br>    -&gt;add('chapters', EntityType::class, [<br>        // this should be the entity class that should be used for the checkboxes<br>        // I'm assuming you want a checkbox for each Chapter<br>        // notice there is no logic here to say which chapters should be pre-checked, that happens above<br>        'class' =&gt; 'AppBundle\Entity\Chapter',<br>        // I'm assuming the Chapter has a name property - just kinda made that up :)<br>        'choice_label' =&gt; 'name',<br>        'multiple' =&gt; true,<br>        'expanded' =&gt; true<br>    ]<br>)<br>-&gt;getForm();<br><br>$form-&gt;handleRequest($request);<br>if ($form-&gt;isValid()) {<br>    $formData = $myForm-&gt;getData();<br>    // this will be an array of Chapter objects, the ones the user selected<br>    /** @var Chapter[] $chapters */<br>    $chapters = $formData['chapters'];<br><br>    // loop over $chapters to create your ?chapter=chapter_foo&amp;chapter_bar query string, and then redirect to a route with this appended to it<br>    $queryString = '...';<br>    $url = $this-&gt;generateUrl('result_route_name').'?'.$queryString;<br><br>    return $this-&gt;redirect($url);<br>}<br></pre></code></p><p>Let me know if this setup makes sense, and if I've finally hit on the problem! Focus on this idea: the EntityType's job is simply to create a bunch of checkboxes (in this case) for all the records for some entity (e.g. Chapter). You can of course use the query_builder option to filter that list from all Chapters to some Chapters. But, the options you pass to EntityType have nothing to do with *which* checkboxes should be checked by default: that's entirely up to what data you pass into your form. And in this case, we're not binding our form to any entity, we're just passing it an associative array, and it's giving us an associative array after (i.e. $form-&gt;getData() is an associative array). We're not binding it to an entity because it's not really necessary: it's a really cool "nice-to-have" when you eventually want to update an entity and persist it. But in this case, all we need is that our form gives us an array of the Chapter objects that were checked. Then, we're happy :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3030831448" id="dsq-comment-3030831448">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mattxtlm/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3030831448">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-02</span>
	                            <span class="dsq-commenter-name">mattxtlm</span>
	                        </div>

	                        <div id="dsq-comment-message-3030831448" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3030831448" class="dsq-comment-text">
	                                <p>Hi,</p><p>well it does kind of both :) Unfortunately, the Symfony EntityType documentation is not helpful for me and I'm struggling reading the symfony classes (just coding for a few weeks now), though your OO Tut really got me started (or I'd say *dangerous*). But anyway.</p><p>Maybe I should tackle the problem from another perspective, so I think it's best explained by an example what I like to achieve:</p><p><a href="https://disq.us/url?url=https%3A%2F%2Fjsfiddle.net%2Fy83vsc50%2F1%2F%3AIm-r0fWPQTVGseguT_FNzGFsu1c&amp;cuid=1175718" rel="nofollow noopener">https://jsfiddle.net/y83vsc50/1/</a></p><p>Basically, my table setup looks like this:</p><p>quotes ManyToOne Chapter (which should be your mentioned property whose value is an *object*). For now, I skipped the book property.</p><p>If I do setup like this, I get a list of checkboxes with chapters from quotes. But I do want a list with *all* chapters (from Chapter), and only those checked by default, which have a quote and the others disabled:</p><p></p><pre><code><br>$myForm = $this-&gt;createFormBuilder()<br>            -&gt;add('chapter', EntityType::class, [<br>                'class' =&gt; 'AppBundle\Entity\Quotes',<br>                'choice_label' =&gt; 'chapter',<br>                'multiple' =&gt; true,<br>                'expanded' =&gt; true<br>            ])<br>            -&gt;getForm();<br></code></pre><p></p><p>So at the end, I need to populate checkboxes with the mentioned constraints and after submit the user is redirected to a route /results and the URI string <i>localhost:8000/results?chapter=chapter_foo&amp;chapter_bar</i></p><p>I hope this makes sense, somehow.</p><p>Cheers!<br>Matt</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3029470721" id="dsq-comment-3029470721">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3029470721">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-01</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-3029470721" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3029470721" class="dsq-comment-text">
	                                <p>Hey Matt!</p><p>Ah, it *does* help :). So, what you're doing makes great sense, but is a little non-traditional. The EntityType is meant to be attached to a property whose value is an *object*... basically a ManyToOne property. But, your name field is a string. Based on what I'm seeing, if you submit right now and dump your final value, the name property will be an array of Chapter objects (not a string). (I'm also a little confused about how you have a "name" field, but the user is selecting multiple checkboxes - so I could be misunderstanding something!)</p><p>But, you totally *can* do this, you just need to do a little bit more work :). Basically, you should use the ChoiceType field with a custom data transformer that's able to convert to and from the "text" of the name field and the Chapter entity object (or objects, if you really do intend for this to be multiple checkboxes). You'll approximately be following this tutorial: <a href="http://disq.us/url?url=http%3A%2F%2Fsymfony.com%2Fdoc%2Fcurrent%2Fform%2Fdata_transformers.html%23harder-example-transforming-an-issue-number-into-an-issue-entity%3AvHcStazyqAkgaRedAWjI1neqBB4&amp;cuid=1175718" rel="nofollow noopener">http://symfony.com/doc/current...</a></p><p>Let me know if this helps... or confuses further :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3028990583" id="dsq-comment-3028990583">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mattxtlm/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3028990583">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-01</span>
	                            <span class="dsq-commenter-name">mattxtlm</span>
	                        </div>

	                        <div id="dsq-comment-message-3028990583" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3028990583" class="dsq-comment-text">
	                                <p>Hey Ryan,</p><p>thanks for your fast reply. I think that does perfectly make sense. But I tried without any luck. Here's my code (a made a testform to reduce complexity):</p><p>Form (inside the controller for testing purpose)</p><p></p><pre><code><br>    /**<br>     * @Route("/doc")<br>     */<br>   public function docTest(Request $request) {<br><br><br><br>        $myForm = $this-&gt;createFormBuilder()<br>            -&gt;add('name', EntityType::class, [<br>                'class' =&gt; 'AppBundle\Entity\Chapter',<br>                'query_builder' =&gt; function(ChapterRepo $chapterRepo) {<br>                    return  $chapterRepo-&gt;createQueryBuilder('c')<br>                        -&gt;distinct('c.name')<br>                        -&gt;innerJoin('c.quotes','quotes')<br>                        -&gt;andWhere('quotes.isReviewed = true')<br>                        -&gt;groupBy('c.book')<br>                        -&gt;orderBy('c.id','ASC');<br>                },<br>                'multiple' =&gt; true,<br>                'expanded' =&gt; true,<br>                'attr' =&gt; ['data-pos' =&gt; '4']<br>            ])<br>            -&gt;getForm();<br><br><br>        return $this-&gt;render('Quotes/test.html.twig', [<br>            'testForm' =&gt; $myForm-&gt;createView()]);<br></code></pre><p></p><p>Btw: Don't worry about the join (and the other stuff), it doens't work without it either.</p><p>And here's my entity definitions.</p><p></p><pre><code><br><br>/**<br> * @ORM\Entity(repositoryClass="AppBundle\Repository\ChapterRepo")<br> * @ORM\Table(name="chapter")<br> */<br>class Chapter<br>{<br>    // *******************<br>    // Unique Keys<br>    // *******************<br><br>    /**<br>     * @ORM\Column(type="integer", unique=true)<br>     * @ORM\Id<br>     * @ORM\GeneratedValue(strategy="AUTO")<br>     */<br>    private $id;<br><br>    // *******************<br>    // Joins<br>    // *******************<br>    // Inversed Side: One Chapter -&gt; Many Quotes<br>    /**<br>     * @ORM\OneToMany(targetEntity="AppBundle\Entity\Quotes", mappedBy="chapter")<br>     */<br>    private $quotes;<br><br>    // *******************<br>    // Properties<br>    // *******************<br><br>    /**<br>     * @ORM\Column(type="integer", name="chapter_number")<br>     * @Assert\NotBlank()<br>     * @Assert\NotNull()<br>     */<br>    private $chapterNumber;<br><br>    /**<br>     * @ORM\Column(type="text", length=100)<br>     * @Assert\NotBlank()<br>     * @Assert\NotNull()<br>     */<br>    private $name;<br><br>    /**<br>     * @ORM\Column(type="string")<br>     */<br>    private $book;<br><br>// and so on...<br> // getters and setters here<br>}<br><br></code></pre><p></p><p>Hope that helps.</p><p>Cheers, Matt</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3028458145" id="dsq-comment-3028458145">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3028458145">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-30</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-3028458145" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3028458145" class="dsq-comment-text">
	                                <p>Hey <a data-dsq-mention="mattxtlm:disqus" href="https://disqus.com/by/mattxtlm/" rel="nofollow noopener">mattxtlm</a>!</p><p>Yes! In fact, that's exactly how the EntityType field *should* work out-of-the-box... but a lot depends on your setup :). Basically, when you have an EntityType with multiple=true, when you submit, Symfony process the incoming, checked ids, turn those into your entity objects, and then set that array of entities onto the property on your main entity (whatever field name you're using in your form for the EntityType). And also, when the form *renders*, it does the opposite: it uses your query to get all of the entity objects for the choices, then gets the array of entity objects from that same property and compares them. For example, suppose I have a Category entity with a products property. I then add a products field to my form, which is an EntityType. When the form renders, it uses my custom query on that field to load all (for example) 25 products in my system. It then looks at the products property on Category, which holds (for example) 10 of those products. So now, it knows to render 25 checkboxes, with 10 of them checked.</p><p>That's a long way of saying that something might not be setup correctly if you're not getting your boxes auto-checked. Let me know if this explanation helped! And feel free to come back with some of your code - it'll help show what's going on :).</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3028408484" id="dsq-comment-3028408484">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/mattxtlm/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3028408484">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-30</span>
	                            <span class="dsq-commenter-name">mattxtlm</span>
	                        </div>

	                        <div id="dsq-comment-message-3028408484" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3028408484" class="dsq-comment-text">
	                                <p>Hi guys,</p><p>I just created a form with an entity-type field which is fed by a small query (some distinct values of a table.column) in the background, which then renders as several checkboxes (with options multiple and expanded true). However, when the page is loaded and the form displayed, the checkboxes are not checked by default. Is there any way to tell symfony that those boxes should be checked by default? Or even better, tell which box should be checked by default?<br>btw: my model does not have an object with choice.a true/false, choice.b true/false. that would not be possible as the choices can get more (i.e. the values in the table)</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2979551875" id="dsq-comment-2979551875">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/hugoleon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5515/2612/avatar92.jpg?1478020876">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2979551875">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-01</span>
	                            <span class="dsq-commenter-name">Hugo Leon</span>
	                        </div>

	                        <div id="dsq-comment-message-2979551875" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2979551875" class="dsq-comment-text">
	                                <p>It's a boring form indeed! is because I was just getting started :P, but soon they'll be fun hopefully. I see, I thought it had something to do with the Team entity. <br>I was thinking about creating a select element instead, but those tags you suggested are way better, much easier and totally match with its goal.</p><p>I love this Simfony Forms.</p><p>Thanks a lot Ryan, you're the best!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2979072662" id="dsq-comment-2979072662">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2979072662">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-01</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2979072662" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2979072662" class="dsq-comment-text">
	                                <p>Hey Hugo!</p><p>Hmm, that form is perfectly boring :). But I think I might see the problem: it's the "roles" field. Is that an array (e.g. json_array) type in your User class like how we setup in this tutorial? In that case, Symfony is likely guessing that this is a text field (that's it's default) and then choking when it tries to get that array value and print it in the <code>value=""</code> attribute. If I'm right - and you look closely - you might see the word "role" somewhere in the stacktrace of those errors (it might be a bit buried!).</p><p>Instead of using a text field, you'll probably want something like a <code>ChoiceType</code> with options <code>'multiple' =&gt; true</code> and <code>'expand' =&gt; true</code>. You would set the <code>choices</code> option to an array of whatever roles that you want the user to be able to select :). Or, if you have some more complex scenario, let me know!</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2978854159" id="dsq-comment-2978854159">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/hugoleon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5515/2612/avatar92.jpg?1478020876">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2978854159">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-11-01</span>
	                            <span class="dsq-commenter-name">Hugo Leon</span>
	                        </div>

	                        <div id="dsq-comment-message-2978854159" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2978854159" class="dsq-comment-text">
	                                <p>Sure!</p><p>Here it is the form class</p><p></p><pre><code><br>class UserFormType extends AbstractType<br>{<br>    public function buildForm(FormBuilderInterface $builder, array $options)<br>    {<br>        $builder<br>            -&gt;add('email')<br>            -&gt;add('name')<br>            -&gt;add('lastName')<br>            -&gt;add('interiorNumber')<br>            -&gt;add('phoneNumber')<br>            -&gt;add('mobileNumber')<br>            -&gt;add('plainPassword')<br>            -&gt;add('roles');<br>    }<br><br>    public function configureOptions(OptionsResolver $resolver)<br>    {<br>        $resolver-&gt;setDefaults([<br>            'data_class' =&gt; 'AppBundle\Entity\User'<br>        ]);<br>    }<br><br>    public function getName()<br>    {<br>        return 'app_bundle_user_form_type';<br>    }<br>}<br></code></pre><p></p><p><a href="https://disq.us/url?url=https%3A%2F%2Fdl.dropboxusercontent.com%2Fu%2F3747475%2FCaptura%2520de%2520pantalla%25202016-10-31%2520a%2520la%28s%29%252023.57.55.png%3AwsXT5aV9-xxF_5CZAYDpEpouPWY&amp;cuid=1175718" rel="nofollow noopener">Here is the ContextErrorException 1/2</a></p><p><a href="https://disq.us/url?url=https%3A%2F%2Fdl.dropboxusercontent.com%2Fu%2F3747475%2FCaptura%2520de%2520pantalla%25202016-10-31%2520a%2520la%28s%29%252023.57.31.png%3A9I9O5B2X8zVuGPztiRWf7xiz5G4&amp;cuid=1175718" rel="nofollow noopener">Here is the Twig_Error_Runtime 2/2</a></p><p>Please tell me if you need something more about the exception page.</p><p>Thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2977339294" id="dsq-comment-2977339294">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2977339294">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-31</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2977339294" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2977339294" class="dsq-comment-text">
	                                <p>Hey Hugo!</p><p>The setup looks *great* - seriously, I can't see any issues... which is kind of a problem since you have this error! :). It looks like something weird is happening when rendering one of your input fields (line 13 in that file is responsible for that (<a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fblob%2F46a8edea8d473e82ab8ac9a82294df047ba5f962%2Fsrc%2FSymfony%2FBridge%2FTwig%2FResources%2Fviews%2FForm%2Fform_div_layout.html.twig%23L13%29%3AxjPs2acF8gs8Mju_BuQzOA3KDWo&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a>. Can you show me your form class? And also, a screenshot of the full exception page when you get that error? It's going to be something subtle...</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2977184945" id="dsq-comment-2977184945">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/hugoleon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5515/2612/avatar92.jpg?1478020876">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2977184945">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-31</span>
	                            <span class="dsq-commenter-name">Hugo Leon</span>
	                        </div>

	                        <div id="dsq-comment-message-2977184945" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2977184945" class="dsq-comment-text">
	                                <p>Thanks Ryan!</p><p>I did what you said, makes perfect sense. Now I have this:</p><p></p><pre><code><br>public function newAction(Request $request)<br>    {<br>        $user = new User();<br>        $user-&gt;setTeam($this-&gt;getUser()-&gt;getTeam());<br><br>        $form = $this-&gt;createForm(UserFormType::class, $user);<br><br>        $form-&gt;handleRequest($request);<br><br>        if ($form-&gt;isSubmitted() &amp;&amp; $form-&gt;isValid()) {<br>            $user = $form-&gt;getData();<br>            $em = $this-&gt;getDoctrine()-&gt;getManager();<br>            $em-&gt;persist($user);<br>            $em-&gt;flush();<br><br>            $this-&gt;addFlash('success', 'The user has been created');<br><br>            return $this-&gt;redirectToRoute('admin_users_list');<br>        }<br><br>        return $this-&gt;render('admin/users/new.html.twig', [<br>            'userForm' =&gt; $form-&gt;createView()<br>        ]);<br></code></pre><p></p><p></p><pre><code><br>{# admin/users/new.html.twig #}<br>{#...#}<br>{{ form_start(userForm) }}<br>                {{ form_widget(userForm) }}<br><br>                <br>&lt;button type="submit" class="btn btn-primary"&gt;{% trans %}Save{% endtrans %}&lt;/button&gt;<br>            {{ form_end(userForm) }}<br></code></pre><p></p><p>But now I get this error:</p><p></p><pre><code><br>An exception has been thrown during the rendering of a template ("Notice: Array to string conversion") in form_div_layout.html.twig at line 13.<br></code></pre><p></p><p>I couldn't get it to work, what could be the problem? I saw that the form has no Team, but I guess it's fine because like you said, the User object is created when I submit the form.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2973191270" id="dsq-comment-2973191270">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2973191270">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-28</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2973191270" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2973191270" class="dsq-comment-text">
	                                <p>Yo Hugo!</p><p>You've caught onto my favorite thing to say - getting "dangerous" :). I'm really glad to hear it!</p><p>And yes, I (hopefully) *do* have an easy solution for you :). To summarize:</p><p>1) You have a form that modifies the User object<br>2) You would like the team field to automatically be set to the team of the currently-logged in User.</p><p>To do this, I want you to actually *remove* the team field entirely from your form. And instead, just do a little bit of work in your controller. Here's some "faux" code:</p><p></p><pre><code><br>public function addUserToTeamAction()<br>{<br>    $newUser = new User();<br>    $newUser = $newUser-&gt;setTeam($this-&gt;getUser()-&gt;getTeam());<br><br>    $form = $this-&gt;createForm(NewUseTeamForm::class, $newUser);<br>    // normal form processing<br>}<br></code></pre><p></p><p>By doing this, when you submit the form, a new User() object is created, we set its team immediately, and then the form data is added to it. By the time we persist+flush, the <code>$newUser</code> variable will have the team set AND any data from the form. Unless I'm misunderstanding something, this should be your solution.</p><p>Let me know if I understood correctly! And cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2972696044" id="dsq-comment-2972696044">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/hugoleon/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/5515/2612/avatar92.jpg?1478020876">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2972696044">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-28</span>
	                            <span class="dsq-commenter-name">Hugo Leon</span>
	                        </div>

	                        <div id="dsq-comment-message-2972696044" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2972696044" class="dsq-comment-text">
	                                <p>Hi there!</p><p>Let me tell you that I'm really having fun with your courses, laughing all the time. You have a gift Ryan. I'm feeling more dangerous day by day :)</p><p>Well, I know you have the easy solution to this. I have a User Entity which has a Team Entity (manyToOne relationship). The logged user can add another one just to his/her team. I was wondering if I could set a hidden field to automatically select the team where the logged user belongs to. The second option is to have a visible Choice Type, but with just one Team by default.</p><p>I've already tried with dependency injection (ha-ha-ha) using TokenStorageInterface in the constructor of the FormType class, and a HiddenType field:</p><p><code><pre>public function buildForm(FormBuilderInterface $builder, array $options)<br>{<br>    $user = $this-&gt;tokenStorage-&gt;getToken()-&gt;getUser();<br><br>    $builder<br>        -&gt;add('email')<br>         -&gt;add('name')<br>        -&gt;add('lastName')<br>        -&gt;add('team', HiddenType::class, [<br>            'data' =&gt; $user-&gt;getTeam()<br>        ])<br>    ;<br>}<br></pre></code></p><p>But it gets the _name_ of the team only, not the entity object. I read about DataTransformers, and another not so clean solutions.</p><p>What do you recommend me to do?</p><p>Thanks in advance and congratulations for your great work.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2751821094" id="dsq-comment-2751821094">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/grzegorzszaliski/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/10662/4460/avatar92.jpg?1466177876">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2751821094">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-06-26</span>
	                            <span class="dsq-commenter-name">Grzegorz Szaliński</span>
	                        </div>

	                        <div id="dsq-comment-message-2751821094" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2751821094" class="dsq-comment-text">
	                                <p>Hi Ryan,<br>Thanks for the link. I knew casting or mapping was broken, but would never think it's that complex.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2751726921" id="dsq-comment-2751726921">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2751726921">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-06-26</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2751726921" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2751726921" class="dsq-comment-text">
	                                <p>Hi Grzegorz!</p><p>Hmm, you're right! The behavior is not seen in Chrome, but it is seen in Firefox - this is one of the crazy things about HTML5 validation :).</p><p>In short, I think this may be a bug in Symfony - these areas can be quite complex: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fpull%2F17760%3Adnu26E_HCkMIo-tOK61YU7vwe5M&amp;cuid=1175718" rel="nofollow noopener">https://github.com/symfony/sym...</a>. These types of things aren't easy to fix without breaking backwards compatibility.</p><p>So, that's the short answer :). And other than the HTML5 issue, Symfony is really doing the correct thing - it needs to somehow map our "true" and "false" to values, and 1 and an empty string are a valid way to do this (though "1" and "0" would have made more sense).</p><p>Thanks for the question about this - it was not something I had realized!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2751260926" id="dsq-comment-2751260926">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/grzegorzszaliski/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/10662/4460/avatar92.jpg?1466177876">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2751260926">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-06-26</span>
	                            <span class="dsq-commenter-name">Grzegorz Szaliński</span>
	                        </div>

	                        <div id="dsq-comment-message-2751260926" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2751260926" class="dsq-comment-text">
	                                <p>Hello,<br>I have a problem with the isPublished field. The HTML for options is generated as follows:<br></p><pre>&lt;option value="1"&gt;Yes&lt;/option&gt;<br>&lt;option value="" selected="selected"&gt;No&lt;/option&gt;<br></pre><p></p><p>so, "false" is parsed as an empty string and the option is marked as default. On form submit, with "No" selected, the browser (Firefox 47.0) shows the balloon "Please select an item in the list". When "Yes" is selected there's no balloon.</p><p>When I change the field settings and map "Yes" to "1" and "No" to "0", it works:</p><p></p><pre>&lt;option value="1"&gt;Yes&lt;/option&gt;<br>&lt;option value="0"&gt;No&lt;/option&gt;<br></pre><p></p><p>Why is that?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_video_field-types-and-options';var disqus_url = 'https://knpuniversity.com/screencast/symfony-forms/field-types-and-options';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                                            </div>
                    <div class="pull-left-xs pull-right-md">
                                        <a class="btn btn-success"
           href="custom-entity-type-query#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                    </div>
                    <div class="pull-left addthis-module">
                        
    <div class="addthis_toolbox addthis_default_style js-analytics-addthis-wrapper addthis_32x32_style" addthis:url="http://knpuniversity.com/screencast/symfony-forms/field-types-and-options" addthis:title="Symfony Forms: Build, Render &amp; Conquer!">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../about">About</a></li>
                            <li><a class="knp-color-black" href="../../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
            <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_chapter',
            {"course":"symfony-forms","courseIsOwned":false,"chapter":"Field Types and Options","chapterNumber":6,"chapterIsFree":false}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../../assets/vendor/jquery-sticky/jquery.sticky.js"></script>
    <script type="text/javascript" src="../../assets/vendor/zeroclipboard/dist/ZeroClipboard.min.js"></script>
    <script type="text/javascript" src="../../js/CodeBlocks.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/underscore.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/doctools.js"></script>

    <script>
        Core.courseTitle = 'Symfony Forms: Build, Render &amp; Conquer!';
        Core.courseId = 77
        Core.courseIsOwned = false;
        Core.courseSlug = 'symfony-forms';
                    Core.chapterTitle = 'Field Types and Options';
            Core.chapterNumber = 6;
            Core.chapterIsFree = false;
            Core.chapterSlug = 'field-types-and-options';
        
                var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '1.0.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };

        jQuery(document).ready(function() {
            // Stick left sidebar menu
            $('.js-sticker').sticky();

            var $scriptWrapper = $('.js-script-content-wrapper');
            var codeBlocks = new Core.CodeBlocks($scriptWrapper);

            var expandList = $('.js-expand-list');

            expandList.on('click', function(){
                var target = $(this).data('target');
                var $expandArea = $('#' + target);
                $expandArea.toggleClass('expanded');

                // http://stackoverflow.com/questions/2868582/click-outside-menu-to-close-in-jquery
                $(document).one('click', function closeExpandList (e){
                    if($expandArea.has(e.target).length === 0){
                        $expandArea.removeClass('expanded');
                    } else {
                        $(document).one('click', closeExpandList);
                    }
                });
            });
        });
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>



    <script type="text/javascript">
    var addthis_share = {
        templates: {
            twitter: '{{title}} - {{url}} | via @KnpUniversity'
        }
    }
</script>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=weaverryan"></script>

</body>
</html>
