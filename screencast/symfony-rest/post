<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
            <script src="https://cdn.optimizely.com/js/421270022.js"></script>
    
                    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>POST To Create > Symfony RESTful API: Course 1 | KnpUniversity</title>

                    <link href="../../builds/main-db6835bf19d99bcc09032789f3bd39e4.css" rel="stylesheet">

        <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/tomorrow-night.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/tomorrow-night.min.css">


        <link rel="stylesheet" href="../../builds/code_block_styles-2d783e385d9dbb1ef88d9053d1b8d675.css">



    <link href="../../builds/video-6b5fa6dfb768239b226d39d08bd4867e.css" rel="stylesheet">

                        <script src="../../bundles/fosjsrouting/js/router.js"></script>

        <script src="../../builds/main-1dfa89b76a105f9c2d98.js"></script>
        <script src="../../js/routing?callback=fos.Router.setData"></script>
            

    <script>
        // video settings
        window.video = {
            isCourseChapterPaid: true,
            courseChapterId: 41838
        };

                window.video.nextDetails = {
            'type': 'video',
            'title': 'Up Next: Finish\x20POST\x20with\x20a\x20Form <i class="fa fa-play"></i>',
            'url': '/screencast/symfony-rest/post-json-body#play'
        };
            </script>

    <script src="../../builds/video-1dfa89b76a105f9c2d98.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            var hashValue = window.location.hash.substr(1);
            if (hashValue.substr(0, 7) == 'comment') {
                // this is a #comment link - open up the comment tab!
                $('.nav-tabs a[href="#tab-comment"]').click();
            }
        });
    </script>

    <link rel="alternate" type="application/rss+xml" title="Blog feed with technical articles around PHP and screencast and tutorial updates from KnpUniversity.com" href="http://feeds.feedburner.com/knpuniversity" />

    <meta name="description" content="In this series, we get to work: by building the same API in the
[REST series](http://knpuniversity.com/screencast/rest), but leveraging
all the amazing tools and libraries of the Symfony framework. If terminology
like representations, resources, and hypermedia are new to you, start
with the [REST series](http://knpuniversity.com/screencast/rest) and
then come back. And get ready to get your (API) mind blown.

In Course 1, we&#039;ll start quick with:

* Build your first functional POST endpoint
* Decoding the Request body
* Using forms to handle incoming data
* Writing tests for your API
* Handling data &quot;seeding&quot; for your tests
* GET, PUT, DELETE and PATCH endpoints
* Using the JMS Serializer
">

    <meta property="og:site_name" content="KnpUniversity - PHP and Symfony Video Tutorial Screencasts">
    <meta name="twitter:site" content="@KnpUniversity"><link rel="shortcut icon" href="../../assets/images/favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/images/favicon.png">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->    <meta property="og:title" content="POST To Create">
<meta property="og:description" content="In this series, we get to work: by building the same API in the
[REST series](http://knpuniversity.com/screencast/rest), but leveraging
all the amazing tools and libraries of the Symfony framework">
<meta property="og:url" content="http://knpuniversity.com/screencast/symfony-rest/post">
    <meta property="og:image" content="http://knpuniversity.com/imagine/course_video_poster_large/uploads/screencast/symfony-rest:a5dc486f568b17f2957f648b5f78a465396f48e4/rest-sf.png">

<meta name="twitter:card" content="summary">


                            
    </head>
<body data-user-id="" >
<nav class="navbar navbar-inverse nav-margin navbar-learning-layout">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-button collapsed" data-toggle="collapse" data-target="#js-navbar" aria-expanded="false" aria-controls="js-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../logout" class="navbar-brand">
                <span class="knp-color-blue">Knp</span>
                <span class="knp-color-white">University</span>
            </a>
        </div>
        <form class="navbar-form navbar-left navbar-form-border" role="search" method="GET" action="http://knpuniversity.com/search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search Tutorials" value="" name="q">

                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
        <div id="js-navbar" class="collapse-fix collapse navbar-right navbar-collapse">
            

<ul class="nav navbar-nav nav-narrowerOnSmall">
            <li><a href="../../checkout/subscription/team_yearly/5" title="Cart"><i class="fa fa-shopping-cart"></i></a></li>
        <li class="dropdown"><a href="post#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="../../tracks.1">Tracks</a></li>
          <li><a href="../../courses/all">All Courses</a></li>
        </ul>
    </li>
            <li><a href="../../pricing.1">Pricing</a></li>
        <li><a href="../../training">Training</a></li>
                <li class="visible-xs"><a href="../../logout">My Profile</a></li>
        <li class="visible-xs"><a href="../../logout">Sign Out</a></li>

            <li><a href="../../login.1">Log In</a></li>
        <li class="btn btn-sm btn-warning signup-btn"><a class="signup" href="../../signup/index.html">Sign Up</a></li>
    </ul>

        </div>
    </div>
</nav>


    




<div class="table-contents-container">
  <div class="container expandList" id="js-chapter-list">
      <button class="table-contents-container-button js-expand-list" data-target="js-chapter-list" title="Chapter List">
          <i class="fa fa-bars"></i>
                        1.
                            POST To Create
                </button>
      <div class="expandList-body">
          <div class="expandList-bodyInner">
              <h3 class="expandList-header">
                  <a class="course-title-expand" href="resume">Symfony RESTful API: Course 1</a>
              </h3>

                                <div class="watched-tut-progress-container watched-tut-progress-container-overview">
        <div class="watched-tut-progress-overview" style="width: 0%; margin-right: 100%;" title="0% complete"><span class="profile-progress-title">0%</span></div>
    </div>


              
              <div class="expand-chapter-list">
                      
    
    <!-- Table of contents -->
    <div class="chapter-list">
        <ul class="list-unstyled">
            
                
                                <li class="title chapter-list-item chapter-list-item-active">
            <a href="post" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                1.
                        POST To Create
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 7:47</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="post-json-body" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                2.
                        Finish POST with a Form
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:42</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="form-post" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                3.
                        Handling data with a Form
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:03</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="get-one" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                4.
                        GET one Programmer
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:20</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="tightening-up-response" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                5.
                        Tightening up the Response
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:51</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="get-collection" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                6.
                        GET a Collection of Programmers
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:24</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="first-test" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                7.
                        Add a Test!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:00</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="test-code-reuse" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                8.
                        Test Code Reuse
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:31</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="tests-clear-data" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                9.
                        Tests with the Container
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 4:23</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="mad-test-debugging" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                10.
                        Mad Test Debugging
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:03</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="property-access-fixtures" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                11.
                        Test Fixtures and the PropertyAccess Component
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 6:24</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="response-asserter" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                12.
                        The ResponseAsserter!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 6:21</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="test-database" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                13.
                        Using a Test Database
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 6:52</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="put-programmer" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                14.
                        PUT is for Updating
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 6:41</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="readonly-fields" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                15.
                        Read-Only Fields
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:26</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="delete-programmer" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                16.
                        DELETE is for Saying Goodbye
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:59</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="patch-programmer" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                17.
                        PATCH is (also) for Updating (basically)
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 3:18</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="serializer-basics" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                18.
                        Using a Serializer
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:47</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="centralizing-response" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                19.
                        Centralize that Response!
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 2:40</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


            
                
                                <li class="title chapter-list-item ">
            <a href="serializer-control" class="">
                <div class="row">
                    <div class="col-xs-9">
                                                20.
                        Taking Control of the Serializer
                                            </div>

                                    <div class="col-xs-3 text-right">
                        <span> 5:21</span>
                    </div>
                                </div>
            </a>
            <div class="row">
                <div class="col-xs-12">
                                    </div>
            </div>
        </li>


                    </ul>
    </div>

    
              </div>
          </div>
      </div>
  </div>
  <div>
                <a href="../../pricing/symfony-rest" class="btn btn-success pull-right-md download-buy-buttons">Buy <span class="hidden-xs">Access to Course</span></a>
              </div>
</div>


        <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-9 col-lg-10">
                <h1 class="account-header account-header-low-margin-top">POST To Create</h1>
                
                                    <p class="hidden-xs">
                        Course:
                        <a class="knp-color-black" href="resume"><em>Symfony RESTful API: Course 1 Tutorial</em></a>                    </p>
                            </div>
        </div>

                <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="full-block-container">
                    <div class="frame-padding">
                        <div id="player">
                                                        <div class="hidden alert alert-danger js-video-not-supported" style="margin-bottom: 10px;">
        <h4>Video not working?</h4>
        It looks like your browser may not support the H264 codec.
        If you're using Linux+Firefox, try a different browser or try
        installing the
        <code>gstreamer0.10-ffmpeg</code>
        <code>gstreamer0.10-plugins-good</code> packages.
        <br/><br/>
        Thanks! This saves us
        from needing to use Flash or encode videos in multiple formats. And that
        let's us get back to making more videos :). But as always, please feel
        free to <a href="../../contact">message us</a>.
    </div>

    <video id="js-video-player" class="video-js vjs-default-skin vjs-big-play-centered "
            controls preload="auto" width="auto" height="auto"
            poster="http://i.vimeocdn.com/video/536922068_960x600.jpg?r=pad">
        <source src="http://player.vimeo.com/external/140193423.hd.mp4?s=b5a10f0cb4dd282cf7120977b931cc4c2aa39845&amp;profile_id=113&amp;oauth2_token_id=308801954" type="video/mp4" data-res="HD" data-default="true" />
        <source src="http://player.vimeo.com/external/140193423.sd.mp4?s=738c090cb1a66c9fe481afeeb7adfcf4b7e0866a&amp;profile_id=112&amp;oauth2_token_id=308801954" type="video/mp4" data-res="SD" />
        <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading to a web browser that
            <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
        </p>
    </video>


                            <div class="end-show js-post-play-wrapper" style="display: none;">
                                <p class="end-show-header">You're Killing it!</p>

                                <div class="text-center overlay-btn">
                                    <!-- This is filled in via JS -->
                                    <a href="post#" class="btn btn-lg btn-warning js-next-item-anchor"></a>
                                    <div class="js-all-finished-holder" style="display: none; color: #fff;">
                                        Another Tutorial down!<br/><br/>
                                                                                    <a href="../tag/symfony" class="btn btn-lg btn-success">Back to the <i>Symfony 3</i> Track</a>
                                                                            </div>
                                </div>

                                <p class="end-show-link js-video-repeat"><a class="knp-color-white link-no-underline" href="post#">
                                    <i class="fa fa-repeat"></i> Watch again
                                </a></p>
                            </div>
                                                </div>
                    </div>
                </div>
            </div>
        </div>
         
        <div class="row">
            <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="pull-right">
                                    <a class="btn btn-success"
           href="post-json-body#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                </div>

                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a data-toggle="tab" href="post#tab-script">Script</a></li>
                    <li><a data-toggle="tab" href="post#tab-comment">
                        <i class="fa fa-comment-o"></i>
                                                    
                                                                                                (25+)
                                                                                        Conversation
                                            </a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="tab-script">
                        <div class="js-script-content-wrapper top-margin-script markdown-content">
                                                                                        <a href="https://github.com/knpuniversity/symfony2-rest/edit/master/knpu/episode1/post.md" target="_blank" class="btn btn-default btn-circle pull-right js-tooltip" title="Edit on GitHub"><span class="fa fa-pencil"></span></a>
                                                                    <p>Well hey guys! I've wanted to write this series for <em>years</em>, and now that
it's here, I'm so <em>pumped</em>! That's because even though building an API can be
really tough, the system we're about to build feels simple, and really a bit
beautiful.</p>
<p>We have another REST series on the site where we build the API in Silex and
learn the short list of REST concepts like resources, representations,
what status codes to return, what headers to set, how to format your JSON
and a few other buzzwords like hypermedia, HATEOAS and of course, don't forget
about our favorite: idempotency.</p>
<p>But in this series, I'll assume you have a basic grasp of this stuff and
we'll get straight to work. If you're confused by a term, head back to
that series to fill in any gaps.</p>
<h2 id="the-project">The Project <a class="headerlink" href="post#the-project" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Ok, I've got the "start" directory for the project downloaded, I've configured
<code>parameters.yml</code> and I've already run <code>composer install</code>. So let's launch
the built-in web server:</p>
<pre><code class="language-bash"><div class="line">php app/console server:start</div></code></pre>
<p>Hey, it's Code Battles! This is the same awesome project we built in Silex 
for the other REST series. It already has a slick web interface - so we're 
going to build the API. To make sure we can login, let's create the database 
and load the fixtures:</p>
<pre><code class="language-bash"><div class="line">php app/console doctrine:database:create</div><div class="line">php app/console doctrine:schema:create</div><div class="line">php app/console doctrine:fixtures:load</div></code></pre>
<p>Now login with a fixtures user: <code>weaverryan</code> and the very secure password
<code>foo</code>.</p>
<h2 id="the-code-battles-web-interface">The Code Battles Web Interface <a class="headerlink" href="post#the-code-battles-web-interface" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>To understand the API we're going to build, let me give you a quick 60-second tour.
And please keep your hands and arms inside the project at all times.</p>
<p>The first resource is a programmer, and we start by creating one. Give it
a name, a clever tag line, choose one of the avatars and compile! Next, a
programmer has energy, and you can change that by powering them up. Sometimes
good things happen that give you power, sometimes bad things happen -- like a
case of the Mondays.</p>
<p>With some power, you can start a battle. These are projects, and projects
are the second resource. And when you select one, it creates our third resource:
a battle. Our programmer killed it! Each battle is between one programmer resource
and one project resource. On the homepage, you can see a list of all the battles our
programmer has bravely fought.</p>
<h2 id="post-to-api-programmers">POST to /api/programmers <a class="headerlink" href="post#post-to-api-programmers" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>So where do we start with the API? Well, other than logging in - which we'll
talk about later - the first thing we do on the web is create the programmer.
That's where we should start. Building an API is no different than building
for the web: you need to step back and <em>think</em> about your user-flow and build
things piece-by-piece in that order.</p>
<p>Open up <code>app/config/routing.yml</code>. I'm loading annotation routes from a <code>Controller/Web</code>
sub-directory. I put all my web stuff there because now I can create an <code>Api</code> directory
right next it and keep things organized.</p>
<p>In <code>routing.yml</code>, I'll keep two separate route imports: one for <code>Web/</code> and I'll
add a new one for <code>Api/</code>. Trust me - this will come in handy later:</p>
<p><div class="code-block-wrapper" data-code-block-guid="9f34d08ba9">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
            
            8 lines <span class="meta-divider"></span> <span title="app/config/routing.yml">app/config/routing.yml</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="1"></td>
            <td class="blob-code"><span class="hljs-attr">app_web:</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="2"></td>
            <td class="blob-code"><span class="hljs-attr">    resource:</span> <span class="hljs-string">"@AppBundle/Controller/Web"</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="3"></td>
            <td class="blob-code"><span class="hljs-attr">    type:</span>     annotation</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="4"></td>
            <td class="blob-code"></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="5"></td>
            <td class="blob-code"><span class="hljs-attr">app_api:</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="6"></td>
            <td class="blob-code"><span class="hljs-attr">    resource:</span> <span class="hljs-string">"@AppBundle/Controller/Api"</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="7"></td>
            <td class="blob-code"><span class="hljs-attr">    type:</span>     annotation</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Now create the new <code>ProgrammerController</code> - and make it extend Symfony's
<code>Controller</code> like normal:</p>
<p><div class="code-block-wrapper" data-code-block-guid="c419a9544e">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-21" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            21 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/Api/ProgrammerController.php">src/AppBundle/Controller/Api/ProgrammerController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="1"></td>
            <td class="blob-code"><span class="hljs-meta">&lt;?php</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="2"></td>
            <td class="blob-code"></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="3"></td>
            <td class="blob-code"><span class="hljs-keyword">namespace</span> <span class="hljs-title">AppBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">Api</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="4"></td>
            <td class="blob-code"></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="5"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">Controller</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="6-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 6 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProgrammerController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="12-19" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 12 - 19
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="20"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Our first endpoint will be for <em>creating</em> Programmers, so let's start with
<code>public function newAction()</code>. Above it, setup the <code>@Route</code> annotation with
the URL <code>/api/programmers</code>. Let's also make it only respond to <code>POST</code> requests:</p>
<p><div class="code-block-wrapper" data-code-block-guid="9bff631b62">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-21" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            21 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/Api/ProgrammerController.php">src/AppBundle/Controller/Api/ProgrammerController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-4" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 4
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="5"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">Controller</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="6"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Sensio</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkExtraBundle</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Route</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="7"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Sensio</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkExtraBundle</span>\<span class="hljs-title">Configuration</span>\<span class="hljs-title">Method</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="8-9" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 8 - 9
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProgrammerController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="11"></td>
            <td class="blob-code"></span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code">    <span class="hljs-comment">/**</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@Route</span>("/api/programmers")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="14"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@Method</span>("POST")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="15"></td>
            <td class="blob-code">     */</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="16"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newAction</span><span class="hljs-params">()</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="17"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="18-18" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... line 18
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="19"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="20"></td>
            <td class="blob-code">}</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<h3 id="url-structures-and-http-methods">URL Structures and HTTP Methods <a class="headerlink" href="post#url-structures-and-http-methods" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Ok, we just made 2 interesting architectural decisions:</p>
<p>First, we're going to start all our API URI's with <code>/api</code>. That's opinionated,
and RESTfully speaking, it's wrong. REST says that if we want to return an
HTML <em>or</em> JSON representation of a programmer resource, we should have just
<em>one</em> URI - like <code>/programmers/HappyCoderCat</code>. This one URI should be able
to return both formats based on a header the client sends.</p>
<p>If you want to do this, awesome - go for it! But it's not easy to do, and
I'm not sure it's worth it. That's why we've separated the <code>Web</code> and <code>Api</code>
stuff into different controllers and URIs. Now we can focus <em>just</em> on getting
our API right.</p>
<p>The second architectural decision we made was to create a new resource 
by sending a POST request to that resource's collection URI - so <code>/api/programmers</code>. 
If you're curious why, watch our other screencast and learn about idempotency. 
And, in REST, you can make your URLs look however you want. But in practice, we're going to
use a very consistent pattern. Because even though you can make your URLs
super weird you probably shouldn't.</p>
<h3 id="testing-the-post-endpoint">"Testing" the POST Endpoint <a class="headerlink" href="post#testing-the-post-endpoint" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>We'll return a new <code>Response</code> from the controller: Let's do this!</p>
<p><div class="code-block-wrapper" data-code-block-guid="ab233ae24b">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-21" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            21 lines <span class="meta-divider"></span> <span title="src/AppBundle/Controller/Api/ProgrammerController.php">src/AppBundle/Controller/Api/ProgrammerController.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-7" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 7
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="8"></td>
            <td class="blob-code"><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="9-11" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 9 - 11
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code">    <span class="hljs-comment">/**</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@Route</span>("/api/programmers")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="14"></td>
            <td class="blob-code">     * <span class="hljs-doctag">@Method</span>("POST")</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="15"></td>
            <td class="blob-code">     */</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="16"></td>
            <td class="blob-code">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newAction</span><span class="hljs-params">()</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="17"></td>
            <td class="blob-code">    </span>{</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="18"></td>
            <td class="blob-code">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(<span class="hljs-string">'Let\'s do this!'</span>);</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="19"></td>
            <td class="blob-code">    }</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="20-21" data-last="1">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 20 - 21
                            </td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Ok, so the easy days of just refreshing our browser to try this out are gone:
we can't POST here directly in a browser. Now, a lot of people use Postman
or something like it to test their API. And while it's great, I think there's
a better way.</p>
<p>For now, create a new file - <code>testing.php</code> - right at the root of the project.
Inside, require Composer's autoloader:</p>
<p><div class="code-block-wrapper" data-code-block-guid="2f869af994">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-16" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            16 lines <span class="meta-divider"></span> <span title="testing.php">testing.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="1"></td>
            <td class="blob-code"><span class="hljs-meta">&lt;?php</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="2"></td>
            <td class="blob-code"></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="3"></td>
            <td class="blob-code"><span class="hljs-keyword">require</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">'/vendor/autoload.php'</span>;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="4-16" data-last="1">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 4 - 16
                            </td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>We're going to use the <a href="http://guzzle.readthedocs.org">Guzzle</a> library to
hit our new endpoint and make sure it's working. I already installed it into
the project - so go directly to <code>$client = new Client([])</code> and pass it some
configuration:</p>
<p><div class="code-block-wrapper" data-code-block-guid="8eb7e0227d">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-16" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            16 lines <span class="meta-divider"></span> <span title="testing.php">testing.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-4" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 4
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="5"></td>
            <td class="blob-code">$client = <span class="hljs-keyword">new</span> \GuzzleHttp\Client([</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="6"></td>
            <td class="blob-code">    <span class="hljs-string">'base_url'</span> =&gt; <span class="hljs-string">'http://localhost:8000'</span>,</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="7"></td>
            <td class="blob-code">    <span class="hljs-string">'defaults'</span> =&gt; [</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="8"></td>
            <td class="blob-code">        <span class="hljs-string">'exceptions'</span> =&gt; <span class="hljs-keyword">false</span></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="9"></td>
            <td class="blob-code">    ]</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="10"></td>
            <td class="blob-code">]);</td>
            </tr>
    <tr>
                    <td class="line-number line-number-expandable" data-range="11-16" data-last="1">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 11 - 16
                            </td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<div class="admonition tip"><p class="admonition-title"><span class="fa fa-lightbulb-o"></span> Tip</p><p>To install this same version of Guzzle into your project, use Composer to fetch
version 5.*:</p>
<pre><code class="language-bash"><div class="line">composer require guzzlehttp/guzzle:~5.0</div></code></pre>
</div><p>The first is <code>base_url</code> set to <code>localhost:8000</code>. Next, pass it a <code>defaults</code>
key - these are options that'll be passed, by default, to each request.
Set one option - <code>exceptions</code> - to <code>false</code>. Normally, if our server returns
a 400 or 500 status code, Guzzle blows up with an Exception. This makes it
act normal - it'll return a Response <em>always</em>. Trust me, that's nice!</p>
<p>Now make the request - <code>$response = $client-&gt;post('/api/programmers')</code>. Echo
the <code>$response</code> - it's an object, but has a really pretty <code>__toString</code> method
on it:</p>
<p><div class="code-block-wrapper" data-code-block-guid="e65cc196c7">
    <div class="meta">
        <div class="actions">
            <span class="fa fa-clipboard js-activate-clipboard" data-toggle="tooltip" title="Copy Code" data-placement="top"></span>
        </div>
        <div class="info">
                        <span class="js-expand-all" data-range="1-16" data-toggle="tooltip" title="Show All Lines" data-placement="top">
                <i class="fa fa-expand js-icon-load-more"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </span>
            
            16 lines <span class="meta-divider"></span> <span title="testing.php">testing.php</span>
        </div>
    </div>
    <table class="hljs code-block-table">
        <tbody class="js-tr-container">
                <tr>
                    <td class="line-number line-number-expandable" data-range="1-11" data-last="0">
                <i class="fa fa-arrows-v js-icon-load-more" data-toggle="tooltip" title="Show Lines" data-placement="left"></i>
                <i class="fa fa-spinner fa-spin js-icon-loading"></i>
            </td>
            <td class="gap-line">
                                                    ... lines 1 - 11
                            </td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="12"></td>
            <td class="blob-code">$response = $client-&gt;post(<span class="hljs-string">'/api/programmers'</span>);</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="13"></td>
            <td class="blob-code"></td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="14"></td>
            <td class="blob-code"><span class="hljs-keyword">echo</span> $response;</td>
            </tr>
    <tr>
                    <td class="line-number line-number-displayed" data-line-number-displayed="15"></td>
            <td class="blob-code"><span class="hljs-keyword">echo</span> <span class="hljs-string">"\n\n"</span>;</td>
            </tr>

        </tbody>
    </table>
</div>
</p>
<p>Try it by hitting this file from the command line:</p>
<pre><code class="language-bash"><div class="line">php testing.php</div></code></pre>
<p>Ok, let's fill in the guts and make this work!</p>

    
                        </div>
                    </div>
                    <div class="tab-pane" id="tab-comment">
                        <h3>Leave a comment!</h3>
                                                        <div id="disqus_thread">
                <style type="text/css">
            #dsq-comments {padding: 10px 0 0}
            .dsq-comment {position: relative;clear: both;margin: 0 0 1.5em;}
            .dsq-avatar {left: 0;position: absolute;}
            .dsq-avatar img {border: 0 none;border-radius: 3px;height: 36px;width: 36px;}
            .dsq-comment-body {padding: 0 0 0 46px;}
            .dsq-comment-header {border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 3px;font-size: 13px;line-height: 14px;margin: 0 0 1em;max-height: 36px;overflow: hidden;padding: 10px;position: relative;text-overflow: ellipsis;white-space: nowrap;}
            .dsq-comment-message {word-wrap: break-word;}
            .dsq-comment-message {line-height: 1.5em;margin: 0 0 1em;}
            .dsq-comment-text {display: inline;}
            .dsq-comment-date {float: right;font-size: 90%;margin: 0 12px 0 0;}
        </style>

	    <div id="dsq-content">
	        <ul id="dsq-comments">
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3060808549" id="dsq-comment-3060808549">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_KfkemKpZmW/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3060808549">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-20</span>
	                            <span class="dsq-commenter-name">emm</span>
	                        </div>

	                        <div id="dsq-comment-message-3060808549" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3060808549" class="dsq-comment-text">
	                                <p>Thank you pointing in the right direction! Although by just changing only the nginx/sites-enabled/<a href="http://disq.us/url?url=http%3A%2F%2Frestexample.dev%3Amm44IqMCIzYWrCMe8XCrBR8mVeA&amp;cuid=1175718" rel="nofollow noopener">restexample.dev</a> i had some troubles (404 errors) with testing env because i think the real path was "domain/app_dev.php/app_test.php/api/whatever" but Victors(knp) advice in video13/course1 helped me. i will try to manipulate paths from .htaccess from now on but so long all ok.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3059835180" id="dsq-comment-3059835180">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3059835180">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-19</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-3059835180" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3059835180" class="dsq-comment-text">
	                                <p>Awesome! So, whether or not you need the app_dev.php is *all* about your web server :). Ultimately, if you want the "dev" environment to be executed, then the web/app_dev.php must be executed. As I mentioned earlier, if you use the built-in web server with Symfony, it pre-configures things so that you *don't* need the app_dev.php at the beginning of all of the URLs: if there is no file in the URL, then it is "rewritten" to use app_dev.php. If you use Apache, for example, you could setup rewrite rules locally to do the same. In fact, there is a web/.htaccess file that sets up rewrite rules in Apache so that app.php is used by default (which is what you want in production). I know a lot of people that setup their web server locally to automatically rewrite to app_dev.php so that they don't need to have it in their URL.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="3057894971" id="dsq-comment-3057894971">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_KfkemKpZmW/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-3057894971">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-12-18</span>
	                            <span class="dsq-commenter-name">emm</span>
	                        </div>

	                        <div id="dsq-comment-message-3057894971" class="dsq-comment-message">
	                            <div id="dsq-comment-text-3057894971" class="dsq-comment-text">
	                                <p>That helped me!! i couldn't navigate the website so i changed nginx to serve app_dev.php and its working. But isn't there a way to prepend all routes with /app_dev.php within symfony?</p><p>thanks!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2936614382" id="dsq-comment-2936614382">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2936614382">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-06</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2936614382" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2936614382" class="dsq-comment-text">
	                                <p>Hey Maksym!</p><p>We have it because it's still relevant (the changes from Symfony 2 to 3 - other than the directory structure changes - are quite minor). We have a few other things on the Symfony 3 track that are done with later versions of Symfony 2, but are still relevant. And in this case, we *do* switch to Symfony 3 during Course 4 - so the series is a bit mixed!</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2936156024" id="dsq-comment-2936156024">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/maksymminenko/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/9741/646/avatar92.jpg?1473824449">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2936156024">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-10-06</span>
	                            <span class="dsq-commenter-name">Maksym Minenko</span>
	                        </div>

	                        <div id="dsq-comment-message-2936156024" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2936156024" class="dsq-comment-text">
	                                <p>Why is this on the Symfony *3* track, I wonder?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2880304801" id="dsq-comment-2880304801">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/bocharsky25/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11445/2822/avatar92.jpg?1482506193">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2880304801">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-07</span>
	                            <span class="dsq-commenter-name">Victor Bocharsky</span>
	                        </div>

	                        <div id="dsq-comment-message-2880304801" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2880304801" class="dsq-comment-text">
	                                <p>Hey Prakash,</p><p>Everything is mostly the same. First of all you need to upgrade composer dependencies according to the Symfony 3. To do that, you should ensure that bundles you use in project support Symfony 3.x, check its composer.json file to see <code>symfony/framework-bundle: ^2.0 || ^3.0</code>. If you see "^3.0" - it should work and you can do upgrade.<br>P.S. Don't forget to fix all deprecations in 2.8 before upgrading. We have a tutorial about it: <a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fsymfony3-upgrade%3A3Sagu0tP3p4ADm7jGeSkbrXn0iU&amp;cuid=1175718" rel="nofollow noopener"><br>How to Upgrade to Symfony 2.8, then 3.0</a>.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2878609618" id="dsq-comment-2878609618">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/padmane/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2878609618">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-09-06</span>
	                            <span class="dsq-commenter-name">Prakash</span>
	                        </div>

	                        <div id="dsq-comment-message-2878609618" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2878609618" class="dsq-comment-text">
	                                <p>Hello how i do the REST API with syfmony 3.* version. currently example is with symfony 2.6. how i can migtae to syfmony 3?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2855610130" id="dsq-comment-2855610130">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2855610130">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-23</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2855610130" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2855610130" class="dsq-comment-text">
	                                <p>Hey <a data-dsq-mention="andjii:disqus" href="https://disq.us/url?url=https%3A%2F%2Fdisqus.com%2Fby%2Fandjii%2F%3Am0MBzIbBu5t3B6YqzdoGDduDmQs&amp;cuid=1175718" rel="nofollow noopener">Andjii</a>!</p><p>The tutorial uses guzzle/guzzle version 3.7, not guzzlehttp/guzzle at version 6 (which I'm guessing you are using). You can use the old, guzzle/guzzle just fine, or use the new library. But in that case, you'll need to do a little bit of translating for the new version of the library. Check out this comment for a few more details, including a gist with a version of testing.php that should work with the latest version :). <a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Frest%2Fpost%23comment-2298542838%3Avs_oVUdOvYvn0RfPaod6nOzoTtw&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a></p><p>But, to finally answer your question, you can't just echo the $response in Guzzle 6 (as you know), but you *can* print the body:</p><p><code><pre>echo $response-&gt;getBody();<br></pre></code></p><p>In some ways, the new version of the library is not as user-friendly as the old version. You can also check out this Response debugging function that we use in the Symfony REST tutorial: <a href="https://disq.us/url?url=https%3A%2F%2Fgist.github.com%2Fweaverryan%2F8bcf209fe11290b01185195280661e97%23file-apitestcase-php-L130%3ALV_g3iZ0Pm-VB2u9jhHiGKfLor8&amp;cuid=1175718" rel="nofollow noopener">https://gist.github.com/weaver...</a></p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2854825497" id="dsq-comment-2854825497">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/andjii/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/12544/2740/avatar92.jpg?1482285604">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2854825497">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-23</span>
	                            <span class="dsq-commenter-name">Andjii</span>
	                        </div>

	                        <div id="dsq-comment-message-2854825497" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2854825497" class="dsq-comment-text">
	                                <p>Hello! I get the following error: Catchable fatal error: Object of class GuzzleHttp\Psr7\Response could not be converted to string in \testing.php on line 37. there is "echo $response". how should I convert my response object to string?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2844207059" id="dsq-comment-2844207059">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2844207059">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2844207059" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2844207059" class="dsq-comment-text">
	                                <p>Hey John!</p><p>Yep - there are a few libraries that still work fine, but are older versions at this point. The only one that I know is actually *deprecated* is Guzzle. We use guzzle/guzzle at version 3, but the latest version os guzzlehttp/guzzle (yes it has a different name now) at version 6! We don't technically use this library for the API... but we do use it for *testing* the API. In the Symfony REST tutorial - starting on episode 4 (<a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Frest%2Fpost%23comment-2843200607%29%3A8KMYnDWW9zbwXNsvqRLcnZOwrkA&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a> we use the latest and greatest version 6. So, if you're curious about the differences, you can compare. Otherwise, if you're here for the API stuff, I wouldn't worry about it :).</p><p>About the 404 on the Font file, I'm not sure about that. If you download the starting code, there *is* a web/vendor/font-awesome/fonts/fontawesome-webfont.ttf file in the project - so it should be loading this just fine. It shouldn't affect anything either way (you might just be missing some cute icons) but the 404 is mysterious!</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2843200607" id="dsq-comment-2843200607">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_mhQCMEc0zn/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/21828/2434/avatar92.jpg?1475523927">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2843200607">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-08-17</span>
	                            <span class="dsq-commenter-name">John</span>
	                        </div>

	                        <div id="dsq-comment-message-2843200607" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2843200607" class="dsq-comment-text">
	                                <p>When I did a composer install, I did receive a ton of deprecation notices. But the app runs except in the browser console it says GET http://localhost:8000/vendor/font-awesome/fonts/fontawesome-webfont.ttf?v=4.0.3 404 (Not Found)</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2721966463" id="dsq-comment-2721966463">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2721966463">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-06-09</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2721966463" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2721966463" class="dsq-comment-text">
	                                <p>Good find Vlad! That is a pretty subtle difference between the old and new version of Guzzle. Thanks for sharing!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2719312209" id="dsq-comment-2719312209">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="post">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2719312209">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-06-08</span>
	                            <span class="dsq-commenter-name">Vlad</span>
	                        </div>

	                        <div id="dsq-comment-message-2719312209" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2719312209" class="dsq-comment-text">
	                                <p>Thanks Ryan! Changing base_url to base_uri fixed the issue for me. I'm using Guzzle 6.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2681268992" id="dsq-comment-2681268992">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2681268992">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2681268992" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2681268992" class="dsq-comment-text">
	                                <p>Nice catch!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2681268586" id="dsq-comment-2681268586">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2681268586">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-18</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2681268586" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2681268586" class="dsq-comment-text">
	                                <p>Hi Roberto!</p><p>Actually, I would argue that testing.php is not better than Postman :). However, we will soon (in the next chapters in this tutorial) take the code from testing.php and turn them into true functional tests for our API. I believe this *is* better than Postman, because we now have a test suite that we can run at any time.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2678776764" id="dsq-comment-2678776764">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_idpJQYpFjJ/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20654/9029/avatar92.jpg?1478365637">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2678776764">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-16</span>
	                            <span class="dsq-commenter-name">Thierno Diop</span>
	                        </div>

	                        <div id="dsq-comment-message-2678776764" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2678776764" class="dsq-comment-text">
	                                <p>oki its good it was because in scurity.yml the A in api was writen in capital</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2678768063" id="dsq-comment-2678768063">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_idpJQYpFjJ/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/20654/9029/avatar92.jpg?1478365637">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2678768063">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-16</span>
	                            <span class="dsq-commenter-name">Thierno Diop</span>
	                        </div>

	                        <div id="dsq-comment-message-2678768063" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2678768063" class="dsq-comment-text">
	                                <p>when i execute the testing.php file i am redirected to the login page is it normal ?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2674633570" id="dsq-comment-2674633570">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/robertobriones31/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/17783/4979/avatar92.jpg?1478828838">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2674633570">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-05-13</span>
	                            <span class="dsq-commenter-name">Roberto Briones Argüelles</span>
	                        </div>

	                        <div id="dsq-comment-message-2674633570" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2674633570" class="dsq-comment-text">
	                                <p>Why is better option to use the `testing.php` file instead Postman? Seems dirty to me.</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2586300770" id="dsq-comment-2586300770">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/disqus_lezyHGbrGt/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/7024/8475/avatar92.jpg?1413434109">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2586300770">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-24</span>
	                            <span class="dsq-commenter-name">cool</span>
	                        </div>

	                        <div id="dsq-comment-message-2586300770" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2586300770" class="dsq-comment-text">
	                                <p>im sorry but i have to say this, her voice is too sweet for the tutorial. it almost put me to sleep</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2573141613" id="dsq-comment-2573141613">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2573141613">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-16</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2573141613" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2573141613" class="dsq-comment-text">
	                                <p>Hi Scott!</p><p>Because you're using Symfony, if you use the built-in web server command from Symfony (php app/console server:run) it will start a built-in web server where it *defaults* to using app_dev.php - without you needing to have it in the URL. Alternatively, you can setup any other web server locally to have the same behavior.</p><p>BUT, more generally, we do talk about this in our Symfony REST tutorial. In our tests, we use a hook into Guzzle that automatically prepends the URL: <a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fsymfony-rest%2Ftest-database%3Anl4zOecfAilIilRp362NxgB9CDY&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a>. In episode 4 (which I'm recording right now), I've updated the code that hooks into Guzzle to work for Guzzle version 6: <a href="http://disq.us/url?url=http%3A%2F%2Fknpuniversity.com%2Fscreencast%2Fsymfony-rest4%3AIH2jcSiQAkXYCTXZ5cgdHZasqfo&amp;cuid=1175718" rel="nofollow noopener">http://knpuniversity.com/scree...</a></p><p>I hope that helps - good question!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2571741485" id="dsq-comment-2571741485">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/scottgutman/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/11551/4587/avatar92.jpg?1406128191">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2571741485">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-03-15</span>
	                            <span class="dsq-commenter-name">Scott Gutman</span>
	                        </div>

	                        <div id="dsq-comment-message-2571741485" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2571741485" class="dsq-comment-text">
	                                <p>In my testing.php i had to make the line $response = $client-&gt;post('/app_dev.php/api/programmers');  How do I change that?</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2462608952" id="dsq-comment-2462608952">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/shairyarbaig/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/10592/9062/avatar92.jpg?1469787361">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2462608952">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-17</span>
	                            <span class="dsq-commenter-name">Shairyar Baig</span>
	                        </div>

	                        <div id="dsq-comment-message-2462608952" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2462608952" class="dsq-comment-text">
	                                <p>Hi, I ended up using the version mentioned in tutorial tip and that fixed the problem. </p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2461841267" id="dsq-comment-2461841267">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2461841267">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-16</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2461841267" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2461841267" class="dsq-comment-text">
	                                <p>Hey Shairyar!</p><p>Ah, the infamous "malformed URL" error - I get this a lot in my day-to-day work. Usually, it's because I've misconfigured the "base_uri" setting - so that when I request "/api/programmers", it literally tries to request this URI, instead of http://localhost:8000/api/programmers. Double check how you're setting the base_uri for whatever Guzzle version you're on. In Guzzle 5, I think the setting was base_url, and in 6, it's base_uri. Guzzle has been a tricky library lately, as many things have changed quickly.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2457367442" id="dsq-comment-2457367442">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/shairyarbaig/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/10592/9062/avatar92.jpg?1469787361">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2457367442">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2016-01-14</span>
	                            <span class="dsq-commenter-name">Shairyar Baig</span>
	                        </div>

	                        <div id="dsq-comment-message-2457367442" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2457367442" class="dsq-comment-text">
	                                <p>I am stuck at the same problem and the updated testing.php does not work either, if it helps this is the full error I am getting<br></p><pre><code><br>PHP Fatal error:  Uncaught exception 'GuzzleHttp\Ring\Exception\RingException' with message 'cURL error 3: &lt;url&gt; malformed' in /Users/shairyar/Sites/REST/vendor/guzzlehttp/ringphp/src/Client/CurlFactory.php:127<br>Stack trace:<br>#0 /Users/shairyar/Sites/REST/vendor/guzzlehttp/ringphp/src/Client/CurlFactory.php(91): GuzzleHttp\Ring\Client\CurlFactory::createErrorResponse(Array, Array, Array)<br>#1 /Users/shairyar/Sites/REST/vendor/guzzlehttp/ringphp/src/Client/CurlHandler.php(96): GuzzleHttp\Ring\Client\CurlFactory::createResponse(Array, Array, Array, Array, Resource id #78)<br>#2 /Users/shairyar/Sites/REST/vendor/guzzlehttp/ringphp/src/Client/CurlHandler.php(68): GuzzleHttp\Ring\Client\CurlHandler-&gt;_invokeAsArray(Array)<br>#3 /Users/shairyar/Sites/REST/vendor/guzzlehttp/ringphp/src/Client/Middleware.php(54): GuzzleHttp\Ring\Client\CurlHandler-&gt;__invoke(Array)<br>#4 /Users/shairyar/Sites/REST/vendor/guzzlehttp/ringphp/src/Client/Middleware.php(30): GuzzleHttp\Ring\Client\Middleware::GuzzleHttp\Ring\Client\{closure}(Array)<br>#5 /Users/shairyar/Sit in /Users/shairyar/Sites/REST/vendor/guzzlehttp/guzzle/src/Exception/RequestException.php on line 51<br><br>Fatal error: Uncaught exception 'GuzzleHttp\Ring\Exception\RingException' with message 'cURL error 3: &lt;url&gt; malformed' in /Users/shairyar/Sites/REST/vendor/guzzlehttp/guzzle/src/Exception/RequestException.php on line 51<br><br>GuzzleHttp\Exception\RequestException: cURL error 3: &lt;url&gt; malformed in /Users/shairyar/Sites/REST/vendor/guzzlehttp/guzzle/src/Exception/RequestException.php on line 51<br><br>Call Stack:<br>    0.0001     225136   1. {main}() /Users/shairyar/Sites/REST/testing.php:0<br>    0.0071    1314064   2. GuzzleHttp\Client-&gt;post() /Users/shairyar/Sites/REST/testing.php:21<br>    0.0092    1683720   3. GuzzleHttp\Client-&gt;send() /Users/shairyar/Sites/REST/vendor/guzzlehttp/guzzle/src/Client.php:150<br></code><br></pre><p></p><p></p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2363813095" id="dsq-comment-2363813095">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/noah_glaser/">
	                            	                                <img alt="" src="http://a.disquscdn.com/1479321018/images/noavatar92.png">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2363813095">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-11-17</span>
	                            <span class="dsq-commenter-name">Noah Glaser</span>
	                        </div>

	                        <div id="dsq-comment-message-2363813095" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2363813095" class="dsq-comment-text">
	                                <p>I did the http_errors is false and it worked for me.  Thank you<br>   'http_errors' =&gt; false</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2298542838" id="dsq-comment-2298542838">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/weaverryan/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/32/6480/avatar92.jpg?1482356913">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2298542838">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-09</span>
	                            <span class="dsq-commenter-name">weaverryan</span>
	                        </div>

	                        <div id="dsq-comment-message-2298542838" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2298542838" class="dsq-comment-text">
	                                <p>Yo Azeem!</p><p>I think you may be using a newer version of Guzzle than I am in the tutorial - I'm using 3.7 (which is quite old at this time). If you use something newer, you'll just need to translate a bit of the code. The full testing.php for the newest version of Guzzle would look something like this: <a href="https://disq.us/url?url=https%3A%2F%2Fgist.github.com%2Fweaverryan%2F345eb639a403b18afad2%3AznqM-oBQcwlqcb-4lt26sMt90Sg&amp;cuid=1175718" rel="nofollow noopener">https://gist.github.com/weaver...</a>. Warning - I just hacked that together, it's probably not 100% perfect :).</p><p>Or, you can use the 3.7 version - definitely the way to go if you just want to code through and learn the REST stuff.</p><p>Cheers!</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	                <li class="dsq-comment dsq-clearfix" data-dsq-comment-id="2297471214" id="dsq-comment-2297471214">
	                    <div class="dsq-avatar dsq-tt">
	                        <a href="https://disqus.com/by/waajibulcuddle/">
	                            	                                <img alt="" src="http://a.disquscdn.com/uploads/users/726/1779/avatar92.jpg?1444347389">
	                            	                        </a>
	                    </div>
	                    <div class="dsq-comment-body" id="dsq-comment-body-2297471214">
	                        <div class="dsq-comment-header">
	                            <span class="dsq-comment-date">2015-10-08</span>
	                            <span class="dsq-commenter-name">Azeem</span>
	                        </div>

	                        <div id="dsq-comment-message-2297471214" class="dsq-comment-message">
	                            <div id="dsq-comment-text-2297471214" class="dsq-comment-text">
	                                <p>getting this error when I run testing.php</p><p>Uncaught exception 'GuzzleHttp\Exception\RequestException' with message 'cURL error 3: &lt;url&gt; malformed (see <a href="http://disq.us/url?url=http%3A%2F%2Fcurl.haxx.se%2Flibcurl%2Fc%2Flibcurl-errors.html%29%27%3AXoS92LALAoR-7ZsM_QW11G6mD4w&amp;cuid=1175718" rel="nofollow noopener">http://curl.haxx.se/libcurl/c/...</a> in /Users/amichael/Public/www/justlikeme/vendor/guzzlehttp/guzzle/src/Handler/CurlFactory.php:187</p>
	                            </div>
	                        </div>
	                    </div>
	                </li>
	            	        </ul>
	    </div>
            </div>

    <script type="text/javascript">
    var disqus_shortname = 'knpuniversity';
    var disqus_container_id = 'disqus_thread';var disqus_developer = 1;var disqus_identifier = 'course_video_post';var disqus_url = 'https://knpuniversity.com/screencast/rest/post';var disqus_config = function () {};

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

                                            </div>
                    <div class="pull-left-xs pull-right-md">
                                        <a class="btn btn-success"
           href="post-json-body#play">
            Next Chapter <i class="fa fa-caret-right"></i>
        </a>
    
                    </div>
                    <div class="pull-left addthis-module">
                        
    <div class="addthis_toolbox addthis_default_style js-analytics-addthis-wrapper addthis_32x32_style" addthis:url="http://knpuniversity.com/screencast/symfony-rest/post" addthis:title="Symfony RESTful API: Course 1">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<footer class="footer footer-styling">
    <div class="container">
        <div class="row">
                        <div class="col-xs-7 col-sm-4">
                <div class="row">
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../courses/all">All Courses</a></li>
                                                            <li><a class="knp-color-black" href="../../pricing.1">Pricing</a></li>
                                                        <li><a class="knp-color-black" href="../../faq">FAQ</a></li>
                            <li><a class="knp-color-black" href="../../training">Training</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-6">
                        <ul class="list-unstyled footer-link">
                            <li><a class="knp-color-black" href="../../about">About</a></li>
                            <li><a class="knp-color-black" href="../../blog">Blog</a></li>
                            <li><a class="knp-color-black" href="../../contact">Contact Us</a></li>
                            <li>
                                <a class="knp-color-black" href="../../terms">Terms</a>
                                <span class="knp-color-black">&amp;</span>
                                <a class="knp-color-black" href="../../privacy">Privacy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hidden-xs col-sm-4">
                <p class="disclaimer">Symfony is a registered trademark of Fabien Potencier in the United States and/or other countries.
                This product is not endorsed or sponsored by Fabien Potencier.
                </p>
            </div>
            <div class="col-xs-5 col-sm-4">
                <div class="social-icons">
                    <a class="btn btn-social-icon btn-twitter" href="https://twitter.com/KnpUniversity">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/KnpLabs/">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a class="btn btn-social-icon btn-github" href="https://github.com/knpuniversity">
                        <i class="fa fa-github"></i>
                    </a>
                </div>
            </div>
                    </div>
    </div>
</footer>

<!-- JS -->
            <script>
        Core.analyticsVideoStatsUrl = '/api/analytics/video/duration';
    </script>

            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7062980-20']);
        _gaq.push(['_trackPageview']);
    </script>
    <script>
    
    </script>
    
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
                <script type="text/javascript">
      (function() {
        var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
        uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/pOay2WLVabhXiEffbarO6Q.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
      })();

      UserVoice = window.UserVoice || [];
      UserVoice.push(['showTab', 'classic_widget', {
          tab_position: 'bottom-right',
          tab_label: 'Ideas or Feedback?',
          tab_color: '#005E8E'
      }]);
    </script>
        
            
        <script type="text/javascript">
    var _sf_async_config={uid:54262,domain:"knpuniversity.com",useCanonical:true};
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
    </script>
    
            <script>
            (function(){
                var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
            })("woopra");

            woopra.config({
                domain: 'knpuniversity.com',
                download_tracking: true,
                outgoing_tracking: true
            });

                            woopra.identify({
                    userType: 'anonymous',
                    hasSubscription: 'no'
                });
                    </script>

        <script>
            woopra.track(
            'course_view_chapter',
            {"course":"symfony-rest","courseIsOwned":false,"chapter":"POST To Create","chapterNumber":1,"chapterIsFree":true}
        );
    </script>

        <script>
            woopra.track();
        </script>
     
        <script type="text/javascript">
    var _qevents = _qevents || [];

    (function() {
    var elem = document.createElement('script');
    elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
    elem.async = true;
    elem.type = "text/javascript";
    var scpt = document.getElementsByTagName('script')[0];
    scpt.parentNode.insertBefore(elem, scpt);
    })();

    _qevents.push({
    qacct:"p-8-SEHS37bhSQ0"
    });
    </script>

    <noscript>
    <div style="display:none;">
    <img src="http://pixel.quantserve.com/pixel/p-8-SEHS37bhSQ0.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
    </noscript>
    


    <script type="text/javascript" src="../../assets/vendor/jquery-sticky/jquery.sticky.js"></script>
    <script type="text/javascript" src="../../assets/vendor/zeroclipboard/dist/ZeroClipboard.min.js"></script>
    <script type="text/javascript" src="../../js/CodeBlocks.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/underscore.js"></script>
    <script type="text/javascript" src="../../bundles/knpuniversity/sphinx/js/doctools.js"></script>

    <script>
        Core.courseTitle = 'Symfony RESTful API: Course 1';
        Core.courseId = 58
        Core.courseIsOwned = false;
        Core.courseSlug = 'symfony-rest';
                    Core.chapterTitle = 'POST To Create';
            Core.chapterNumber = 1;
            Core.chapterIsFree = true;
            Core.chapterSlug = 'post';
        
                var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '1.0.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };

        jQuery(document).ready(function() {
            // Stick left sidebar menu
            $('.js-sticker').sticky();

            var $scriptWrapper = $('.js-script-content-wrapper');
            var codeBlocks = new Core.CodeBlocks($scriptWrapper);

            var expandList = $('.js-expand-list');

            expandList.on('click', function(){
                var target = $(this).data('target');
                var $expandArea = $('#' + target);
                $expandArea.toggleClass('expanded');

                // http://stackoverflow.com/questions/2868582/click-outside-menu-to-close-in-jquery
                $(document).one('click', function closeExpandList (e){
                    if($expandArea.has(e.target).length === 0){
                        $expandArea.removeClass('expanded');
                    } else {
                        $(document).one('click', closeExpandList);
                    }
                });
            });
        });
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>



    <script type="text/javascript">
    var addthis_share = {
        templates: {
            twitter: '{{title}} - {{url}} | via @KnpUniversity'
        }
    }
</script>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=weaverryan"></script>

</body>
</html>
